"use strict";function doesExist(e){if(null!=e)return!0}if(0<document.getElementsByClassName("llreplace").length){var allimages=document.getElementsByClassName("llreplace");allimages[allimages.length-1].addEventListener("load",lazyLoadController())}function lazyLoadController(){var t=document.getElementsByClassName("llreplace");function e(){for(var e=0;e<t.length;)inView(t[e])?(lazyLoadImage(t[e]),t[e].classList.remove("llreplace")):e++}e(),0<t.length&&window.addEventListener("scroll",function(){e()})}function inView(e){var t=e.getBoundingClientRect(),n=document.documentElement;return 0<=t.top&&-100<=t.left&&t.bottom<=620+(window.innerHeight||n.clientHeight)&&t.right<=2640+(window.innerWidth||n.clientWidth)}function lazyLoadImage(e){e.getAttribute("data-srcset")&&(e.setAttribute("srcset",e.getAttribute("data-srcset")),e.removeAttribute("data-srcset")),e.getAttribute("data-src")&&(e.setAttribute("src",e.getAttribute("data-src")),e.removeAttribute("data-src")),e.classList&&e.classList.add("reveal")}var ct,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function ready(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&e()})}var main=function(){menuNavigation(),mobileMenuScrollFix(),searchToggle(),enableActiveStateiOS(),rippleClick(),lightBox(),sizeTable(),footerMargin(),WidthChange(1100);var e=new scrollAnchors;if(scrollListenerCallBacks(t),e.init(),void 0!==document.getElementsByClassName("single")[0]&&null!=document.getElementsByClassName("single")[0]){catchAsideAd(),engagementBar(),calculateSidebar(1100),ct=new commentToggle;var t=void 0!==document.getElementsByClassName("how-to")[0]&&null!=document.getElementsByClassName("how-to")[0]&&window.innerWidth<560?new anchorMapScroller:null;carouselNav()}0<document.getElementsByClassName("social-sharing-controller").length&&new socialShareMaster;var n=document.querySelector(".load-more-wrap");null!=n&&void 0!==n&&new InfiniteScroll(n)};function isAdjacent(e,t){var n=document.querySelectorAll(e)[0],o=document.querySelectorAll(e+" + "+t)[0];return n.nextSibling.textContent.trim().length?n.nextSibling===o:n.nextElementSibling===o}function enableActiveStateiOS(){if(/iPad|iPhone|iPod/.test(navigator.userAgent))for(var e=document.querySelectorAll("html"),t=function(){},n=0;n<e.length;n++)e[n].addEventListener("touchstart",t,!1)}function debounce(o,i,a){var l;return function(){var e=this,t=arguments,n=a&&!l;clearTimeout(l),l=setTimeout(function(){l=null,a||o.apply(e,t)},i),n&&o.apply(e,t)}}function ForEach(e,t){for(var n=0,o=e.length;n<o;n++)t(e[n])}function menuNavigation(){var i=document.getElementsByClassName("hamburger"),a=null;[].forEach.call(i,function(e){e.addEventListener("click",function(e){null==a&&((a=document.createElement("link")).href="/wp-content/themes/chroma/dist/css/mobile-menu-background.css",a.type="text/css",a.rel="stylesheet",a.media="all",document.getElementsByTagName("head")[0].appendChild(a));var t=document.getElementById("overlay-menu");[].forEach.call(i,function(e){e.classList.toggle("is-active")}),t.classList.toggle("overlay-menu-animation"),document.body.classList.toggle("noscroll"),document.documentElement.classList.toggle("noscroll");var n=t.querySelectorAll("nav, .nav-social-portals");[].forEach.call(n,function(e){e.classList.toggle("open")});var o=t.querySelectorAll("nav li, .nav-social-portals");[].forEach.call(o,function(e){e.classList.toggle("menu-li-stop")}),document.getElementById("main-nav-cont").classList.toggle("main-nav-hide")})})}function searchToggle(){var t=document.getElementById("search-button"),n=document.querySelector(".search-bar"),o=document.querySelectorAll(".search-bar input"),i=!0;Array.prototype.forEach.call(o,function(e){e.setAttribute("disabled",i)}),t&&void 0!==t&&t.addEventListener("click",function(e){t.classList.toggle("is-active"),n.classList.toggle("is-active"),(i=!i)?Array.prototype.forEach.call(o,function(e){e.setAttribute("disabled",i)}):Array.prototype.forEach.call(o,function(e){e.removeAttribute("disabled")})})}ready(main);var commentToggle=function(){var a=this,l=null,c=null,t=!1;this.createCommentComponent=function(e){if(!store.getState().commentStatus){store.dispatch({type:"commentOn"});var t=document.createElement("span"),n=document.createElement("button"),o=document.createElement("div"),i=document.getElementsByTagName("body")[0];o.id="disqus_thread",(l=document.createElement("div")).classList.add("comments-area"),(c=document.createElement("div")).classList.add("comments_overlay"),t.classList.add("comments_title"),n.setAttribute("class","comments_close box-shadow-default"),t.innerHTML="Comments",t.appendChild(n),l.appendChild(t),l.appendChild(o),l.id="comments",l.setAttribute("name","comments"),i.appendChild(c),i.appendChild(l),a.disqus(),n.addEventListener("click",function(e){l.classList.toggle("is-active"),c.classList.toggle("is-active")}),c.addEventListener("click",function(e){l.classList.toggle("is-active"),c.classList.toggle("is-active")})}},this.disqus=function(){if(!t){t=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//idropnews.disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}};var e=document.querySelectorAll(".comments-icon, #comments-anchor");doesExist(e)&&[].forEach.call(e,function(e){"comments-anchor"!=e.id&&(null!=e.nextSibling&&"P"!=e.nextSibling.nodeName?e.classList.add("expand"):"content-main"!==e.parentNode.id&&(e.classList.add("expand"),document.getElementById("content-main").appendChild(e))),e.addEventListener("click",function(e){e.preventDefault(),a.createCommentComponent(e.target.parentNode),null!=l&&(l.classList.toggle("is-active"),c.classList.toggle("is-active"))})})},engagementBar=function(){if(document.getElementById("resize-plus")&&void 0!==document.getElementById("resize-plus")){var n=0,o=1.11563;document.getElementById("resize-plus").addEventListener("click",function(e){if(2<=n);else{3==n?o-=.095:o+=.095,n++;var t=document.querySelectorAll("#content-main p, #content-main ol, #content-main ul");[].forEach.call(t,function(e){e.style.fontSize=o+"rem"})}}),document.getElementById("resize-minus").addEventListener("click",function(e){if(n<=-2);else{-3==n?o+=.095:o-=.095,n--;var t=document.querySelectorAll("#content-main p, #content-main ol, #content-main ul");[].forEach.call(t,function(e){e.style.fontSize=o+"rem"})}})}};function calculateSidebar(e){if(window.matchMedia("(min-width: "+e+"px)").matches){var t,n=document.getElementById("sidebar");if(null==n||void 0===n)return;0<document.getElementsByClassName("single").length&&(t=document.getElementById("the-post-content").offsetHeight),null!=n&&void 0!==n&&(n.style.minHeight=t+"px")}else null!=document.getElementById("sidebar")&&void 0!==document.getElementById("sidebar")&&(document.getElementById("sidebar").style.minHeight="auto")}function footerMargin(){var e=document.querySelector(".category-giveaways");null!=e&&void 0!==e||null!=document.querySelector(".site")&&void 0!==document.querySelector(".site")&&null!=document.getElementById("foot-wrap")&&void 0!==document.getElementById("foot-wrap")&&(document.querySelector(".site").style.marginBottom=document.getElementById("foot-wrap").clientHeight+"px")}function WidthChange(t){var n;window.addEventListener("resize",debounce(function(e){clearTimeout(n),n=setTimeout(function(){calculateSidebar(t),footerMargin()},75)},250))}var anchorScroll=function n(){var e=document.querySelectorAll("a[name]");[].foreach.call(e,function(e){e.classList.add("anchor")});var t=document.querySelectorAll("#content-main a[href^=\\#]");[].foreach.call(t,function(e){e.addEventListener("click",function(e){n.preventDefault();var t=e.target.getAttribute("href").replace("'","'").replace("#","");document.querySelector('a[name="'+t+'"]'),document.getElementsByClassName("anchor").length})})};function catchAsideAd(){if(0<document.getElementsByClassName("asideAd").length){var e=document.getElementById("content-main");if(isAdjacent(".asideAd","img")||isAdjacent(".asideAd","figure")||isAdjacent(".asideAd","iframe")||isAdjacent(".asideAd",".video-container")||isAdjacent(".asideAd","center")||isAdjacent(".asideAd","center")||isAdjacent(".asideAd",".twitter-tweet")||isAdjacent(".asideAd",".twitter-block")||isAdjacent(".asideAd","h3")){var t=document.getElementById("asideAd"),n=e.querySelector("p:nth-of-type(2)");t.parentNode.insertBefore(t,n)}if(isAdjacent(".asideAd","ol")||isAdjacent(".asideAd","ul")){var o=e.querySelectorAll("ul, ol");[].forEach.call(o,function(e){e.classList.add("clearfix")})}}}function sizeTable(){var e=document.querySelectorAll("table");if(doesExist(e)){var l=1;ForEach(e,function(e){e.id="tab-"+l;var t=1/e.children[0].children[0].children.length*100,n=document.styleSheets[0],o=parseInt(window.getComputedStyle(e.parentNode).getPropertyValue("max-width"))/e.children[0].children[0].children.length,i="#tab-"+l+" th, #tab-"+l+" td { width: "+t+"%; min-width: "+o+"px;}",a=document.createElement("div");a.classList="table-wrap",e.parentNode.insertBefore(a,e),a.appendChild(e),n.insertRule(i,n.cssRules.length),l++})}}var carouselNav=function(){if(null!=_typeof(document.getElementById("carousel-nav-controller"))&&null!=document.getElementById("carousel-nav-controller")){var t=document.getElementById("carousel-nav-controller");t.addEventListener("click",function(){var e=document.getElementById("carousel-nav");t.classList.add("is-active"),e.classList.add("is-active")})}},lightBox=function(){var e=document.getElementsByClassName("lightbox_trigger");e&&void 0!==e&&[].forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault;var t=document.getElementById("lightbox"),n=e.target.getAttribute("src"),o=e.target.getAttribute("srcset")||e.target.getAttribute("src");if(null!=t&&void 0!==t){var i=document.createElement("img");i.setAttribute("src",n),i.setAttribute("srcset",o),i.setAttribute("class","lightbox-view"),document.documentElement.classList.add("noscroll"),document.body.classList.add("noscroll"),document.getElementById("content").innerHTML=i}else(t=document.createElement("div")).id="lightbox",t.classList.add("lightbox"),t.innerHTML='<p class="lightbox_p">Done</p><div id="lb_content" class="lightbox_box"><img class="lightbox_img" src="'+n+'" srcset="'+o+'"/></div>',document.body.appendChild(t),t.classList.add("lightbox-view");t.addEventListener("click",function(e){t.classList.remove("lightbox-view"),document.body.classList.remove("noscroll"),t.remove(t)})})})},scrollListenerCallBacks=function(i){var a=document.getElementById("main-nav-cont"),e=document.getElementById("header-content"),l=document.querySelector(".parallax-move"),c=document.getElementById("social-share"),s=!!doesExist(document.getElementsByClassName("review_cta")[0])&&document.getElementsByClassName("review_cta")[0],r=window.pageYOffset||document.documentElement.scrollTop,d=r,t=(window.innerHeight,null!=e&&void 0!==e?e.offsetTop:0),u=doesExist(a)?t+1.5*a.clientHeight:0,m=null!=e&&void 0!==e?e.offsetTop+e.clientHeight:0,g=doesExist(document.getElementById("post-header"))?1.25*document.getElementById("post-header").clientHeight+document.getElementById("post-header").offsetTop:0,f=null!=document.getElementById("content-main")&&void 0!==document.getElementById("content-main")?document.getElementById("content-main").offsetTop+document.getElementById("content-main").clientHeight:1e3,h=null!=l&&void 0!==l,p=null!=c&&void 0!==c,v=!(!doesExist(document.querySelector(".single-format-video"))||!window.matchMedia("(max-width: 768px)").matches);window.addEventListener("scroll",function(){var e,t,n,o;e=r=window.pageYOffset||document.documentElement.scrollTop,p&&(e<f&&(c.classList.remove("fade-out"),c.classList.add("fade-in"),!1!==s&&(s.classList.remove("fade-out"),s.classList.add("fade-in"))),f<e&&(c.classList.remove("fade-in"),c.classList.add("fade-out"),!1!==s&&(s.classList.remove("fade-in"),s.classList.add("fade-out")))),t=r,h&&(g<=t&&!(m<t)?l.style.opacity=1-.0014*(t-g):t<g&&(l.style.opacity=1)),null!=i&&i.trigger(),v&&(n=r,o=d,a.style.top=u<n&&o<n?"-64px":"0px"),d=r})};function anchorMapScroller(){if(null!==document.querySelector("#contentmap")){var a=document.querySelector("#contentmap"),l=document.querySelectorAll("a[name]"),c=l.length,s=!1;this.trigger=function(){for(var e=0;e<c;e++)if(80<=(i=l[e].getBoundingClientRect()).top&&i.bottom<=(.5*window.innerHeight||.5*document.documentElement.clientHeight))if(0==e||!0!==s)a.scrollTo(0,0),s=!0;else{var t=l[e-1].name.replace("'","'"),n=a.querySelectorAll('[href="#'+t+'"]'),o=n[0].offsetLeft+n[0].offsetWidth+20;a.scrollTo(o,0)}var i};var e=document.getElementById("comments-anchor");doesExist(e)&&e.addEventListener("click",function(e){e.preventDefault(),ct.createCommentComponent()})}}function mobileMenuScrollFix(){var t=document.body,n=document.querySelector(".overlay-menu"),e=document.querySelectorAll("fly-but-wrap");[].forEach.call(e,function(e){e.addEventListener("click",function(){var e="fly-but-wrap"===this.className;n.setAttribute("aria-hidden",!e),t.classList.toggle("noscroll",e),n.scrollTop=0},!1)})}function rippleClick(){var e=document.querySelectorAll("button, .ripple, .alt-cat-post, .resizertriggers span, #search-button, .featured");[].forEach.call(e,function(l){l.addEventListener("click",function(e){var t=document.createElement("ins"),n=l.clientHeight,o=l.getBoundingClientRect(),i=e.clientY-o.top,a=e.clientX-o.left;t.classList.add("ripple-effect"),t.setAttribute("style","transform: translateZ(0); position: absolute; height: "+n+"px; width: "+n+"px; top: "+i+"px; left: "+a+"px;"),l.setAttribute("style","position: relative; overflow: hidden"),l.appendChild(t),window.setTimeout(function(){t.remove(t)},800)})})}var socialShareMaster=function(){var n=this,e=document.querySelectorAll(".share-button"),o=function(){try{return Array.prototype.join.call(document.body.classList," ").match(/postid-[0-9]*/g)[0].split("-")[1]}catch(e){return null}}();if(0<e.length){var i="no type",a=null,l=this,c=encodeURIComponent(window.location.href),s=encodeURIComponent(document.title);0<document.getElementsByClassName("email-share").length&&(document.getElementsByClassName("email-share")[0].href="mailto:?subject="+s+"&body="+c);for(var t=0,r=e.length;t<r;t++)null==e[t].getAttribute("data-has-listener")&&(e[t].addEventListener("click",function(e){var t=this.parentNode.getAttribute("data-url-override");c=doesExist(t)?encodeURIComponent(t):encodeURIComponent(window.location.href),s=doesExist(t)?encodeURIComponent(this.parentNode.getAttribute("data-title-override")):encodeURIComponent(document.title),e.preventDefault(),l.shareRouter(this.getAttribute("data-share"))}),e[t].setAttribute("data-has-listener","true"));var d=!0;this.closeButtonToggle=function(e){d&&(document.getElementById("msc").addEventListener("click",function(){e.classList.toggle("is_active"),document.documentElement.classList.toggle("noscroll")}),d=!1)},this.feedbackMsg=function(e){var t=document.createElement("div");t.classList="copyconfirm box-shadow-nohover",t.innerHTML=e,document.body.appendChild(t),setTimeout(function(){t.remove()},850)},this.facebook=function(){a="https://www.facebook.com/sharer.php?u="+c+"&amp;t="+s,i="Facebook"},this.twitter=function(){a="https://twitter.com/intent/tweet?text="+s+"&url="+c,i="Twitter"},this.email=function(){i="Email",setTimeout(function(){window.location=document.getElementsByClassName("email-share")[0].href},170),a=null},this.reddit=function(){a="https://www.reddit.com/submit?url='"+c,i="Reddit"},this.flipboard=function(){a="https://share.flipboard.com/bookmarklet/popout?v=2&title="+s+"&url="+c+"&utm_campaign=tools&utm_medium=article-share&utm_source=www.idropnews.com&t="+Date.now(),i="Flipboard"},this.copylink=function(){var e=document.createElement("input");e.setAttribute("value",decodeURIComponent(c)),e.setAttribute("style","opacity: 0; position: absolute; top: 0px; z-index: -100; transform: translateX(-100vw);"),document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),n.feedbackMsg("Copied to clipboard."),a=null,i="Copy Link"},this.more=function(){var e=document.getElementById("more-sharing");if(!1===doesExist(e))throw" No other sharing options are available.";e.classList.toggle("is_active"),"true"==e.getAttribute("data-focus")?(e.setAttribute("data-focus","false"),e.blur()):(e.setAttribute("data-focus","true"),e.focus()),document.documentElement.classList.toggle("noscroll"),n.closeButtonToggle(e),a=null,i="More"},this.linkedin=function(){a="https://www.linkedin.com/shareArticle?mini=true&url="+c+"&title="+s,i="Linked In"},this.pinterest=function(){a="https://www.pinterest.com/pin/create/bookmarklet/?url="+c+"&media="+encodeURIComponent(document.querySelector('meta[property="og:image"]').content)+"&description="+s,i="Pinterest"},this.pocket=function(){a="https://getpocket.com/save?url="+c,i="Pocket"},this.line=function(){a="https://lineit.line.me/share/ui?url="+c+"&text="+s,i="line"},this.print=function(){document.getElementById("more-sharing").classList.toggle("is_active"),window.print(),a=null,i="Print"},this.messenger=function(){return/Mobi|Android/i.test(navigator.userAgent)?0<chromaApp.fbAppID?(a="fb-messenger://share?link="+c+"&app_id="+encodeURIComponent(chromaApp.fbAppID),void(i="FB Messenger")):(a=null,void n.feedbackMsg("API Uunavailable.")):(a=null,void n.feedbackMsg("Messenger is only available on mobile devices."))},this.whatsapp=function(){/Mobi|Android/i.test(navigator.userAgent)?(a="whatsapp://send?text="+s+"%20"+c,i="Whatsapp"):n.feedbackMsg("WhatsApp is only available on mobile devices.")},this.comment=function(){void 0===ct?n.feedbackMsg("Comments are currently unavailable."):(ct.createCommentComponent(),[].forEach.call(document.querySelectorAll(".comments_overlay, #comments"),function(e){e.classList.toggle("is-active")}),document.documentElement.classList.remove("noscroll"),document.getElementById("more-sharing").classList.remove("is_active")),a=null,i="Comment"},this.shareRouter=function(e){try{n[e](),null!=a&&window.open(a,"_blank"),window._gaq&&window._gaq._getTracker&&ga("send","socialShare",i+" social click",c);var t=t||[];void 0!==t&&(t.push({event:{eventName:"socialShare",shareType:i+" social click",originURL:c}}),socialEvent("_"+i.replace(" ","_").toLowerCase()+"_click",o))}catch(e){n.feedbackMsg("There was a problem sharing this content."+e)}}}},socialEvent=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(null!==e&&""!==e&&null!==t&&""!==t){var n={name:e,postID:t},o={method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(n)},i=location.protocol+"//"+window.location.hostname+"/wp-json/chroma/cmevents/";fetch(i,o).then(function(e){return e.text()}).then(function(e){console.log(o.body+" | "+e)}).catch(function(e){return console.log("Event Error: "+e)})}};!function(){var e=function(){try{return Array.prototype.join.call(document.body.classList," ").match(/postid-[0-9]*/g)[0].split("-")[1]}catch(e){return null}}();doesExist(e)&&socialEvent("post_views",e)}();var _createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var scrollAnchors=function(){function e(){_classCallCheck(this,e),this.scrollFD=window.scroll,this.mobileOffset=window.matchMedia("(max-width: 414px)").matches?336:90,this.scrollOffset=window.innerHeight/1.05-115-this.mobileOffset}return _createClass(e,[{key:"init",value:function(){var o=this;if(null!=this.scrollFD&&void 0!==this.scrollFD){var e=document.querySelectorAll(".anchor-nav__a, #contentmap a");if([].forEach.call(document.querySelectorAll("a[name]"),function(e){e.setAttribute("name",e.getAttribute("name").replace(" ","%20"))}),e.length<1)return;[].forEach.call(e,function(n){n.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector('a[name="'+n.getAttribute("href").replace("#","")+'"]').offsetTop+o.scrollOffset;window.scroll({top:t,behavior:"smooth"})})})}}}]),e}(),initState={commentStatus:!1,commentAnimate:!1},store=Redux.createStore(commentsTracker,initState);function render(){console.log(store.getState().commentStatus),store.getState()}function commentsTracker(e,t){var n={commentStatus:e.commentStatus};switch(t.type){case"commentOn":return n.commentStatus=!0,n;default:return e}}store.subscribe(render);