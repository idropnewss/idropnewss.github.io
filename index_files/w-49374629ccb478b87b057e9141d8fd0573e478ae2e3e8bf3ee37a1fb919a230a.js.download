/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
function escapeStringRegexp(string){return"string"!=typeof string?"":string.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tagToHashtagRegExp(tag){var escapedTag=escapeStringRegexp(tag=tag||"");return RegExp("#"+escapedTag+"([\\s!@#$%^&*()-=+\\[\\]{}\\\\|/?.,<>~`'\";:]|$)")}!function(global,factory){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){"use strict";function DOMEval(code,node,doc){var i,val,script=(doc=doc||document).createElement("script");if(script.text=code,node)for(i in preservedScriptAttributes)(val=node[i]||node.getAttribute&&node.getAttribute(i))&&script.setAttribute(i,val);doc.head.appendChild(script).parentNode.removeChild(script)}function toType(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj}function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=toType(obj);return!isFunction(obj)&&!isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&0<length&&length-1 in obj)}function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()}function winnow(elements,qualifier,not){return isFunction(qualifier)?jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not}):qualifier.nodeType?jQuery.grep(elements,function(elem){return elem===qualifier!==not}):"string"!=typeof qualifier?jQuery.grep(elements,function(elem){return-1<indexOf.call(qualifier,elem)!==not}):jQuery.filter(qualifier,elements,not)}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object={};return jQuery.each(options.match(rnothtmlwhite)||[],function(_,flag){object[flag]=!0}),object}function Identity(v){return v}function Thrower(ex){throw ex}function adoptValue(value,resolve,reject,noValue){var method;try{value&&isFunction(method=value.promise)?method.call(value).done(resolve).fail(reject):value&&isFunction(method=value.then)?method.call(value,resolve,reject):resolve.apply(undefined,[value].slice(noValue))}catch(value){reject.apply(undefined,[value])}}function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}function fcamelCase(_all,letter){return letter.toUpperCase()}function camelCase(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)}function Data(){this.expando=jQuery.expando+Data.uid++}function getData(data){return"true"===data||"false"!==data&&("null"===data?null:data===+data+""?+data:rbrace.test(data)?JSON.parse(data):data)}function dataAttr(elem,key,data){var name;if(data===undefined&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),"string"==typeof(data=elem.getAttribute(name))){try{data=getData(data)}catch(e){}dataUser.set(elem,key,data)}else data=undefined;return data}function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=elem.nodeType&&(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){for(initial/=2,unit=unit||initialInUnit[3],initialInUnit=+initial||1;maxIterations--;)jQuery.style(elem,prop,initialInUnit+unit),(1-scale)*(1-(scale=currentValue()/initial||.5))<=0&&(maxIterations=0),initialInUnit/=scale;initialInUnit*=2,jQuery.style(elem,prop,initialInUnit+unit),valueParts=valueParts||[]}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}function getDefaultDisplay(elem){var temp,doc=elem.ownerDocument,nodeName=elem.nodeName,display=defaultDisplayMap[nodeName];return display||(temp=doc.body.appendChild(doc.createElement(nodeName)),display=jQuery.css(temp,"display"),temp.parentNode.removeChild(temp),"none"===display&&(display="block"),defaultDisplayMap[nodeName]=display)}function showHide(elements,show){for(var display,elem,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(display=elem.style.display,show?("none"===display&&(values[index]=dataPriv.get(elem,"display")||null,values[index]||(elem.style.display="")),""===elem.style.display&&isHiddenWithinTree(elem)&&(values[index]=getDefaultDisplay(elem))):"none"!==display&&(values[index]="none",dataPriv.set(elem,"display",display)));for(index=0;index<length;index++)null!=values[index]&&(elements[index].style.display=values[index]);return elements}function getAll(context,tag){var ret;return ret="undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag||"*"):"undefined"!=typeof context.querySelectorAll?context.querySelectorAll(tag||"*"):[],tag===undefined||tag&&nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,attached,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if((elem=elems[i])||0===elem)if("object"===toType(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&-1<jQuery.inArray(elem,selection))ignored&&ignored.push(elem);else if(attached=isAttached(elem),tmp=getAll(fragment.appendChild(elem),"script"),attached&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}function returnTrue(){return!0}function returnFalse(){return!1}function expectSync(elem,type){return elem===safeActiveElement()==("focus"===type)}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=undefined),types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=undefined):null==fn&&("string"==typeof selector?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined)),!1===fn)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}function leverageNative(el,type,expectSync){expectSync?(dataPriv.set(el,type,!1),jQuery.event.add(el,type,{namespace:!1,handler:function(event){var notAsync,result,saved=dataPriv.get(this,type);if(1&event.isTrigger&&this[type]){if(saved.length)(jQuery.event.special[type]||{}).delegateType&&event.stopPropagation();else if(saved=slice.call(arguments),dataPriv.set(this,type,saved),notAsync=expectSync(this,type),this[type](),saved!==(result=dataPriv.get(this,type))||notAsync?dataPriv.set(this,type,!1):result={},saved!==result)return event.stopImmediatePropagation(),event.preventDefault(),result.value}else saved.length&&(dataPriv.set(this,type,{value:jQuery.event.trigger(jQuery.extend(saved[0],jQuery.Event.prototype),saved.slice(1),this)}),event.stopImmediatePropagation())}})):dataPriv.get(el,type)===undefined&&jQuery.event.add(el,type,returnTrue)}function manipulationTarget(elem,content){return nodeName(elem,"table")&&nodeName(11!==content.nodeType?content:content.firstChild,"tr")&&jQuery(elem).children("tbody")[0]||elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){return"true/"===(elem.type||"").slice(0,5)?elem.type=elem.type.slice(5):elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(events=dataPriv.get(src).events))for(type in dataPriv.remove(dest,"handle events"),events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue)}function domManip(collection,args,callback,ignored){args=flat(args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],valueIsFunction=isFunction(value);if(valueIsFunction||1<l&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);valueIsFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(first=(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored)).firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(hasScripts=(scripts=jQuery.map(getAll(fragment,"script"),disableScript)).length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src&&"module"!==(node.type||"").toLowerCase()?jQuery._evalUrl&&!node.noModule&&jQuery._evalUrl(node.src,{nonce:node.nonce||node.getAttribute("nonce")},doc):DOMEval(node.textContent.replace(rcleanScript,""),node,doc))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&isAttached(node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return(computed=computed||getStyles(elem))&&(""!==(ret=computed.getPropertyValue(name)||computed[name])||isAttached(elem)||(ret=jQuery.style(elem,name)),!support.pixelBoxStyles()&&rnumnonpx.test(ret)&&rboxStyle.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),ret!==undefined?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(!conditionFn())return(this.get=hookFn).apply(this,arguments);delete this.get}}}function vendorPropName(name){for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in emptyStyle)return name}function finalPropName(name){var final=jQuery.cssProps[name]||vendorProps[name];return final||(name in emptyStyle?name:vendorProps[name]=vendorPropName(name)||name)}function setPositiveNumber(_elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function boxModelAdjustment(elem,dimension,box,isBorderBox,styles,computedVal){var i="width"===dimension?1:0,extra=0,delta=0;if(box===(isBorderBox?"border":"content"))return 0;for(;i<4;i+=2)"margin"===box&&(delta+=jQuery.css(elem,box+cssExpand[i],!0,styles)),isBorderBox?("content"===box&&(delta-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==box&&(delta-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(delta+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==box?delta+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles):extra+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles));return!isBorderBox&&0<=computedVal&&(delta+=Math.max(0,Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-computedVal-delta-extra-.5))||0),delta}function getWidthOrHeight(elem,dimension,extra){var styles=getStyles(elem),isBorderBox=(!support.boxSizingReliable()||extra)&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),valueIsBorderBox=isBorderBox,val=curCSS(elem,dimension,styles),offsetProp="offset"+dimension[0].toUpperCase()+dimension.slice(1);if(rnumnonpx.test(val)){if(!extra)return val;val="auto"}return(!support.boxSizingReliable()&&isBorderBox||!support.reliableTrDimensions()&&nodeName(elem,"tr")||"auto"===val||!parseFloat(val)&&"inline"===jQuery.css(elem,"display",!1,styles))&&elem.getClientRects().length&&(isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles),(valueIsBorderBox=offsetProp in elem)&&(val=elem[offsetProp])),(val=parseFloat(val)||0)+boxModelAdjustment(elem,dimension,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles,val)+"px"}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function schedule(){inProgress&&(!1===document.hidden&&window.requestAnimationFrame?window.requestAnimationFrame(schedule):window.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return window.setTimeout(function(){fxNow=undefined}),fxNow=Date.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)attrs["margin"+(which=cssExpand[i])]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,hooks,oldfire,propTween,restoreDisplay,display,isBox="width"in props||"height"in props,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHiddenWithinTree(elem),dataShow=dataPriv.get(elem,"fxshow");for(prop in opts.queue||(null==(hooks=jQuery._queueHooks(elem,"fx")).unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),props)if(value=props[prop],rfxtypes.test(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||dataShow[prop]===undefined)continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if((propTween=!jQuery.isEmptyObject(props))||!jQuery.isEmptyObject(orig))for(prop in isBox&&1===elem.nodeType&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],null==(restoreDisplay=dataShow&&dataShow.display)&&(restoreDisplay=dataPriv.get(elem,"display")),"none"===(display=jQuery.css(elem,"display"))&&(restoreDisplay?display=restoreDisplay:(showHide([elem],!0),restoreDisplay=elem.style.display||restoreDisplay,display=jQuery.css(elem,"display"),showHide([elem]))),("inline"===display||"inline-block"===display&&null!=restoreDisplay)&&"none"===jQuery.css(elem,"float")&&(propTween||(anim.done(function(){style.display=restoreDisplay}),null==restoreDisplay&&(display=style.display,restoreDisplay="none"===display?"":display)),style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]})),propTween=!1,orig)propTween||(dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{display:restoreDisplay}),toggle&&(dataShow.hidden=!hidden),hidden&&showHide([elem],!0),anim.done(function(){for(prop in hidden||showHide([elem]),dataPriv.remove(elem,"fxshow"),orig)jQuery.style(elem,prop,orig[prop])})),propTween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=propTween.start,hidden&&(propTween.end=propTween.start,propTween.start=0))}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(easing=specialEasing[name=camelCase(index)],value=props[index],Array.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),(hooks=jQuery.cssHooks[name])&&"expand"in hooks)for(index in value=hooks.expand(value),delete props[name],value)index in props||(props[index]=value[index],specialEasing[index]=easing);else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(remaining/animation.duration||0),index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(length||deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=result.stop.bind(result)),result;return jQuery.map(props,createTween,animation),isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation}function stripAndCollapse(value){return(value.match(rnothtmlwhite)||[]).join(" ")}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}function classesToArray(value){return Array.isArray(value)?value:"string"==typeof value&&value.match(rnothtmlwhite)||[]}function buildParams(prefix,obj,traditional,add){var name;if(Array.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==toType(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnothtmlwhite)||[];if(isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(!(conv=converters[prev+" "+current]||converters["* "+current]))for(conv2 in converters)if((tmp=conv2.split(" "))[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){!0===conv?conv=converters[conv2]:!0!==converters[conv2]&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(!0!==conv)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}var arr=[],getProto=Object.getPrototypeOf,slice=arr.slice,flat=arr.flat?function(array){return arr.flat.call(array)}:function(array){return arr.concat.apply([],array)},push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,ObjectFunctionString=fnToString.call(Object),support={},isFunction=function isFunction(obj){return"function"==typeof obj&&"number"!=typeof obj.nodeType},isWindow=function isWindow(obj){return null!=obj&&obj===obj.window},document=window.document,preservedScriptAttributes={type:!0,src:!0,nonce:!0,noModule:!0},version="3.5.1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,length:0,toArray:function(){return slice.call(this)},get:function(num){return null==num?slice.call(this):num<0?this[num+this.length]:this[num]},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(jQuery.grep(this,function(_elem,i){return(i+1)%2}))},odd:function(){return this.pushStack(jQuery.grep(this,function(_elem,i){return i%2}))},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(0<=j&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(argument_0){var options,name,src,copy,copyIsArray,clone,target=argument_0||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)copy=options[name],"__proto__"!==name&&target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=Array.isArray(copy)))?(src=target[name],clone=copyIsArray&&!Array.isArray(src)?[]:copyIsArray||jQuery.isPlainObject(src)?src:{},copyIsArray=!1,target[name]=jQuery.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isPlainObject:function(obj){var proto,Ctor;return!(!obj||"[object Object]"!==toString.call(obj))&&(!(proto=getProto(obj))||"function"==typeof(Ctor=hasOwn.call(proto,"constructor")&&proto.constructor)&&fnToString.call(Ctor)===ObjectFunctionString)},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},globalEval:function(code,options,doc){DOMEval(code,{nonce:options&&options.nonce},doc)},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&!1!==callback.call(obj[i],i,obj[i]);i++);else for(i in obj)if(!1===callback.call(obj[i],i,obj[i]))break;return obj},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)!callback(elems[i],i)!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)null!=(value=callback(elems[i],i,arg))&&ret.push(value);else for(i in elems)null!=(value=callback(elems[i],i,arg))&&ret.push(value);return flat(ret)},guid:1,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(window){function Sizzle(selector,context,results,seed){var m,i,elem,nid,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&(setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!nonnativeSelectorCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))&&(1!==nodeType||"object"!==context.nodeName.toLowerCase())){if(newSelector=selector,newContext=context,1===nodeType&&(rdescend.test(selector)||rcombinators.test(selector))){for((newContext=rsibling.test(selector)&&testContext(context.parentNode)||context)===context&&support.scope||((nid=context.getAttribute("id"))?nid=nid.replace(rcssescape,fcssescape):context.setAttribute("id",nid=expando)),i=(groups=tokenize(selector)).length;i--;)groups[i]=(nid?"#"+nid:":scope")+" "+toSelector(groups[i]);newSelector=groups.join(",")}try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){nonnativeSelectorCache(selector,!0)}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el)}catch(e){return!1}finally{el.parentNode&&el.parentNode.removeChild(el),el=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){return"input"===elem.nodeName.toLowerCase()&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createDisabledPseudo(disabled){return function(elem){return"form"in elem?elem.parentNode&&!1===elem.disabled?"label"in elem?"label"in elem.parentNode?elem.parentNode.disabled===disabled:elem.disabled===disabled:elem.isDisabled===disabled||elem.isDisabled!==!disabled&&inDisabledFieldset(elem)===disabled:elem.disabled===disabled:"label"in elem&&elem.disabled===disabled}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&"parentNode"===key,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml);return!1}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)if(uniqueCache=(outerCache=elem[expando]||(elem[expando]={}))[elem.uniqueID]||(outerCache[elem.uniqueID]={}),skip&&skip===elem.nodeName.toLowerCase())elem=elem[dir]||elem;else{if((oldCache=uniqueCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if((uniqueCache[key]=newCache)[2]=matcher(elem,context,xml))return!0}return!1}}function elementMatcher(matchers){return 1<matchers.length?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&-1<(temp=postFinder?indexOf(seed,elem):preMap[i])&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return-1<indexOf(checkContext,elem)},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(1<i&&elementMatcher(matchers),1<i&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=0<setMatchers.length,byElement=0<elementMatchers.length,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context==document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument==document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(0<matchedCount)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&0<setMatched.length&&1<matchedCount+setMatchers.length&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),nonnativeSelectorCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,pushNative=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rdescend=new RegExp(whitespace+"|>"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rhtml=/HTML$/i,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,runescape=new RegExp("\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(escape,nonHex){var high="0x"+escape.slice(1)-65536;return nonHex||(high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320))},rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fcssescape=function(ch,asCodePoint){return asCodePoint?"\0"===ch?"\ufffd":ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" ":"\\"+ch},unloadHandler=function(){setDocument()},inDisabledFieldset=addCombinator(function(elem){return!0===elem.disabled&&"fieldset"===elem.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){pushNative.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}for(i in support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var namespace=elem.namespaceURI,docElem=(elem.ownerDocument||elem).documentElement;return!rhtml.test(namespace||docElem&&docElem.nodeName||"HTML")},setDocument=Sizzle.setDocument=function(node){var hasCompare,subWindow,doc=node?node.ownerDocument||node:preferredDoc;return doc!=document&&9===doc.nodeType&&doc.documentElement&&(docElem=(document=doc).documentElement,documentIsHTML=!isXML(document),preferredDoc!=document&&(subWindow=document.defaultView)&&subWindow.top!==subWindow&&(subWindow.addEventListener?subWindow.addEventListener("unload",unloadHandler,!1):subWindow.attachEvent&&subWindow.attachEvent("onunload",unloadHandler)),support.scope=assert(function(el){return docElem.appendChild(el).appendChild(document.createElement("div")),"undefined"!=typeof el.querySelectorAll&&!el.querySelectorAll(":scope fieldset div").length}),support.attributes=assert(function(el){return el.className="i",!el.getAttribute("className")}),support.getElementsByTagName=assert(function(el){return el.appendChild(document.createComment("")),!el.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(el){return docElem.appendChild(el).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}},Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var elem=context.getElementById(id);return elem?[elem]:[]}}):(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}},Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var node,i,elems,elem=context.getElementById(id);if(elem){if((node=elem.getAttributeNode("id"))&&node.value===id)return[elem];for(elems=context.getElementsByName(id),i=0;elem=elems[i++];)if((node=elem.getAttributeNode("id"))&&node.value===id)return[elem]}return[]}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"!==tag)return results;for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if("undefined"!=typeof context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert(function(el){var input;docElem.appendChild(el).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",el.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),el.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),el.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),(input=document.createElement("input")).setAttribute("name",""),el.appendChild(input),el.querySelectorAll("[name='']").length||rbuggyQSA.push("\\["+whitespace+"*name"+whitespace+"*="+whitespace+"*(?:''|\"\")"),el.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),el.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]"),el.querySelectorAll("\\\f"),rbuggyQSA.push("[\\r\\n\\f]")}),assert(function(el){el.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var input=document.createElement("input");input.setAttribute("type","hidden"),el.appendChild(input).setAttribute("name","D"),el.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),2!==el.querySelectorAll(":enabled").length&&rbuggyQSA.push(":enabled",":disabled"),docElem.appendChild(el).disabled=!0,2!==el.querySelectorAll(":disabled").length&&rbuggyQSA.push(":enabled",":disabled"),el.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(el){support.disconnectedMatch=matches.call(el,"*"),matches.call(el,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare||(1&(compare=(a.ownerDocument||a)==(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a==document||a.ownerDocument==preferredDoc&&contains(preferredDoc,a)?-1:b==document||b.ownerDocument==preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a==document?-1:b==document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]==preferredDoc?-1:bp[i]==preferredDoc?1:0}),document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if(setDocument(elem),support.matchesSelector&&documentIsHTML&&!nonnativeSelectorCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){nonnativeSelectorCache(expr,!0)}return 0<Sizzle(expr,document,null,[elem]).length},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!=document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!=document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.escape=function(sel){return(sel+"").replace(rcssescape,fcssescape)},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},(Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&-1<result.indexOf(check):"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?-1<(" "+result.replace(rwhitespace," ")+" ").indexOf(check):"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,_argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,_context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(diff=(nodeIndex=(cache=(uniqueCache=(outerCache=(node=parent)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1])&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(diff=nodeIndex=(cache=(uniqueCache=(outerCache=(node=elem)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1]),!1===diff)for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((uniqueCache=(outerCache=node[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]=[dirruns,diff]),node!==elem)););return(diff-=last)===first||diff%first==0&&0<=diff/first}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):1<fn.length?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf(seed,matched[i])]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,_context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,_context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return 0<Sizzle(selector,elem).length}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return-1<(elem.textContent||getText(elem)).indexOf(text)}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return(elemLang=elemLang.toLowerCase())===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(_matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(_matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:length<argument?length:argument;0<=--i;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}}).pseudos.nth=Expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length)),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)(cached=matcherFromTokens(match[i]))[expando]?setMatchers.push(cached):elementMatchers.push(cached);(cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))).selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(2<(tokens=match[0]=match[0].slice(0)).length&&"ID"===(token=tokens[0]).type&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(!(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0]))return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),!(selector=seed.length&&toSelector(tokens)))return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(el){return 1&el.compareDocumentPosition(document.createElement("fieldset"))}),assert(function(el){return el.innerHTML="<a href='#'></a>","#"===el.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(el){return el.innerHTML="<input/>",el.firstChild.setAttribute("value",""),""===el.firstChild.getAttribute("value")})||addHandle("value",function(elem,_name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue}),assert(function(el){return null==el.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return!0===elem[name]?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains,jQuery.escapeSelector=Sizzle.escape;var dir=function(elem,dir,until){for(var matched=[],truncate=until!==undefined;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,ret,
len=this.length,self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(ret=this.pushStack([]),i=0;i<len;i++)jQuery.find(selector,self[i],ret);return 1<len?jQuery.uniqueSort(ret):ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"!=typeof selector)return selector.nodeType?(this[0]=selector,this.length=1,this):isFunction(selector)?root.ready!==undefined?root.ready(selector):selector(jQuery):jQuery.makeArray(selector,this);if(!(match="<"===selector[0]&&">"===selector[selector.length-1]&&3<=selector.length?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return(elem=document.getElementById(match[2]))&&(this[0]=elem,this.length=1),this}).prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],targets="string"!=typeof selectors&&jQuery(selectors);if(!rneedsContext.test(selectors))for(;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(targets?-1<targets.index(cur):1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(1<matched.length?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,_i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,_i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,_i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return null!=elem.contentDocument&&getProto(elem.contentDocument)?elem.contentDocument:(nodeName(elem,"template")&&(elem=elem.content||elem),jQuery.merge([],elem.childNodes))}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),1<this.length&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnothtmlwhite=/[^\x20\t\r\n\f]+/g;jQuery.Callbacks=function(options){options="string"==typeof options?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){for(locked=locked||options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)!1===list[firingIndex].apply(memory[0],memory[1])&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==toType(arg)&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;-1<(index=jQuery.inArray(arg,list,index));)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?-1<jQuery.inArray(fn,list):0<list.length},empty:function(){return list&&(list=[]),this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||firing||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=[context,(args=args||[]).slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},"catch":function(fn){return promise.then(null,fn)},pipe:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(_i,tuple){var fn=isFunction(fns[tuple[4]])&&fns[tuple[4]];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this,fn?[returned]:arguments)})}),fns=null}).promise()},then:function(onFulfilled,onRejected,onProgress){function resolve(depth,deferred,handler,special){return function(){var that=this,args=arguments,mightThrow=function(){var returned,then;if(!(depth<maxDepth)){if((returned=handler.apply(that,args))===deferred.promise())throw new TypeError("Thenable self-resolution");then=returned&&("object"==typeof returned||"function"==typeof returned)&&returned.then,isFunction(then)?special?then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special)):(maxDepth++,then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special),resolve(maxDepth,deferred,Identity,deferred.notifyWith))):(handler!==Identity&&(that=undefined,args=[returned]),(special||deferred.resolveWith)(that,args))}},process=special?mightThrow:function(){try{mightThrow()}catch(e){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(e,process.stackTrace),maxDepth<=depth+1&&(handler!==Thrower&&(that=undefined,args=[e]),deferred.rejectWith(that,args))}};depth?process():(jQuery.Deferred.getStackHook&&(process.stackTrace=jQuery.Deferred.getStackHook()),window.setTimeout(process))}}var maxDepth=0;return jQuery.Deferred(function(newDefer){tuples[0][3].add(resolve(0,newDefer,isFunction(onProgress)?onProgress:Identity,newDefer.notifyWith)),tuples[1][3].add(resolve(0,newDefer,isFunction(onFulfilled)?onFulfilled:Identity)),tuples[2][3].add(resolve(0,newDefer,isFunction(onRejected)?onRejected:Thrower))}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[5];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[3-i][2].disable,tuples[3-i][3].disable,tuples[0][2].lock,tuples[0][3].lock),list.add(tuple[3].fire),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?undefined:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(singleValue){var remaining=arguments.length,i=remaining,resolveContexts=Array(i),resolveValues=slice.call(arguments),master=jQuery.Deferred(),updateFunc=function(i){return function(value){resolveContexts[i]=this,resolveValues[i]=1<arguments.length?slice.call(arguments):value,--remaining||master.resolveWith(resolveContexts,resolveValues)}};if(remaining<=1&&(adoptValue(singleValue,master.done(updateFunc(i)).resolve,master.reject,!remaining),"pending"===master.state()||isFunction(resolveValues[i]&&resolveValues[i].then)))return master.then();for(;i--;)adoptValue(resolveValues[i],updateFunc(i),master.reject);return master.promise()}});var rerrorNames=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(error,stack){window.console&&window.console.warn&&error&&rerrorNames.test(error.name)&&window.console.warn("jQuery.Deferred exception: "+error.message,error.stack,stack)},jQuery.readyException=function(error){window.setTimeout(function(){throw error})};var readyList=jQuery.Deferred();jQuery.fn.ready=function(fn){return readyList.then(fn)["catch"](function(error){jQuery.readyException(error)}),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(wait){(!0===wait?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0)!==wait&&0<--jQuery.readyWait||readyList.resolveWith(document,[jQuery])}}),jQuery.ready.then=readyList.then,"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed));var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===toType(key))for(i in chainable=!0,key)access(elems,fn,i,key[i],!0,emptyGet,raw);else if(value!==undefined&&(chainable=!0,isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,_key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g,acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};Data.uid=1,Data.prototype={cache:function(owner){var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[camelCase(data)]=value;else for(prop in data)cache[camelCase(prop)]=data[prop];return cache},get:function(owner,key){return key===undefined?this.cache(owner):owner[this.expando]&&owner[this.expando][camelCase(key)]},access:function(owner,key,value){return key===undefined||key&&"string"==typeof key&&value===undefined?this.get(owner,key):(this.set(owner,key,value),value!==undefined?value:key)},remove:function(owner,key){var i,cache=owner[this.expando];if(cache!==undefined){if(key!==undefined){i=(key=Array.isArray(key)?key.map(camelCase):(key=camelCase(key))in cache?[key]:key.match(rnothtmlwhite)||[]).length;for(;i--;)delete cache[key[i]]}(key===undefined||jQuery.isEmptyObject(cache))&&(owner.nodeType?owner[this.expando]=undefined:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key!==undefined)return"object"==typeof key?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data;if(elem&&value===undefined)return(data=dataUser.get(elem,key))!==undefined?data:(data=dataAttr(elem,key))!==undefined?data:void 0;this.each(function(){dataUser.set(this,key,value)})},null,value,1<arguments.length,null,!0);if(this.length&&(data=dataUser.get(elem),1===elem.nodeType&&!dataPriv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&0===(name=attrs[i].name).indexOf("data-")&&(name=camelCase(name.slice(5)),dataAttr(elem,name,data[name]));dataPriv.set(elem,"hasDataAttrs",!0)}return data},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||Array.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=undefined),type=type||"fx";i--;)(tmp=dataPriv.get(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],documentElement=document.documentElement,isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)},composed={composed:!0};documentElement.getRootNode&&(isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)||elem.getRootNode(composed)===elem.ownerDocument});var isHiddenWithinTree=function(elem,el){return"none"===(elem=el||elem).style.display||""===elem.style.display&&isAttached(elem)&&"none"===jQuery.css(elem,"display")},defaultDisplayMap={};jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()})}});var div,input,rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,rscriptType=/^$|^module$|\/(?:java|ecma)script/i;div=document.createDocumentFragment().appendChild(document.createElement("div")),(input=document.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue,div.innerHTML="<option></option>",support.option=!!div.lastChild;var wrapMap={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,support.option||(wrapMap.optgroup=wrapMap.option=[1,"<select multiple='multiple'>","</select>"]);var rhtml=/<|&#?\w+;/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(acceptData(elem))for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),selector&&jQuery.find.matchesSelector(documentElement,selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events=Object.create(null)),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return void 0!==jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}),t=(types=(types||"").match(rnothtmlwhite)||[""]).length;t--;)type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,namespaces,eventHandle)||elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(t=(types=(types||"").match(rnothtmlwhite)||[""]).length;t--;)if(type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},handlers=events[type=(selector?special.delegateType:special.bindType)||type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(nativeEvent){var i,j,ret,matched,handleObj,handlerQueue,args=new Array(arguments.length),event=jQuery.event.fix(nativeEvent),handlers=(dataPriv.get(this,"events")||Object.create(null))[event.type]||[],special=jQuery.event.special[event.type]||{};for(args[0]=event,i=1;i<arguments.length;i++)args[i]=arguments[i];if(event.delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!1!==handleObj.namespace&&!event.rnamespace.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,(ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args))!==undefined&&!1===(event.result=ret)&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,handleObj,sel,matchedHandlers,matchedSelectors,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&!("click"===event.type&&1<=event.button))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&("click"!==event.type||!0!==cur.disabled)){for(matchedHandlers=[],matchedSelectors={},i=0;i<delegateCount;i++)matchedSelectors[sel=(handleObj=handlers[i]).selector+" "]===undefined&&(matchedSelectors[sel]=handleObj.needsContext?-1<jQuery(sel,this).index(cur):jQuery.find(sel,this,null,[cur]).length),matchedSelectors[sel]&&matchedHandlers.push(handleObj);matchedHandlers.length&&handlerQueue.push({elem:cur,handlers:matchedHandlers})}return cur=this,delegateCount<handlers.length&&handlerQueue.push({elem:cur,handlers:handlers.slice(delegateCount)}),handlerQueue},addProp:function(name,hook){Object.defineProperty(jQuery.Event.prototype,name,{enumerable:!0,configurable:!0,get:isFunction(hook)?function(){if(this.originalEvent)return hook(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[name]},set:function(value){Object.defineProperty(this,name,{enumerable:!0,configurable:!0,writable:!0,value:value})}})},fix:function(originalEvent){return originalEvent[jQuery.expando]?originalEvent:new jQuery.Event(originalEvent)},special:{load:{noBubble:!0},click:{setup:function(data){var el=this||data;return rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")&&leverageNative(el,"click",returnTrue),!1},trigger:function(data){var el=this||data;return rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")&&leverageNative(el,"click"),!0},_default:function(event){var target=event.target;return rcheckableType.test(target.type)&&target.click&&nodeName(target,"input")&&dataPriv.get(target,"click")||nodeName(target,"a")}},beforeunload:{postDispatch:function(event){event.result!==undefined&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&!1===src.returnValue?returnTrue:returnFalse,this.target=src.target&&3===src.target.nodeType?src.target.parentNode:src.target,this.currentTarget=src.currentTarget,this.relatedTarget=src.relatedTarget):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||Date.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(event){var button=event.button;return null==event.which&&rkeyEvent.test(event.type)?null!=event.charCode?event.charCode:event.keyCode:!event.which&&button!==undefined&&rmouseEvent.test(event.type)?1&button?1:2&button?3:4&button?2:0:event.which}},jQuery.event.addProp),jQuery.each({focus:"focusin",blur:"focusout"},function(type,delegateType){jQuery.event.special[type]={setup:function(){return leverageNative(this,type,expectSync),!1},trigger:function(){return leverageNative(this,type),!0},delegateType:delegateType}}),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===target||jQuery.contains(target,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"!=typeof types)return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=undefined),!1===fn&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)});for(type in types)this.off(type,selector,types[type]);return this}});var rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;jQuery.extend({htmlPrefilter:function(html){return html},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=isAttached(elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),i=0,l=(srcElements=getAll(elem)).length;i<l;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return 0<(destElements=getAll(clone,"script")).length&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;(elem=elems[i])!==undefined;i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=undefined}elem[dataUser.expando]&&(elem[dataUser.expando]=undefined)}}}),jQuery.fn.extend({detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,elem).appendChild(elem)})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)},swap=function(elem,options,callback){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in ret=callback.call(elem),options)elem.style[name]=old[name];return ret},rboxStyle=new RegExp(cssExpand.join("|"),"i");!function(){function computeStyleTests(){if(div){container.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",div.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",documentElement.appendChild(container).appendChild(div);var divStyle=window.getComputedStyle(div);pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal=12===roundPixelMeasures(divStyle.marginLeft),div.style.right="60%",pixelBoxStylesVal=36===roundPixelMeasures(divStyle.right),boxSizingReliableVal=36===roundPixelMeasures(divStyle.width),div.style.position="absolute",scrollboxSizeVal=12===roundPixelMeasures(div.offsetWidth/3),documentElement.removeChild(container),div=null}}function roundPixelMeasures(measure){return Math.round(parseFloat(measure))}var pixelPositionVal,boxSizingReliableVal,scrollboxSizeVal,pixelBoxStylesVal,reliableTrDimensionsVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,jQuery.extend(support,{boxSizingReliable:function(){return computeStyleTests(),boxSizingReliableVal},pixelBoxStyles:function(){return computeStyleTests(),pixelBoxStylesVal},pixelPosition:function(){return computeStyleTests(),pixelPositionVal},reliableMarginLeft:function(){return computeStyleTests(),reliableMarginLeftVal},scrollboxSize:function(){return computeStyleTests(),scrollboxSizeVal},reliableTrDimensions:function(){var table,tr,trChild,trStyle
;return null==reliableTrDimensionsVal&&(table=document.createElement("table"),tr=document.createElement("tr"),trChild=document.createElement("div"),table.style.cssText="position:absolute;left:-11111px",tr.style.height="1px",trChild.style.height="9px",documentElement.appendChild(table).appendChild(tr).appendChild(trChild),trStyle=window.getComputedStyle(tr),reliableTrDimensionsVal=3<parseInt(trStyle.height),documentElement.removeChild(table)),reliableTrDimensionsVal}}))}();var cssPrefixes=["Webkit","Moz","ms"],emptyStyle=document.createElement("div").style,vendorProps={},rdisplayswap=/^(none|table(?!-c[ea]).+)/,rcustomProp=/^--/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"};jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name),style=elem.style;if(isCustomProp||(name=finalPropName(origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],value===undefined)return hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name];"string"===(type=typeof value)&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value==value&&("number"!==type||isCustomProp||(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&(value=hooks.set(elem,value,extra))===undefined||(isCustomProp?style.setProperty(name,value):style[name]=value))}},css:function(elem,name,extra,styles){var val,num,hooks,origName=camelCase(name);return rcustomProp.test(name)||(name=finalPropName(origName)),(hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName])&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),val===undefined&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),!0===extra||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(_i,dimension){jQuery.cssHooks[dimension]={get:function(elem,computed,extra){if(computed)return!rdisplayswap.test(jQuery.css(elem,"display"))||elem.getClientRects().length&&elem.getBoundingClientRect().width?getWidthOrHeight(elem,dimension,extra):swap(elem,cssShow,function(){return getWidthOrHeight(elem,dimension,extra)})},set:function(elem,value,extra){var matches,styles=getStyles(elem),scrollboxSizeBuggy=!support.scrollboxSize()&&"absolute"===styles.position,isBorderBox=(scrollboxSizeBuggy||extra)&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),subtract=extra?boxModelAdjustment(elem,dimension,extra,isBorderBox,styles):0;return isBorderBox&&scrollboxSizeBuggy&&(subtract-=Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-parseFloat(styles[dimension])-boxModelAdjustment(elem,dimension,"border",!1,styles)-.5)),subtract&&(matches=rcssNum.exec(value))&&"px"!==(matches[3]||"px")&&(elem.style[dimension]=value,value=jQuery.css(elem,dimension)),setPositiveNumber(elem,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},"margin"!==prefix&&(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(Array.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,1<arguments.length)}}),(jQuery.Tween=Tween).prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""))&&"auto"!==result?result:0},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||!jQuery.cssHooks[tween.prop]&&null==tween.elem.style[finalPropName(tween.prop)]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,inProgress,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){isFunction(props)?(callback=props,props=["*"]):props=props.match(rnothtmlwhite);for(var prop,index=0,length=props.length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!isFunction(easing)&&easing};return jQuery.fx.off?opt.duration=0:"number"!=typeof opt.duration&&(opt.duration in jQuery.fx.speeds?opt.duration=jQuery.fx.speeds[opt.duration]:opt.duration=jQuery.fx.speeds._default),null!=opt.queue&&!0!==opt.queue||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return!1!==type&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(_i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=Date.now();i<timers.length;i++)(timer=timers[i])()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){inProgress||(inProgress=!0,schedule())},jQuery.fx.stop=function(){inProgress=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),opt=document.createElement("select").appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,(input=document.createElement("input")).value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,1<arguments.length)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return"undefined"==typeof elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(hooks=jQuery.attrHooks[name.toLowerCase()]||(jQuery.expr.match.bool.test(name)?boolHook:undefined)),value!==undefined?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,value+""),value):hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:null==(ret=jQuery.find.attr(elem,name))?undefined:ret)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,i=0,attrNames=value&&value.match(rnothtmlwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(_i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle,lowercaseName=name.toLowerCase();return isXML||(handle=attrHandle[lowercaseName],attrHandle[lowercaseName]=ret,ret=null!=getter(elem,name,isXML)?lowercaseName:null,attrHandle[lowercaseName]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,1<arguments.length)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null},set:function(elem){var parent=elem.parentNode;parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if((classes=classesToArray(value)).length)for(;elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&" "+stripAndCollapse(curValue)+" "){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");curValue!==(finalValue=stripAndCollapse(cur))&&elem.setAttribute("class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if((classes=classesToArray(value)).length)for(;elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&" "+stripAndCollapse(curValue)+" "){for(j=0;clazz=classes[j++];)for(;-1<cur.indexOf(" "+clazz+" ");)cur=cur.replace(" "+clazz+" "," ");curValue!==(finalValue=stripAndCollapse(cur))&&elem.setAttribute("class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value,isValidValue="string"===type||Array.isArray(value);return"boolean"==typeof stateVal&&isValidValue?stateVal?this.addClass(value):this.removeClass(value):isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if(isValidValue)for(i=0,self=jQuery(this),classNames=classesToArray(value);className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else value!==undefined&&"boolean"!==type||((className=getClass(this))&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||!1===value?"":dataPriv.get(this,"__className__")||""))})},hasClass:function(selector){var className,elem,i=0;for(className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&-1<(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className))return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,valueIsFunction,elem=this[0];return arguments.length?(valueIsFunction=isFunction(value),this.each(function(i){var val;1===this.nodeType&&(null==(val=valueIsFunction?value.call(this,i,jQuery(this).val()):value)?val="":"number"==typeof val?val+="":Array.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&hooks.set(this,val,"value")!==undefined||(this.value=val))})):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:stripAndCollapse(jQuery.text(elem))}},select:{get:function(elem){var value,option,i,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type,values=one?null:[],max=one?index+1:options.length;for(i=index<0?max:one?index:0;i<max;i++)if(((option=options[i]).selected||i===index)&&!option.disabled&&(!option.parentNode.disabled||!nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)((option=options[i]).selected=-1<jQuery.inArray(jQuery.valHooks.option.get(option),values))&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(Array.isArray(value))return elem.checked=-1<jQuery.inArray(jQuery(elem).val(),value)}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),support.focusin="onfocusin"in window;var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(e){e.stopPropagation()};jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,lastElement,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=lastElement=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(-1<type.indexOf(".")&&(type=(namespaces=type.split(".")).shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,(event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event)).isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=undefined,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||!1!==special.trigger.apply(elem,data))){if(!onlyHandlers&&!special.noBubble&&!isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)lastElement=cur,event.type=1<i?bubbleType:special.bindType||type,(handle=(dataPriv.get(cur,"events")||Object.create(null))[event.type]&&dataPriv.get(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),!1===event.result&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&!1!==special._default.apply(eventPath.pop(),data)||!acceptData(elem)||ontype&&isFunction(elem[type])&&!isWindow(elem)&&((tmp=elem[ontype])&&(elem[ontype]=null),jQuery.event.triggered=type,event.isPropagationStopped()&&lastElement.addEventListener(type,stopPropagationCallback),elem[type](),event.isPropagationStopped()&&lastElement.removeEventListener(type,stopPropagationCallback),jQuery.event.triggered=undefined,tmp&&(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem)}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce={guid:Date.now()},rquery=/\?/;jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=undefined}return xml&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,valueOrFunction){var value=isFunction(valueOrFunction)?valueOrFunction():valueOrFunction;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(null==value?"":value)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(_i,elem){var val=jQuery(this).val();return null==val?null:Array.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});var r20=/%20/g,rhash=/#.*$/,rantiCache=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;completed||(completed=!0,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=0<status?4:0,isSuccess=200<=status&&status<300||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),!isSuccess&&-1<jQuery.inArray("script",s.dataTypes)&&(s.converters["text script"]=function(){}),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&((modified=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[cacheURL]=modified),(modified=jqXHR.getResponseHeader("etag"))&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,isSuccess=!(error=response.error))):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=undefined),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,completed,fireGlobals,i,uncached,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(completed){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()+" "]=(responseHeaders[match[1].toLowerCase()+" "]||[]).concat(match[2]);match=responseHeaders[key.toLowerCase()+" "]}return null==match?null:match.join(", ")},getAllResponseHeaders:function(){return completed?responseHeadersString:null},setRequestHeader:function(name,value){return null==completed&&(name=requestHeadersNames[name.toLowerCase()]=requestHeadersNames[name.toLowerCase()]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return null==completed&&(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(completed)jqXHR.always(map[jqXHR.status]);else for(code in map)statusCode[code]=[statusCode[code],map[code]];return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR),s.url=((url||s.url||location.href)+"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=(s.dataType||"*").toLowerCase().match(rnothtmlwhite)||[""],null==s.crossDomain){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),completed)return jqXHR;for(i in(fireGlobals=jQuery.event&&s.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url.replace(rhash,""),s.hasContent?s.data&&s.processData&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&(s.data=s.data.replace(r20,"+")):(uncached=s.url.slice(cacheURL.length),s.data&&(s.processData||"string"==typeof s.data)&&(cacheURL+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),!1===s.cache&&(cacheURL=cacheURL.replace(rantiCache,"$1"),uncached=(rquery.test(cacheURL)?"&":"?")+"_="+nonce.guid+++uncached),s.url=cacheURL+uncached),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&!1!==s.contentType||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]),s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||completed))return jqXHR.abort();if(strAbort="abort",completeDeferred.add(s.complete),jqXHR.done(s.success),jqXHR.fail(s.error),transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),completed)return jqXHR;s.async&&0<s.timeout&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{completed=!1,transport.send(requestHeaders,done)}catch(e){if(completed)throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}}),jQuery.each(["get","post"],function(_i,method){jQuery[method]=function(url,data,callback,type){return isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery.ajaxPrefilter(function(s){var i;for(i in s.headers)"content-type"===i.toLowerCase()&&(s.contentType=s.headers[i]||"")}),jQuery._evalUrl=function(url,options,doc){return jQuery.ajax({url:url,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(response){jQuery.globalEval(response,options,doc)}})},jQuery.fn.extend({wrapAll:function(html){var wrap;return this[0]&&(isFunction(html)&&(html=html.call(this[0])),wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this},wrapInner:function(html){return isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var htmlIsFunction=isFunction(html);return this.each(function(i){jQuery(this).wrapAll(htmlIsFunction?html.call(this,i):html)})},unwrap:function(selector){return this.parent(selector).not("body").each(function(){jQuery(this).replaceWith(this.childNodes)}),this}}),jQuery.expr.pseudos.hidden=function(elem){return!jQuery.expr.pseudos.visible(elem)},jQuery.expr.pseudos.visible=function(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];for(i in options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),headers)xhr.setRequestHeader(i,headers[i])
;callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.ontimeout=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=xhr.ontimeout=callback("error"),xhr.onabort!==undefined?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){var script,callback;if(s.crossDomain||s.scriptAttrs)return{send:function(_,complete){script=jQuery("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}});var body,oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce.guid++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):!1!==s.jsonp&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){overwritten===undefined?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=undefined}),"script"}),support.createHTMLDocument=((body=document.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===body.childNodes.length),jQuery.parseHTML=function(data,context,keepScripts){return"string"!=typeof data?[]:("boolean"==typeof context&&(keepScripts=context,context=!1),context||(support.createHTMLDocument?((base=(context=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,context.head.appendChild(base)):context=document),scripts=!keepScripts&&[],(parsed=rsingleTag.exec(data))?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes)));var base,parsed,scripts},jQuery.fn.load=function(url,params,callback){var selector,type,response,self=this,off=url.indexOf(" ");return-1<off&&(selector=stripAndCollapse(url.slice(off)),url=url.slice(0,off)),isFunction(params)?(callback=params,params=undefined):params&&"object"==typeof params&&(type="POST"),0<self.length&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.expr.pseudos.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),("absolute"===position||"fixed"===position)&&-1<(curCSSTop+curCSSLeft).indexOf("auto")?(curTop=(curPosition=curElem.position()).top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):("number"==typeof props.top&&(props.top+="px"),"number"==typeof props.left&&(props.left+="px"),curElem.css(props))}},jQuery.fn.extend({offset:function(options){if(arguments.length)return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var rect,win,elem=this[0];return elem?elem.getClientRects().length?(rect=elem.getBoundingClientRect(),win=elem.ownerDocument.defaultView,{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var offsetParent,offset,doc,elem=this[0],parentOffset={top:0,left:0};if("fixed"===jQuery.css(elem,"position"))offset=elem.getBoundingClientRect();else{for(offset=this.offset(),doc=elem.ownerDocument,offsetParent=elem.offsetParent||doc.documentElement;offsetParent&&(offsetParent===doc.body||offsetParent===doc.documentElement)&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.parentNode;offsetParent&&offsetParent!==elem&&1===offsetParent.nodeType&&((parentOffset=jQuery(offsetParent).offset()).top+=jQuery.css(offsetParent,"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent,"borderLeftWidth",!0))}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win;if(isWindow(elem)?win=elem:9===elem.nodeType&&(win=elem.defaultView),val===undefined)return win?win[prop]:elem[method];win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val},method,val,arguments.length)}}),jQuery.each(["top","left"],function(_i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return access(this,function(elem,type,value){var doc;return isWindow(elem)?0===funcName.indexOf("outer")?elem["inner"+name]:elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable)}})}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(_i,name){jQuery.fn[name]=function(data,fn){return 0<arguments.length?this.on(name,null,data,fn):this.trigger(name)}});var rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(fn,context){var tmp,args,proxy;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),isFunction(fn)?(args=slice.call(arguments,2),(proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))}).guid=fn.guid=fn.guid||jQuery.guid++,proxy):undefined},jQuery.holdReady=function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,jQuery.isFunction=isFunction,jQuery.isWindow=isWindow,jQuery.camelCase=camelCase,jQuery.type=toType,jQuery.now=Date.now,jQuery.isNumeric=function(obj){var type=jQuery.type(obj);return("number"===type||"string"===type)&&!isNaN(obj-parseFloat(obj))},jQuery.trim=function(text){return null==text?"":(text+"").replace(rtrim,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},void 0===noGlobal&&(window.jQuery=window.$=jQuery),jQuery}),function($,undefined){"use strict";var rails;$.rails!==undefined&&$.error("jquery-ujs has already been loaded!");var $document=$(document);$.rails=rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return $("meta[name=csrf-token]").attr("content")},csrfParam:function(){return $("meta[name=csrf-param]").attr("content")},CSRFProtection:function(xhr){var token=rails.csrfToken();token&&xhr.setRequestHeader("X-CSRF-Token",token)},refreshCSRFTokens:function(){$('form input[name="'+rails.csrfParam()+'"]').val(rails.csrfToken())},fire:function(obj,name,data){var event=$.Event(name);return obj.trigger(event,data),!1!==event.result},confirm:function(message){return confirm(message)},ajax:function(options){return $.ajax(options)},href:function(element){return element[0].href},isRemote:function(element){return element.data("remote")!==undefined&&!1!==element.data("remote")},handleRemote:function(element){var method,url,data,withCredentials,dataType,options;if(rails.fire(element,"ajax:before")){if(withCredentials=element.data("with-credentials")||null,dataType=element.data("type")||$.ajaxSettings&&$.ajaxSettings.dataType,element.is("form")){method=element.data("ujs:submit-button-formmethod")||element.attr("method"),url=element.data("ujs:submit-button-formaction")||element.attr("action"),data=$(element[0]).serializeArray();var button=element.data("ujs:submit-button");button&&(data.push(button),element.data("ujs:submit-button",null)),element.data("ujs:submit-button-formmethod",null),element.data("ujs:submit-button-formaction",null)}else element.is(rails.inputChangeSelector)?(method=element.data("method"),url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):element.is(rails.buttonClickSelector)?(method=element.data("method")||"get",url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):(method=element.data("method"),url=rails.href(element),data=element.data("params")||null);return options={type:method||"GET",data:data,dataType:dataType,beforeSend:function(xhr,settings){if(settings.dataType===undefined&&xhr.setRequestHeader("accept","*/*;q=0.5, "+settings.accepts.script),!rails.fire(element,"ajax:beforeSend",[xhr,settings]))return!1;element.trigger("ajax:send",xhr)},success:function(data,status,xhr){element.trigger("ajax:success",[data,status,xhr])},complete:function(xhr,status){element.trigger("ajax:complete",[xhr,status])},error:function(xhr,status,error){element.trigger("ajax:error",[xhr,status,error])},crossDomain:rails.isCrossDomain(url)},withCredentials&&(options.xhrFields={withCredentials:withCredentials}),url&&(options.url=url),rails.ajax(options)}return!1},isCrossDomain:function(url){var originAnchor=document.createElement("a");originAnchor.href=location.href;var urlAnchor=document.createElement("a");try{return urlAnchor.href=url,urlAnchor.href=urlAnchor.href,!((!urlAnchor.protocol||":"===urlAnchor.protocol)&&!urlAnchor.host||originAnchor.protocol+"//"+originAnchor.host==urlAnchor.protocol+"//"+urlAnchor.host)}catch(e){return!0}},handleMethod:function(link){var href=rails.href(link),method=link.data("method"),target=link.attr("target"),csrfToken=rails.csrfToken(),csrfParam=rails.csrfParam(),form=$('<form method="post" action="'+href+'"></form>'),metadataInput='<input name="_method" value="'+method+'" type="hidden" />';csrfParam===undefined||csrfToken===undefined||rails.isCrossDomain(href)||(metadataInput+='<input name="'+csrfParam+'" value="'+csrfToken+'" type="hidden" />'),target&&form.attr("target",target),form.hide().append(metadataInput).appendTo("body"),form.submit()},formElements:function(form,selector){return form.is("form")?$(form[0].elements).filter(selector):form.find(selector)},disableFormElements:function(form){rails.formElements(form,rails.disableSelector).each(function(){rails.disableFormElement($(this))})},disableFormElement:function(element){var method,replacement;method=element.is("button")?"html":"val",(replacement=element.data("disable-with"))!==undefined&&(element.data("ujs:enable-with",element[method]()),element[method](replacement)),element.prop("disabled",!0),element.data("ujs:disabled",!0)},enableFormElements:function(form){rails.formElements(form,rails.enableSelector).each(function(){rails.enableFormElement($(this))})},enableFormElement:function(element){var method=element.is("button")?"html":"val";element.data("ujs:enable-with")!==undefined&&(element[method](element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.prop("disabled",!1),element.removeData("ujs:disabled")},allowAction:function(element){var callback,message=element.data("confirm"),answer=!1;if(!message)return!0;if(rails.fire(element,"confirm")){try{answer=rails.confirm(message)}catch(e){(console.error||console.log).call(console,e.stack||e)}callback=rails.fire(element,"confirm:complete",[answer])}return answer&&callback},blankInputs:function(form,specifiedSelector,nonBlank){var input,radiosForNameWithNoneSelected,radioName,foundInputs=$(),selector=specifiedSelector||"input,textarea",requiredInputs=form.find(selector),checkedRadioButtonNames={};return requiredInputs.each(function(){(input=$(this)).is("input[type=radio]")?(radioName=input.attr("name"),checkedRadioButtonNames[radioName]||(0===form.find('input[type=radio]:checked[name="'+radioName+'"]').length&&(radiosForNameWithNoneSelected=form.find('input[type=radio][name="'+radioName+'"]'),foundInputs=foundInputs.add(radiosForNameWithNoneSelected)),checkedRadioButtonNames[radioName]=radioName)):(input.is("input[type=checkbox],input[type=radio]")?input.is(":checked"):!!input.val())===nonBlank&&(foundInputs=foundInputs.add(input))}),!!foundInputs.length&&foundInputs},nonBlankInputs:function(form,specifiedSelector){return rails.blankInputs(form,specifiedSelector,!0)},stopEverything:function(e){return $(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(element){var replacement=element.data("disable-with");replacement!==undefined&&(element.data("ujs:enable-with",element.html()),element.html(replacement)),element.bind("click.railsDisable",function(e){return rails.stopEverything(e)}),element.data("ujs:disabled",!0)},enableElement:function(element){element.data("ujs:enable-with")!==undefined&&(element.html(element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.unbind("click.railsDisable"),element.removeData("ujs:disabled")}},rails.fire($document,"rails:attachBindings")&&($.ajaxPrefilter(function(options,originalOptions,xhr){options.crossDomain||rails.CSRFProtection(xhr)}),$(window).on("pageshow.rails",function(){$($.rails.enableSelector).each(function(){var element=$(this);element.data("ujs:disabled")&&$.rails.enableFormElement(element)}),$($.rails.linkDisableSelector).each(function(){var element=$(this);element.data("ujs:disabled")&&$.rails.enableElement(element)})}),$document.on("ajax:complete",rails.linkDisableSelector,function(){rails.enableElement($(this))}),$document.on("ajax:complete",rails.buttonDisableSelector,function(){rails.enableFormElement($(this))}),$document.on("click.rails",rails.linkClickSelector,function(e){var link=$(this),method=link.data("method"),data=link.data("params"),metaClick=e.metaKey||e.ctrlKey;if(!rails.allowAction(link))return rails.stopEverything(e);if(!metaClick&&link.is(rails.linkDisableSelector)&&rails.disableElement(link),rails.isRemote(link)){if(metaClick&&(!method||"GET"===method)&&!data)return!0;var handleRemote=rails.handleRemote(link);return!1===handleRemote?rails.enableElement(link):handleRemote.fail(function(){rails.enableElement(link)}),!1}return method?(rails.handleMethod(link),!1):void 0}),$document.on("click.rails",rails.buttonClickSelector,function(e){var button=$(this);if(!rails.allowAction(button)||!rails.isRemote(button))return rails.stopEverything(e);button.is(rails.buttonDisableSelector)&&rails.disableFormElement(button);var handleRemote=rails.handleRemote(button);return!1===handleRemote?rails.enableFormElement(button):handleRemote.fail(function(){rails.enableFormElement(button)}),!1}),$document.on("change.rails",rails.inputChangeSelector,function(e){var link=$(this);return rails.allowAction(link)&&rails.isRemote(link)?(rails.handleRemote(link),!1):rails.stopEverything(e)}),$document.on("submit.rails",rails.formSubmitSelector,function(e){var blankRequiredInputs,nonBlankFileInputs,form=$(this),remote=rails.isRemote(form);if(!rails.allowAction(form))return rails.stopEverything(e);if(form.attr("novalidate")===undefined)if(form.data("ujs:formnovalidate-button")===undefined){if((blankRequiredInputs=rails.blankInputs(form,rails.requiredInputSelector,!1))&&rails.fire(form,"ajax:aborted:required",[blankRequiredInputs]))return rails.stopEverything(e)}else form.data("ujs:formnovalidate-button",undefined);if(remote){if(nonBlankFileInputs=rails.nonBlankInputs(form,rails.fileInputSelector)){setTimeout(function(){rails.disableFormElements(form)},13);var aborted=rails.fire(form,"ajax:aborted:file",[nonBlankFileInputs]);return aborted||setTimeout(function(){rails.enableFormElements(form)},13),aborted}return rails.handleRemote(form),!1}setTimeout(function(){rails.disableFormElements(form)},13)}),$document.on("click.rails",rails.formInputClickSelector,function(event){var button=$(this);if(!rails.allowAction(button))return rails.stopEverything(event);var name=button.attr("name"),data=name?{name:name,value:button.val()}:null,form=button.closest("form");0===form.length&&(form=$("#"+button.attr("form"))),form.data("ujs:submit-button",data),form.data("ujs:formnovalidate-button",button.attr("formnovalidate")),form.data("ujs:submit-button-formaction",button.attr("formaction")),form.data("ujs:submit-button-formmethod",button.attr("formmethod"))}),$document.on("ajax:send.rails",rails.formSubmitSelector,function(event){this===event.target&&rails.disableFormElements($(this))}),$document.on("ajax:complete.rails",rails.formSubmitSelector,function(event){this===event.target&&rails.enableFormElements($(this))}),$(function(){rails.refreshCSRFTokens()}))}(jQuery),function($){"use strict";$(function(){var transitionEnd;$.support.transition=(transitionEnd=function(){var name,el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(name in transEndEventNames)if(el.style[name]!==undefined)return transEndEventNames[name]}())&&{end:transitionEnd}})}(window.jQuery),function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){function removeElement(){$parent.trigger("closed").remove()}var $parent,$this=$(this),selector=$this.attr("data-target");selector||(selector=(selector=$this.attr("href"))&&selector.replace(/.*(?=#[^\s]*$)/,"")),$parent=$(selector),e&&e.preventDefault(),$parent.length||($parent=$this.hasClass("alert")?$this:$this.parent()),$parent.trigger(e=$.Event("close")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.on($.support.transition.end,removeElement):removeElement())};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data("alert");data||$this.data("alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})},$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.alert.data-api",dismiss,Alert.prototype.close)}(window.jQuery),function($){"use strict";var Tooltip=function(element,options){this.init("tooltip",element,options)};Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut,triggers,trigger,i;for(this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.enabled=!0,i=(triggers=this.options.trigger.split(" ")).length;i--;)"click"==(trigger=triggers[i])?this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this)):"manual"!=trigger&&(eventIn="hover"==trigger?"mouseenter":"focus",eventOut="hover"==trigger?"mouseleave":"blur",this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this)));this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(options){return(options=$.extend({},$.fn[this.type].defaults,this.$element.data(),options)).delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},enter:function(e){var self,defaults=$.fn[this.type].defaults,options={};if(this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)},this),!(self=$(e.currentTarget)[this.type](options).data(this.type)).options.delay||!self.options.delay.show)return self.show();clearTimeout(this.timeout),self.hoverState="in",this.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!self.options.delay||!self.options.delay.hide)return self.hide();self.hoverState="out",this.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)},show:function(){var $tip,pos,actualWidth,actualHeight,placement,tp,e=$.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;switch($tip=this.tip(),this.setContent(),this.options.animation&&$tip.addClass("fade"),placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,$tip.detach().css({top:0,left:0,display:"block"}),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element),pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight,placement){case"bottom":tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2};break;case"top":tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2};break;case"left":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth};break;case"right":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}}this.applyPlacement(tp,placement),this.$element.trigger("shown")}},applyPlacement:function(offset,placement){var actualWidth,actualHeight,delta,replace,$tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight;$tip.offset(offset).addClass(placement).addClass("in"),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight,"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight,replace=!0),"bottom"==placement||"top"==placement?(delta=0,offset.left<0&&(delta=-2*offset.left,offset.left=0,$tip.offset(offset),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight),this.replaceArrow(delta-width+actualWidth,actualWidth,"left")):this.replaceArrow(actualHeight-height,actualHeight,"top"),replace&&$tip.offset(offset)},replaceArrow:function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},setContent:function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},hide:function(){function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).detach()},500);$tip.one($.support.transition.end,function(){clearTimeout(timeout),$tip.detach()})}var $tip=this.tip(),e=$.Event("hide");if(this.$element.trigger(e),!e.isDefaultPrevented())return $tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?removeWithAnimation():$tip.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var el=this.$element[0];return $.extend({},"function"==typeof el.getBoundingClientRect?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())},getTitle:function(){var $e=this.$element,o=this.options;return $e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},tip:function(){return this.$tip=this.$tip||$(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var self=e?$(e.currentTarget)[this.type](this._options).data(this.type):this;self.tip().hasClass("in")?self.hide():self.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("tooltip"),options="object"==typeof option&&option;data||$this.data("tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]()})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(window.jQuery),function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype,{constructor:Popover,setContent:function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content")[this.options.html?"html":"text"](content),$tip.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var $e=this.$element,o=this.options;return("function"==typeof o.content?o.content.call($e[0]):o.content)||$e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data("popover"),options="object"==typeof option&&option;data||$this.data("popover",data=new Popover(this,options)),"string"==typeof option&&data[option]()})},$.fn.popover.Constructor=Popover,$.fn.popover.defaults=$.extend({},$.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(window.jQuery),function($){"use strict";var Button=function(element,options){this.$element=$(element),this.options=$.extend({},$.fn.button.defaults,options)};Button.prototype.setState=function(state){var d="disabled",$el=this.$element,data=$el.data(),val=$el.is("input")?"val":"html";state+="Text",data.resetText||$el.data("resetText",$el[val]()),$el[val](data[state]||this.options[state]),setTimeout(function(){"loadingText"==state?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d)},0)},Button.prototype.toggle=function(){var $parent=this.$element.closest('[data-toggle="buttons-radio"]');$parent&&$parent.find(".active").removeClass("active"),this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=function(option){return this.each(function(){var $this=$(this),data=$this.data("button"),options="object"==typeof option&&option;data||$this.data("button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})},$.fn.button.defaults={loadingText:"loading..."},$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.button.data-api","[data-toggle^=button]",function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),$btn.button("toggle")})}(window.jQuery),function(factory){var registeredInModuleLoader;if("function"==typeof define&&define.amd&&(define(factory),registeredInModuleLoader=!0),"object"==typeof exports&&(module.exports=factory(),registeredInModuleLoader=!0),!registeredInModuleLoader){var OldCookies=window.Cookies,api=window.Cookies=factory()
;api.noConflict=function(){return window.Cookies=OldCookies,api}}}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}function decode(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function init(converter){function api(){}function set(key,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=extend({path:"/"},api.defaults,attributes)).expires&&(attributes.expires=new Date(1*new Date+864e5*attributes.expires)),attributes.expires=attributes.expires?attributes.expires.toUTCString():"";try{var result=JSON.stringify(value);/^[\{\[]/.test(result)&&(value=result)}catch(e){}value=converter.write?converter.write(value,key):encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=key+"="+value+stringifiedAttributes}}function get(key,json){if("undefined"!=typeof document){for(var jar={},cookies=document.cookie?document.cookie.split("; "):[],i=0;i<cookies.length;i++){var parts=cookies[i].split("="),cookie=parts.slice(1).join("=");json||'"'!==cookie.charAt(0)||(cookie=cookie.slice(1,-1));try{var name=decode(parts[0]);if(cookie=(converter.read||converter)(cookie,name)||decode(cookie),json)try{cookie=JSON.parse(cookie)}catch(e){}if(jar[name]=cookie,key===name)break}catch(e){}}return key?jar[key]:jar}}return api.set=set,api.get=function(key){return get(key,!1)},api.getJSON=function(key){return get(key,!0)},api.remove=function(key,attributes){set(key,"",extend(attributes,{expires:-1}))},api.defaults={},api.withConverter=init,api}return init(function(){})});var Cookies=Cookies.withConverter({write:function(value){return encodeURIComponent(value).replace(/%(23|24|26|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)},read:function(value){return value.replace(/\+/g," ").replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}});window.navigator.userAgent.match("Chrom(e|ium)")?Cookies.defaults={sameSite:"None",secure:!0}:Cookies.defaults={secure:!0},
/*
 * js-md5 v0.1.2
 * https://github.com/emn178/js-md5
 *
 * Copyright 2014, emn178@gmail.com
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(root){"use strict";var HEX_CHARS="0123456789abcdef",HEX_TABLE={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15},R=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],K=[3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745],jsmd5=function(message){for(var blocks=hasUTF8(message)?UTF8toBlocks(message):ASCIItoBlocks(message),h0=1732584193,h1=4023233417,h2=2562383102,h3=271733878,i=0,length=blocks.length;i<length;i+=16){for(var f,g,tmp,x,y,a=h0,b=h1,c=h2,d=h3,j=0;j<64;++j)j<16?(f=d^b&(c^d),g=j):j<32?(f=c^d&(b^c),g=(5*j+1)%16):j<48?(f=b^c^d,g=(3*j+5)%16):(f=c^(b|~d),g=7*j%16),tmp=d,d=c,c=b,b+=(x=a+f+K[j]+blocks[i+g])<<(y=R[j])|x>>>32-y,a=tmp;h0=h0+a|0,h1=h1+b|0,h2=h2+c|0,h3=h3+d|0}return toHexString(h1)+toHexString(h0)+toHexString(h3)+toHexString(h2)},toHexString=function(num){for(var hex="",i=0;i<4;i++){var offset=i<<3;hex+=HEX_CHARS.charAt(num>>offset+4&15)+HEX_CHARS.charAt(num>>offset&15)}return hex},hasUTF8=function(message){for(var i=message.length;i--;)if(127<message.charCodeAt(i))return!0;return!1},ASCIItoBlocks=function(message){var i,length=message.length,blockCount=1+(length+8>>6)<<4,blocks=[];for(i=0;i<blockCount;++i)blocks[i]=0;for(i=0;i<length;++i)blocks[i>>2]|=message.charCodeAt(i)<<(i%4<<3);return blocks[i>>2]|=128<<(i%4<<3),blocks[blockCount-2]=length<<3,blocks},UTF8toBlocks=function(message){for(var uri=encodeURIComponent(message),blocks=[],i=0,bytes=0,length=uri.length;i<length;++i){var c=uri.charCodeAt(i);blocks[bytes>>2]|=37==c?(HEX_TABLE[uri.charAt(++i)]<<4|HEX_TABLE[uri.charAt(++i)])<<(bytes%4<<3):c<<(bytes%4<<3),++bytes}var blockCount=1+(bytes+8>>6)<<4,index=bytes>>2;blocks[index]|=128<<(bytes%4<<3);for(i=index+1;i<blockCount;++i)blocks[i]=0;return blocks[blockCount-2]=bytes<<3,blocks};"undefined"!=typeof module?module.exports=jsmd5:root&&(root.jsmd5=jsmd5)}(this),function(){function debugFakeValue(){return fakeValue}function debugHashedValue(){return hashedValue}function withHashedValue(callback){callback=callback.send||callback,hashedValue?callback(hashedValue,isUpdated,isFaked):hashedCallbacks?hashedCallbacks.push(callback):(hashedCallbacks=[callback],calcFraud(function(fraudValue){fraudValue?hashedValue=hashFraud(fraudValue,!1):(hashedValue=fakeValue,isFaked=!0),setToCookies(),isUpdated=!0,hashedCallbacks.forEach(function(callback){callback(hashedValue,isUpdated,isFaked)})}))}function getHashedValue(){return hashedValue||fakeValue}function writeHashedValueToCookies(callback){withHashedValue(callback=callback||function(){})}function getFromCookies(){var value=Cookies.get("fpr");return checkIfHashed(value)?value:null}function setToCookies(){if(!checkIfHashed(hashedValue))throw new Error("setToCookies: hashedValue has incorrect format!");Cookies.set("fpr",hashedValue)}function checkIfHashed(value){return!!value&&2===value.toString().split(".").length}function checkIfFaked(value){if(!checkIfHashed(value))return!1;var pair=value.toString().split("."),fraud=pair[0],md5Hash=pair[1];return md5Hash===jsmd5(goodStr+fraud+"?")||md5Hash===jsmd5(goodStr+fraud+"+?")}function hashFraud(fraud,fake){var isBad=0!==document.querySelectorAll(badStrs.join(",")).length;return fraud+"."+jsmd5(goodStr+fraud+(isBad?"+":"")+(fake?"?":""))}function calcFraud(callback){function tick(){attempts++,window.gleamFraudCalculator?window.gleamFraudCalculator(callback):limit<=attempts?callback(null):setTimeout(tick,delay)}var delay=250,limit=8,attempts=0;setTimeout(tick,delay)}function fakeFraud(){for(var r="";r.length<32;)r+=Math.floor(16*Math.random()).toString(16);return r}function intsToStr(ints){return ints.map(function(int){return String.fromCharCode(int)}).join("")}var goodStr=intsToStr([53,101,96,105,124,88,86,59,62,119,54,68,116,113,80,90,39]),badStrs=[intsToStr([46,103,115,95,95,119,105,110,95,99,104,97,110,99,101]),intsToStr([35,119,105,110,110,105,110,103,45,99,104,97,110,99,101])],fakeValue=null,hashedValue=null,hashedCallbacks=null,isFaked=!1,isUpdated=!1,cookiesValue=getFromCookies();checkIfFaked(cookiesValue)?fakeValue=cookiesValue:(fakeValue=hashFraud(fakeFraud(),!0),hashedValue=cookiesValue);var fraudService={callback:withHashedValue,hashedFraud:getHashedValue,initCookies:writeHashedValueToCookies,debugFakeValue:debugFakeValue,debugHashedValue:debugHashedValue};"undefined"!=typeof module?module.exports=fraudService:window.fraudService=fraudService}();
/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var _RAD2DEG,_r1,_r2,_r3,_corProps,_globals,Segment,_correlate,cubicToQuadratic,_calculateControlPoints,_parseAnchors,bezierThrough,_parseBezierData,_addCubicLengths,_parseLengthData,BezierPlugin,p;_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(Animation,SimpleTimeline,TweenLite){var _slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_applyCycle=function(vars,targets,i){var p,val,alt=vars.cycle;for(p in alt)val=alt[p],vars[p]="function"==typeof val?val(i,targets[i],targets):val[i%val.length];delete vars.cycle},_distribute=function(v){if("function"==typeof v)return v;var vars="object"==typeof v?v:{each:v},ease=vars.ease,from=vars.from||0,base=vars.base||0,cache={},isFromKeyword=isNaN(from),axis=vars.axis,ratio={center:.5,end:1}[from]||0;return function(i,target,a){var originX,originY,x,y,d,j,max,min,wrap,l=(a||vars).length,distances=cache[l];if(!distances){if(!(wrap="auto"===vars.grid?0:(vars.grid||[Infinity])[0])){for(max=-Infinity;max<(max=a[wrap++].getBoundingClientRect().left)&&wrap<l;);wrap--}for(distances=cache[l]=[],originX=isFromKeyword?Math.min(wrap,l)*ratio-.5:from%wrap,originY=isFromKeyword?l*ratio/wrap-.5:from/wrap|0,max=0,min=Infinity,j=0;j<l;j++)x=j%wrap-originX,y=originY-(j/wrap|0),distances[j]=d=axis?Math.abs("y"===axis?y:x):Math.sqrt(x*x+y*y),max<d&&(max=d),d<min&&(min=d);distances.max=max-min,distances.min=min,distances.v=l=vars.amount||vars.each*(l<wrap?l-1:axis?"y"===axis?l/wrap:wrap:Math.max(wrap,l/wrap))||0,distances.b=l<0?base-l:base}return l=(distances[i]-distances.min)/distances.max,distances.b+(ease?ease.getRatio(l):l)*distances.v}},TweenMax=function(target,duration,vars){TweenLite.call(this,target,duration,vars),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=TweenMax.prototype.render},_tinyNum=1e-8,TweenLiteInternals=TweenLite._internals,_isSelector=TweenLiteInternals.isSelector,_isArray=TweenLiteInternals.isArray,p=TweenMax.prototype=TweenLite.to({},.1,{}),_blankArray=[];TweenMax.version="2.1.3",p.constructor=TweenMax,p.kill()._gc=!1,TweenMax.killTweensOf=TweenMax.killDelayedCallsTo=TweenLite.killTweensOf,TweenMax.getTweensOf=TweenLite.getTweensOf,TweenMax.lagSmoothing=TweenLite.lagSmoothing,TweenMax.ticker=TweenLite.ticker,TweenMax.render=TweenLite.render,TweenMax.distribute=_distribute,p.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),TweenLite.prototype.invalidate.call(this)},p.updateTo=function(vars,resetDuration){var p,self=this,curRatio=self.ratio,immediate=self.vars.immediateRender||vars.immediateRender;for(p in resetDuration&&self._startTime<self._timeline._time&&(self._startTime=self._timeline._time,self._uncache(!1),self._gc?self._enabled(!0,!1):self._timeline.insert(self,self._startTime-self._delay)),vars)self.vars[p]=vars[p];if(self._initted||immediate)if(resetDuration)self._initted=!1,immediate&&self.render(0,!0,!0);else if(self._gc&&self._enabled(!0,!1),self._notifyPluginsOfEnabled&&self._firstPT&&TweenLite._onPluginEvent("_onDisable",self),.998<self._time/self._duration){var prevTime=self._totalTime;self.render(0,!0,!1),self._initted=!1,self.render(prevTime,!0,!1)}else if(self._initted=!1,self._init(),0<self._time||immediate)for(var endValue,inv=1/(1-curRatio),pt=self._firstPT;pt;)endValue=pt.s+pt.c,pt.c*=inv,pt.s=endValue-pt.c,pt=pt._next;return self},p.render=function(time,suppressEvents,force){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var isComplete,callback,pt,cycleDuration,r,type,pow,rawPrevTime,yoyoEase,self=this,totalDur=self._dirty?self.totalDuration():self._totalDuration,prevTime=self._time,prevTotalTime=self._totalTime,prevCycle=self._cycle,duration=self._duration,prevRawPrevTime=self._rawPrevTime;if(totalDur-_tinyNum<=time&&0<=time?(self._totalTime=totalDur,self._cycle=self._repeat,self._yoyo&&0!=(1&self._cycle)?(self._time=0,self.ratio=self._ease._calcEnd?self._ease.getRatio(0):0):(self._time=duration,self.ratio=self._ease._calcEnd?self._ease.getRatio(1):1),self._reversed||(isComplete=!0,callback="onComplete",force=force||self._timeline.autoRemoveChildren),0===duration&&(self._initted||!self.vars.lazy||force)&&(self._startTime===self._timeline._duration&&(time=0),(prevRawPrevTime<0||time<=0&&-_tinyNum<=time||prevRawPrevTime===_tinyNum&&"isPause"!==self.data)&&prevRawPrevTime!==time&&(force=!0,_tinyNum<prevRawPrevTime&&(callback="onReverseComplete")),self._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)):time<_tinyNum?(self._totalTime=self._time=self._cycle=0,self.ratio=self._ease._calcEnd?self._ease.getRatio(0):0,(0!==prevTotalTime||0===duration&&0<prevRawPrevTime)&&(callback="onReverseComplete",isComplete=self._reversed),-_tinyNum<time?time=0:time<0&&(self._active=!1,0===duration&&(self._initted||!self.vars.lazy||force)&&(0<=prevRawPrevTime&&(force=!0),self._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)),self._initted||(force=!0)):(self._totalTime=self._time=time,0!==self._repeat&&(cycleDuration=duration+self._repeatDelay,self._cycle=self._totalTime/cycleDuration>>0,0!==self._cycle&&self._cycle===self._totalTime/cycleDuration&&prevTotalTime<=time&&self._cycle--,self._time=self._totalTime-self._cycle*cycleDuration,self._yoyo&&0!=(1&self._cycle)&&(self._time=duration-self._time,(yoyoEase=self._yoyoEase||self.vars.yoyoEase)&&(self._yoyoEase||(!0!==yoyoEase||self._initted?self._yoyoEase=yoyoEase=!0===yoyoEase?self._ease:yoyoEase instanceof Ease?yoyoEase:Ease.map[yoyoEase]:(yoyoEase=self.vars.ease,self._yoyoEase=yoyoEase=yoyoEase?yoyoEase instanceof Ease?yoyoEase:"function"==typeof yoyoEase?new Ease(yoyoEase,self.vars.easeParams):Ease.map[yoyoEase]||TweenLite.defaultEase:TweenLite.defaultEase)),self.ratio=yoyoEase?1-yoyoEase.getRatio((duration-self._time)/duration):0)),self._time>duration?self._time=duration:self._time<0&&(self._time=0)),self._easeType&&!yoyoEase?(r=self._time/duration,(1===(type=self._easeType)||3===type&&.5<=r)&&(r=1-r),3===type&&(r*=2),1===(pow=self._easePower)?r*=r:2===pow?r*=r*r:3===pow?r*=r*r*r:4===pow&&(r*=r*r*r*r),self.ratio=1===type?1-r:2===type?r:self._time/duration<.5?r/2:1-r/2):yoyoEase||(self.ratio=self._ease.getRatio(self._time/duration))),prevTime!==self._time||force||prevCycle!==self._cycle){if(!self._initted){if(self._init(),!self._initted||self._gc)return;if(!force&&self._firstPT&&(!1!==self.vars.lazy&&self._duration||self.vars.lazy&&!self._duration))return self._time=prevTime,self._totalTime=prevTotalTime,self._rawPrevTime=prevRawPrevTime,self._cycle=prevCycle,TweenLiteInternals.lazyTweens.push(self),void(self._lazy=[time,suppressEvents]);!self._time||isComplete||yoyoEase?isComplete&&this._ease._calcEnd&&!yoyoEase&&(self.ratio=self._ease.getRatio(0===self._time?0:1)):self.ratio=self._ease.getRatio(self._time/duration)}for(!1!==self._lazy&&(self._lazy=!1),self._active||!self._paused&&self._time!==prevTime&&0<=time&&(self._active=!0),0===prevTotalTime&&(2===self._initted&&0<time&&self._init(),self._startAt&&(0<=time?self._startAt.render(time,!0,force):callback||(callback="_dummyGS")),self.vars.onStart&&(0===self._totalTime&&0!==duration||suppressEvents||self._callback("onStart"))),pt=self._firstPT;pt;)pt.f?pt.t[pt.p](pt.c*self.ratio+pt.s):pt.t[pt.p]=pt.c*self.ratio+pt.s,pt=pt._next;self._onUpdate&&(time<0&&self._startAt&&self._startTime&&self._startAt.render(time,!0,force),suppressEvents||(self._totalTime!==prevTotalTime||callback)&&self._callback("onUpdate")),self._cycle!==prevCycle&&(suppressEvents||self._gc||self.vars.onRepeat&&self._callback("onRepeat")),callback&&(self._gc&&!force||(time<0&&self._startAt&&!self._onUpdate&&self._startTime&&self._startAt.render(time,!0,force),isComplete&&(self._timeline.autoRemoveChildren&&self._enabled(!1,!1),self._active=!1),!suppressEvents&&self.vars[callback]&&self._callback(callback),0===duration&&self._rawPrevTime===_tinyNum&&rawPrevTime!==_tinyNum&&(self._rawPrevTime=0)))}else prevTotalTime!==self._totalTime&&self._onUpdate&&(suppressEvents||self._callback("onUpdate"))},TweenMax.to=function(target,duration,vars){return new TweenMax(target,duration,vars)},TweenMax.from=function(target,duration,vars){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,new TweenMax(target,duration,vars)},TweenMax.fromTo=function(target,duration,fromVars,toVars){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,new TweenMax(target,duration,toVars)},TweenMax.staggerTo=TweenMax.allTo=function(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){var l,copy,i,p,a=[],staggerFunc=_distribute(vars.stagger||stagger),cycle=vars.cycle,fromCycle=(vars.startAt||_blankArray).cycle;for(_isArray(targets)||("string"==typeof targets&&(targets=TweenLite.selector(targets)||targets),_isSelector(targets)&&(targets=_slice(targets))),l=(targets=targets||[]).length-1,i=0;i<=l;i++){for(p in copy={},vars)copy[p]=vars[p];if(cycle&&(_applyCycle(copy,targets,i),null!=copy.duration&&(duration=copy.duration,delete copy.duration)),fromCycle){for(p in fromCycle=copy.startAt={},vars.startAt)fromCycle[p]=vars.startAt[p];_applyCycle(copy.startAt,targets,i)}copy.delay=staggerFunc(i,targets[i],targets)+(copy.delay||0),i===l&&onCompleteAll&&(copy.onComplete=function(){vars.onComplete&&vars.onComplete.apply(vars.onCompleteScope||this,arguments),onCompleteAll.apply(onCompleteAllScope||vars.callbackScope||this,onCompleteAllParams||_blankArray)}),a[i]=new TweenMax(targets[i],duration,copy)}return a},TweenMax.staggerFrom=TweenMax.allFrom=function(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,TweenMax.staggerTo(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},TweenMax.staggerFromTo=TweenMax.allFromTo=function(targets,duration,fromVars,toVars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,TweenMax.staggerTo(targets,duration,toVars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},TweenMax.delayedCall=function(delay,callback,params,scope,useFrames){return new TweenMax(callback,0,{delay:delay,onComplete:callback,onCompleteParams:params,callbackScope:scope,onReverseComplete:callback,onReverseCompleteParams:params,immediateRender:!1,useFrames:useFrames,overwrite:0})},TweenMax.set=function(target,vars){return new TweenMax(target,0,vars)},TweenMax.isTweening=function(target){return 0<TweenLite.getTweensOf(target,!0).length};var _getChildrenOf=function(timeline,includeTimelines){for(var a=[],cnt=0,tween=timeline._first;tween;)tween instanceof TweenLite?a[cnt++]=tween:(includeTimelines&&(a[cnt++]=tween),cnt=(a=a.concat(_getChildrenOf(tween,includeTimelines))).length),tween=tween._next;return a},getAllTweens=TweenMax.getAllTweens=function(includeTimelines){return _getChildrenOf(Animation._rootTimeline,includeTimelines).concat(_getChildrenOf(Animation._rootFramesTimeline,includeTimelines))};TweenMax.killAll=function(complete,tweens,delayedCalls,timelines){null==tweens&&(tweens=!0),null==delayedCalls&&(delayedCalls=!0);var isDC,tween,i,a=getAllTweens(0!=timelines),l=a.length,allTrue=tweens&&delayedCalls&&timelines;for(i=0;i<l;i++)tween=a[i],(allTrue||tween instanceof SimpleTimeline||(isDC=tween.target===tween.vars.onComplete)&&delayedCalls||tweens&&!isDC)&&(complete?tween.totalTime(tween._reversed?0:tween.totalDuration()):tween._enabled(!1,!1))},TweenMax.killChildTweensOf=function(parent,complete){if(null!=parent){var a,curParent,p,i,l,tl=TweenLiteInternals.tweenLookup;if("string"==typeof parent&&(parent=TweenLite.selector(parent)||parent),_isSelector(parent)&&(parent=_slice(parent)),_isArray(parent))for(i=parent.length;-1<--i;)TweenMax.killChildTweensOf(parent[i],complete);else{for(p in a=[],tl)for(curParent=tl[p].target.parentNode;curParent;)curParent===parent&&(a=a.concat(tl[p].tweens)),curParent=curParent.parentNode;for(l=a.length,i=0;i<l;i++)complete&&a[i].totalTime(a[i].totalDuration()),a[i]._enabled(!1,!1)}}};var _changePause=function(pause,tweens,delayedCalls,timelines){tweens=!1!==tweens,delayedCalls=!1!==delayedCalls;for(var isDC,tween,a=getAllTweens(timelines=!1!==timelines),allTrue=tweens&&delayedCalls&&timelines,i=a.length;-1<--i;)tween=a[i],(allTrue||tween instanceof SimpleTimeline||(isDC=tween.target===tween.vars.onComplete)&&delayedCalls||tweens&&!isDC)&&tween.paused(pause)};return TweenMax.pauseAll=function(tweens,delayedCalls,timelines){_changePause(!0,tweens,delayedCalls,timelines)},TweenMax.resumeAll=function(tweens,delayedCalls,timelines){_changePause(!1,tweens,delayedCalls,timelines)},TweenMax.globalTimeScale=function(value){var tl=Animation._rootTimeline,t=TweenLite.ticker.time;return arguments.length?(value=value||_tinyNum,tl._startTime=t-(t-tl._startTime)*tl._timeScale/value,tl=Animation._rootFramesTimeline,t=TweenLite.ticker.frame,tl._startTime=t-(t-tl._startTime)*tl._timeScale/value,tl._timeScale=Animation._rootTimeline._timeScale=value,value):tl._timeScale},p.progress=function(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-value:value)+this._cycle*(this._duration+this._repeatDelay),suppressEvents):this.duration()?this._time/this._duration:this.ratio},p.totalProgress=function(value,suppressEvents){return arguments.length?this.totalTime(this.totalDuration()*value,suppressEvents):this._totalTime/this.totalDuration()},p.time=function(value,suppressEvents){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var duration=this._duration,cycle=this._cycle,cycleDur=cycle*(duration+this._repeatDelay);return duration<value&&(value=duration),this.totalTime(this._yoyo&&1&cycle?duration-value+cycleDur:this._repeat?value+cycleDur:value,suppressEvents)},p.duration=function(value){return arguments.length?Animation.prototype.duration.call(this,value):this._duration},p.totalDuration=function(value){return arguments.length?-1===this._repeat?this:this.duration((value-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},p.repeat=function(value){return arguments.length?(this._repeat=value,this._uncache(!0)):this._repeat},p.repeatDelay=function(value){return arguments.length?(this._repeatDelay=value,this._uncache(!0)):this._repeatDelay},p.yoyo=function(value){return arguments.length?(this._yoyo=value,this):this._yoyo},TweenMax},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(Animation,SimpleTimeline,TweenLite){var TimelineLite=function(vars){SimpleTimeline.call(this,vars);var val,p,self=this,v=self.vars;for(p in self._labels={},self.autoRemoveChildren=!!v.autoRemoveChildren,self.smoothChildTiming=!!v.smoothChildTiming,self._sortChildren=!0,self._onUpdate=v.onUpdate,v)val=v[p],_isArray(val)&&-1!==val.join("").indexOf("{self}")&&(v[p]=self._swapSelfInParams(val));_isArray(v.tweens)&&self.add(v.tweens,0,v.align,v.stagger)},_tinyNum=1e-8,TweenLiteInternals=TweenLite._internals,_internals=TimelineLite._internals={},_isSelector=TweenLiteInternals.isSelector,_isArray=TweenLiteInternals.isArray,_lazyTweens=TweenLiteInternals.lazyTweens,_lazyRender=TweenLiteInternals.lazyRender,_globals=_gsScope._gsDefine.globals,_copy=function(vars){var p,copy={};for(p in vars)copy[p]=vars[p];return copy},_applyCycle=function(vars,targets,i){var p,val,alt=vars.cycle;for(p in alt)val=alt[p],vars[p]="function"==typeof val?val(i,targets[i],targets):val[i%val.length];delete vars.cycle},_pauseCallback=_internals.pauseCallback=function(){},_slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_defaultImmediateRender=function(tl,toVars,fromVars,defaultFalse){var ir="immediateRender";return ir in toVars||(toVars[ir]=!(fromVars&&!1===fromVars[ir]||defaultFalse)),toVars},_distribute=function(v){if("function"==typeof v)return v;var vars="object"==typeof v?v:{each:v},ease=vars.ease,from=vars.from||0,base=vars.base||0,cache={},isFromKeyword=isNaN(from),axis=vars.axis,ratio={center:.5,end:1}[from]||0;return function(i,target,a){var originX,originY,x,y,d,j,max,min,wrap,l=(a||vars).length,distances=cache[l];if(!distances){if(!(wrap="auto"===vars.grid?0:(vars.grid||[Infinity])[0])){for(max=-Infinity;max<(max=a[wrap++].getBoundingClientRect().left)&&wrap<l;);wrap--}for(distances=cache[l]=[],originX=isFromKeyword?Math.min(wrap,l)*ratio-.5:from%wrap,originY=isFromKeyword?l*ratio/wrap-.5:from/wrap|0,max=0,min=Infinity,j=0;j<l;j++)x=j%wrap-originX,y=originY-(j/wrap|0),distances[j]=d=axis?Math.abs("y"===axis?y:x):Math.sqrt(x*x+y*y),max<d&&(max=d),d<min&&(min=d);distances.max=max-min,distances.min=min,distances.v=l=vars.amount||vars.each*(l<wrap?l-1:axis?"y"===axis?l/wrap:wrap:Math.max(wrap,l/wrap))||0,distances.b=l<0?base-l:base}return l=(distances[i]-distances.min)/distances.max,distances.b+(ease?ease.getRatio(l):l)*distances.v}},p=TimelineLite.prototype=new SimpleTimeline;return TimelineLite.version="2.1.3",TimelineLite.distribute=_distribute,p.constructor=TimelineLite,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(target,duration,vars,position){var Engine=vars.repeat&&_globals.TweenMax||TweenLite;return duration?this.add(new Engine(target,duration,vars),position):this.set(target,vars,position)},p.from=function(target,duration,vars,position){return this.add((vars.repeat&&_globals.TweenMax||TweenLite).from(target,duration,_defaultImmediateRender(this,vars)),position)},p.fromTo=function(target,duration,fromVars,toVars,position){var Engine=toVars.repeat&&_globals.TweenMax||TweenLite;return toVars=_defaultImmediateRender(this,toVars,fromVars),duration?this.add(Engine.fromTo(target,duration,fromVars,toVars),position):this.set(target,toVars,position)},p.staggerTo=function(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){var copy,i,tl=new TimelineLite({onComplete:onCompleteAll,onCompleteParams:onCompleteAllParams,callbackScope:onCompleteAllScope,smoothChildTiming:this.smoothChildTiming}),staggerFunc=_distribute(vars.stagger||stagger),startAt=vars.startAt,cycle=vars.cycle;for("string"==typeof targets&&(targets=TweenLite.selector(targets)||targets),_isSelector(targets=targets||[])&&(targets=_slice(targets)),i=0;i<targets.length;i++)copy=_copy(vars),startAt&&(copy.startAt=_copy(startAt),startAt.cycle&&_applyCycle(copy.startAt,targets,i)),cycle&&(_applyCycle(copy,targets,i),null!=copy.duration&&(duration=copy.duration,delete copy.duration)),tl.to(targets[i],duration,copy,staggerFunc(i,targets[i],targets));return this.add(tl,position)},p.staggerFrom=function(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return vars.runBackwards=!0,this.staggerTo(targets,duration,_defaultImmediateRender(this,vars),stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},p.staggerFromTo=function(targets,duration,fromVars,toVars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return toVars.startAt=fromVars,this.staggerTo(targets,duration,_defaultImmediateRender(this,toVars,fromVars),stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},p.call=function(callback,params,scope,position){return this.add(TweenLite.delayedCall(0,callback,params,scope),position)},p.set=function(target,vars,position){return this.add(new TweenLite(target,0,_defaultImmediateRender(this,vars,null,!0)),position)},TimelineLite.exportRoot=function(vars,ignoreDelayedCalls){null==(vars=vars||{}).smoothChildTiming&&(vars.smoothChildTiming=!0);var hasNegativeStart,time,tween,next,tl=new TimelineLite(vars),root=tl._timeline;for(null==ignoreDelayedCalls&&(ignoreDelayedCalls=!0),root._remove(tl,!0),tl._startTime=0,tl._rawPrevTime=tl._time=tl._totalTime=root._time,tween=root._first;tween;)next=tween._next,ignoreDelayedCalls&&tween instanceof TweenLite&&tween.target===tween.vars.onComplete||((time=tween._startTime-tween._delay)<0&&(hasNegativeStart=1),tl.add(tween,time)),tween=next;return root.add(tl,0),hasNegativeStart&&tl.totalDuration(),tl},p.add=function(value,position,align,stagger){var curTime,l,i,child,tl,beforeRawTime,self=this;if("number"!=typeof position&&(position=self._parseTimeOrLabel(position,0,!0,value)),!(value instanceof Animation)){if(value instanceof Array||value&&value.push&&_isArray(value)){for(align=align||"normal",stagger=stagger||0,curTime=position,l=value.length,i=0;i<l;i++)_isArray(child=value[i])&&(child=new TimelineLite({tweens:child})),self.add(child,curTime),"string"!=typeof child&&"function"!=typeof child&&("sequence"===align?curTime=child._startTime+child.totalDuration()/child._timeScale:"start"===align&&(child._startTime-=child.delay())),curTime+=stagger;return self._uncache(!0)}if("string"==typeof value)return self.addLabel(value,position);if("function"!=typeof value)throw"Cannot add "+value+" into the timeline; it is not a tween, timeline, function, or string.";value=TweenLite.delayedCall(0,value)}if(SimpleTimeline.prototype.add.call(self,value,position),(value._time||!value._duration&&value._initted)&&(curTime=(self.rawTime()-value._startTime)*value._timeScale,(!value._duration||1e-5<Math.abs(Math.max(0,Math.min(value.totalDuration(),curTime)))-value._totalTime)&&value.render(curTime,!1,!1)),(self._gc||self._time===self._duration)&&!self._paused&&self._duration<self.duration())for(beforeRawTime=(tl=self).rawTime()>value._startTime;tl._timeline;)beforeRawTime&&tl._timeline.smoothChildTiming?tl.totalTime(tl._totalTime,!0):tl._gc&&tl._enabled(!0,!1),tl=tl._timeline;return self},p.remove=function(value){if(value instanceof Animation){this._remove(value,!1);var tl=value._timeline=value.vars.useFrames?Animation._rootFramesTimeline:Animation._rootTimeline;return value._startTime=(value._paused?value._pauseTime:tl._time)-(value._reversed?value.totalDuration()-value._totalTime:value._totalTime)/value._timeScale,this}if(value instanceof Array||value&&value.push&&_isArray(value)){for(var i=value.length;-1<--i;)this.remove(value[i]);return this}return"string"==typeof value?this.removeLabel(value):this.kill(null,value)},p._remove=function(tween,skipDisable){return SimpleTimeline.prototype._remove.call(this,tween,skipDisable),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(value,offsetOrLabel){return this.add(value,this._parseTimeOrLabel(null,offsetOrLabel,!0,value))},p.insert=p.insertMultiple=function(value,position,align,stagger){return this.add(value,position||0,align,stagger)},p.appendMultiple=function(tweens,offsetOrLabel,align,stagger){return this.add(tweens,this._parseTimeOrLabel(null,offsetOrLabel,!0,tweens),align,stagger)},p.addLabel=function(label,position){return this._labels[label]=this._parseTimeOrLabel(position),this},p.addPause=function(position,callback,params,scope){var t=TweenLite.delayedCall(0,_pauseCallback,params,scope||this);return t.vars.onComplete=t.vars.onReverseComplete=callback,t.data="isPause",this._hasPause=!0,this.add(t,position)},p.removeLabel=function(label){return delete this._labels[label],this},p.getLabelTime=function(label){return null!=this._labels[label]?this._labels[label]:-1},p._parseTimeOrLabel=function(timeOrLabel,offsetOrLabel,appendIfAbsent,ignore){var clippedDuration,i;if(ignore instanceof Animation&&ignore.timeline===this)this.remove(ignore);else if(ignore&&(ignore instanceof Array||ignore.push&&_isArray(ignore)))for(i=ignore.length;-1<--i;)ignore[i]instanceof Animation&&ignore[i].timeline===this&&this.remove(ignore[i]);if(clippedDuration="number"!=typeof timeOrLabel||offsetOrLabel?99999999999<this.duration()?this.recent().endTime(!1):this._duration:0,"string"==typeof offsetOrLabel)return this._parseTimeOrLabel(offsetOrLabel,appendIfAbsent&&"number"==typeof timeOrLabel&&null==this._labels[offsetOrLabel]?timeOrLabel-clippedDuration:0,appendIfAbsent);if(offsetOrLabel=offsetOrLabel||0,"string"!=typeof timeOrLabel||!isNaN(timeOrLabel)&&null==this._labels[timeOrLabel])null==timeOrLabel&&(timeOrLabel=clippedDuration);else{if(-1===(i=timeOrLabel.indexOf("=")))return null==this._labels[timeOrLabel]?appendIfAbsent?this._labels[timeOrLabel]=clippedDuration+offsetOrLabel:offsetOrLabel:this._labels[timeOrLabel]+offsetOrLabel;offsetOrLabel=parseInt(timeOrLabel.charAt(i-1)+"1",10)*Number(timeOrLabel.substr(i+1)),timeOrLabel=1<i?this._parseTimeOrLabel(timeOrLabel.substr(0,i-1),0,appendIfAbsent):clippedDuration}return Number(timeOrLabel)+offsetOrLabel},p.seek=function(position,suppressEvents){return this.totalTime("number"==typeof position?position:this._parseTimeOrLabel(position),!1!==suppressEvents)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(position,suppressEvents){return this.play(position,suppressEvents)},p.gotoAndStop=function(position,suppressEvents){return this.pause(position,suppressEvents)},p.render=function(time,suppressEvents,force){this._gc&&this._enabled(!0,!1);var tween,isComplete,next,callback,internalForce,pauseTween,curTime,pauseTime,self=this,prevTime=self._time,totalDur=self._dirty?self.totalDuration():self._totalDuration,prevStart=self._startTime,prevTimeScale=self._timeScale,prevPaused=self._paused;if(prevTime!==self._time&&(time+=self._time-prevTime),self._hasPause&&!self._forcingPlayhead&&!suppressEvents){if(prevTime<time)for(tween=self._first;tween&&tween._startTime<=time&&!pauseTween;)tween._duration||"isPause"!==tween.data||tween.ratio||0===tween._startTime&&0===self._rawPrevTime||(pauseTween=tween),tween=tween._next;else for(tween=self._last;tween&&tween._startTime>=time&&!pauseTween;)tween._duration||"isPause"===tween.data&&0<tween._rawPrevTime&&(pauseTween=tween),tween=tween._prev;pauseTween&&(self._time=self._totalTime=time=pauseTween._startTime,pauseTime=self._startTime+(self._reversed?self._duration-time:time)/self._timeScale)}if(totalDur-_tinyNum<=time&&0<=time)self._totalTime=self._time=totalDur,self._reversed||self._hasPausedChild()||(isComplete=!0,callback="onComplete",internalForce=!!self._timeline.autoRemoveChildren,0===self._duration&&(time<=0&&-_tinyNum<=time||self._rawPrevTime<0||self._rawPrevTime===_tinyNum)&&self._rawPrevTime!==time&&self._first&&(internalForce=!0,self._rawPrevTime>_tinyNum&&(callback="onReverseComplete"))),self._rawPrevTime=self._duration||!suppressEvents||time||self._rawPrevTime===time?time:_tinyNum,time=totalDur+1e-4;else if(time<_tinyNum)if(self._totalTime=self._time=0,-_tinyNum<time&&(time=0),(0!==prevTime||0===self._duration&&self._rawPrevTime!==_tinyNum&&(0<self._rawPrevTime||time<0&&0<=self._rawPrevTime))&&(callback="onReverseComplete",isComplete=self._reversed),time<0)self._active=!1,self._timeline.autoRemoveChildren&&self._reversed?(internalForce=isComplete=!0,callback="onReverseComplete"):0<=self._rawPrevTime&&self._first&&(internalForce=!0),self._rawPrevTime=time;else{if(self._rawPrevTime=self._duration||!suppressEvents||time||self._rawPrevTime===time?time:_tinyNum,0===time&&isComplete)for(tween=self._first;tween&&0===tween._startTime;)tween._duration||(isComplete=!1),tween=tween._next;time=0,self._initted||(internalForce=!0)}else self._totalTime=self._time=self._rawPrevTime=time;if(self._time!==prevTime&&self._first||force||internalForce||pauseTween){if(self._initted||(self._initted=!0),self._active||!self._paused&&self._time!==prevTime&&0<time&&(self._active=!0),0===prevTime&&self.vars.onStart&&(0===self._time&&self._duration||suppressEvents||self._callback("onStart")),prevTime<=(curTime=self._time))for(tween=self._first;tween&&(next=tween._next,curTime===self._time&&(!self._paused||prevPaused));)(tween._active||tween._startTime<=curTime&&!tween._paused&&!tween._gc)&&(pauseTween===tween&&(self.pause(),self._pauseTime=pauseTime),tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next;else for(tween=self._last;tween&&(next=tween._prev,curTime===self._time&&(!self._paused||prevPaused));){if(tween._active||tween._startTime<=prevTime&&!tween._paused&&!tween._gc){if(pauseTween===tween){for(pauseTween=tween._prev;pauseTween&&pauseTween.endTime()>self._time;)pauseTween.render(pauseTween._reversed?pauseTween.totalDuration()-(time-pauseTween._startTime)*pauseTween._timeScale:(time-pauseTween._startTime)*pauseTween._timeScale,suppressEvents,force),pauseTween=pauseTween._prev;pauseTween=null,self.pause(),self._pauseTime=pauseTime}tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)}tween=next}self._onUpdate&&(suppressEvents||(_lazyTweens.length&&_lazyRender(),self._callback("onUpdate"))),callback&&(self._gc||prevStart!==self._startTime&&prevTimeScale===self._timeScale||(0===self._time||totalDur>=self.totalDuration())&&(isComplete&&(_lazyTweens.length&&_lazyRender(),self._timeline.autoRemoveChildren&&self._enabled(!1,!1),self._active=!1),!suppressEvents&&self.vars[callback]&&self._callback(callback)))}},p._hasPausedChild=function(){for(var tween=this._first;tween;){if(tween._paused||tween instanceof TimelineLite&&tween._hasPausedChild())return!0;tween=tween._next}return!1},p.getChildren=function(nested,tweens,timelines,ignoreBeforeTime){ignoreBeforeTime=ignoreBeforeTime||-9999999999;for(var a=[],tween=this._first,cnt=0;tween;)tween._startTime<ignoreBeforeTime||(tween instanceof TweenLite?!1!==tweens&&(a[cnt++]=tween):(!1!==timelines&&(a[cnt++]=tween),!1!==nested&&(cnt=(a=a.concat(tween.getChildren(!0,tweens,timelines))).length))),tween=tween._next;return a},p.getTweensOf=function(target,nested){var tweens,i,disabled=this._gc,a=[],cnt=0;for(disabled&&this._enabled(!0,!0),i=(tweens=TweenLite.getTweensOf(target)).length;-1<--i;)(tweens[i].timeline===this||nested&&this._contains(tweens[i]))&&(a[cnt++]=tweens[i]);return disabled&&this._enabled(!1,!0),a},p.recent=function(){return this._recent},p._contains=function(tween){for(var tl=tween.timeline;tl;){if(tl===this)return!0;tl=tl.timeline}return!1},p.shiftChildren=function(amount,adjustLabels,ignoreBeforeTime){ignoreBeforeTime=ignoreBeforeTime||0;for(var p,tween=this._first,labels=this._labels;tween;)tween._startTime>=ignoreBeforeTime&&(tween._startTime+=amount),tween=tween._next;if(adjustLabels)for(p in labels)labels[p]>=ignoreBeforeTime&&(labels[p]+=amount);return this._uncache(!0)},p._kill=function(vars,target){if(!vars&&!target)return this._enabled(!1,!1);for(var tweens=target?this.getTweensOf(target):this.getChildren(!0,!0,!1),i=tweens.length,changed=!1;-1<--i;)tweens[i]._kill(vars,target)&&(changed=!0);return changed},p.clear=function(labels){var tweens=this.getChildren(!1,!0,!0),i=tweens.length;for(this._time=this._totalTime=0;-1<--i;)tweens[i]._enabled(!1,!1);return!1!==labels&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var tween=this._first;tween;)tween.invalidate(),tween=tween._next;return Animation.prototype.invalidate.call(this)},p._enabled=function(enabled,ignoreTimeline){if(enabled===this._gc)for(var tween=this._first;tween;)tween._enabled(enabled,!0),tween=tween._next;return SimpleTimeline.prototype._enabled.call(this,enabled,ignoreTimeline)},p.totalTime=function(time,suppressEvents,uncapped){this._forcingPlayhead=!0;var val=Animation.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,val},p.duration=function(value){return arguments.length?(0!==this.duration()&&0!==value&&this.timeScale(this._duration/value),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(value){if(arguments.length)return value&&this.totalDuration()?this.timeScale(this._totalDuration/value):this;if(this._dirty){for(var prev,end,max=0,self=this,tween=self._last,prevStart=999999999999;tween;)prev=tween._prev,tween._dirty&&tween.totalDuration(),
tween._startTime>prevStart&&self._sortChildren&&!tween._paused&&!self._calculatingDuration?(self._calculatingDuration=1,self.add(tween,tween._startTime-tween._delay),self._calculatingDuration=0):prevStart=tween._startTime,tween._startTime<0&&!tween._paused&&(max-=tween._startTime,self._timeline.smoothChildTiming&&(self._startTime+=tween._startTime/self._timeScale,self._time-=tween._startTime,self._totalTime-=tween._startTime,self._rawPrevTime-=tween._startTime),self.shiftChildren(-tween._startTime,!1,-9999999999),prevStart=0),max<(end=tween._startTime+tween._totalDuration/tween._timeScale)&&(max=end),tween=prev;self._duration=self._totalDuration=max,self._dirty=!1}return this._totalDuration},p.paused=function(value){if(!1===value&&this._paused)for(var tween=this._first;tween;)tween._startTime===this._time&&"isPause"===tween.data&&(tween._rawPrevTime=0),tween=tween._next;return Animation.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var tl=this._timeline;tl._timeline;)tl=tl._timeline;return tl===Animation._rootFramesTimeline},p.rawTime=function(wrapRepeats){return wrapRepeats&&(this._paused||this._repeat&&0<this.time()&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(wrapRepeats)-this._startTime)*this._timeScale},TimelineLite},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(TimelineLite,TweenLite,Ease){var TimelineMax=function(vars){TimelineLite.call(this,vars),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},_tinyNum=1e-8,TweenLiteInternals=TweenLite._internals,_lazyTweens=TweenLiteInternals.lazyTweens,_lazyRender=TweenLiteInternals.lazyRender,_globals=_gsScope._gsDefine.globals,_easeNone=new Ease(null,null,1,0),p=TimelineMax.prototype=new TimelineLite;return p.constructor=TimelineMax,p.kill()._gc=!1,TimelineMax.version="2.1.3",p.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),TimelineLite.prototype.invalidate.call(this)},p.addCallback=function(callback,position,params,scope){return this.add(TweenLite.delayedCall(0,callback,params,scope),position)},p.removeCallback=function(callback,position){if(callback)if(null==position)this._kill(null,callback);else for(var a=this.getTweensOf(callback,!1),i=a.length,time=this._parseTimeOrLabel(position);-1<--i;)a[i]._startTime===time&&a[i]._enabled(!1,!1);return this},p.removePause=function(position){return this.removeCallback(TimelineLite._internals.pauseCallback,position)},p.tweenTo=function(position,vars){vars=vars||{};var duration,p,t,copy={ease:_easeNone,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},Engine=vars.repeat&&_globals.TweenMax||TweenLite;for(p in vars)copy[p]=vars[p];return copy.time=this._parseTimeOrLabel(position),duration=Math.abs(Number(copy.time)-this._time)/this._timeScale||.001,t=new Engine(this,duration,copy),copy.onStart=function(){t.target.paused(!0),t.vars.time===t.target.time()||duration!==t.duration()||t.isFromTo||t.duration(Math.abs(t.vars.time-t.target.time())/t.target._timeScale).render(t.time(),!0,!0),vars.onStart&&vars.onStart.apply(vars.onStartScope||vars.callbackScope||t,vars.onStartParams||[])},t},p.tweenFromTo=function(fromPosition,toPosition,vars){vars=vars||{},fromPosition=this._parseTimeOrLabel(fromPosition),vars.startAt={onComplete:this.seek,onCompleteParams:[fromPosition],callbackScope:this},vars.immediateRender=!1!==vars.immediateRender;var t=this.tweenTo(toPosition,vars);return t.isFromTo=1,t.duration(Math.abs(t.vars.time-fromPosition)/this._timeScale||.001)},p.render=function(time,suppressEvents,force){this._gc&&this._enabled(!0,!1);var tween,isComplete,next,callback,internalForce,cycleDuration,pauseTween,curTime,pauseTime,self=this,prevTime=self._time,totalDur=self._dirty?self.totalDuration():self._totalDuration,dur=self._duration,prevTotalTime=self._totalTime,prevStart=self._startTime,prevTimeScale=self._timeScale,prevRawPrevTime=self._rawPrevTime,prevPaused=self._paused,prevCycle=self._cycle;if(prevTime!==self._time&&(time+=self._time-prevTime),totalDur-_tinyNum<=time&&0<=time)self._locked||(self._totalTime=totalDur,self._cycle=self._repeat),self._reversed||self._hasPausedChild()||(isComplete=!0,callback="onComplete",internalForce=!!self._timeline.autoRemoveChildren,0===self._duration&&(time<=0&&-_tinyNum<=time||prevRawPrevTime<0||prevRawPrevTime===_tinyNum)&&prevRawPrevTime!==time&&self._first&&(internalForce=!0,_tinyNum<prevRawPrevTime&&(callback="onReverseComplete"))),self._rawPrevTime=self._duration||!suppressEvents||time||self._rawPrevTime===time?time:_tinyNum,self._yoyo&&1&self._cycle?self._time=time=0:time=(self._time=dur)+1e-4;else if(time<_tinyNum)if(self._locked||(self._totalTime=self._cycle=0),self._time=0,-_tinyNum<time&&(time=0),(0!==prevTime||0===dur&&prevRawPrevTime!==_tinyNum&&(0<prevRawPrevTime||time<0&&0<=prevRawPrevTime)&&!self._locked)&&(callback="onReverseComplete",isComplete=self._reversed),time<0)self._active=!1,self._timeline.autoRemoveChildren&&self._reversed?(internalForce=isComplete=!0,callback="onReverseComplete"):0<=prevRawPrevTime&&self._first&&(internalForce=!0),self._rawPrevTime=time;else{if(self._rawPrevTime=dur||!suppressEvents||time||self._rawPrevTime===time?time:_tinyNum,0===time&&isComplete)for(tween=self._first;tween&&0===tween._startTime;)tween._duration||(isComplete=!1),tween=tween._next;time=0,self._initted||(internalForce=!0)}else 0===dur&&prevRawPrevTime<0&&(internalForce=!0),self._time=self._rawPrevTime=time,self._locked||(self._totalTime=time,0!==self._repeat&&(cycleDuration=dur+self._repeatDelay,self._cycle=self._totalTime/cycleDuration>>0,self._cycle&&self._cycle===self._totalTime/cycleDuration&&prevTotalTime<=time&&self._cycle--,self._time=self._totalTime-self._cycle*cycleDuration,self._yoyo&&1&self._cycle&&(self._time=dur-self._time),self._time>dur?time=(self._time=dur)+1e-4:self._time<0?self._time=time=0:time=self._time));if(self._hasPause&&!self._forcingPlayhead&&!suppressEvents){if(prevTime<(time=self._time)||self._repeat&&prevCycle!==self._cycle)for(tween=self._first;tween&&tween._startTime<=time&&!pauseTween;)tween._duration||"isPause"!==tween.data||tween.ratio||0===tween._startTime&&0===self._rawPrevTime||(pauseTween=tween),tween=tween._next;else for(tween=self._last;tween&&tween._startTime>=time&&!pauseTween;)tween._duration||"isPause"===tween.data&&0<tween._rawPrevTime&&(pauseTween=tween),tween=tween._prev;pauseTween&&(pauseTime=self._startTime+(self._reversed?self._duration-pauseTween._startTime:pauseTween._startTime)/self._timeScale,pauseTween._startTime<dur&&(self._time=self._rawPrevTime=time=pauseTween._startTime,self._totalTime=time+self._cycle*(self._totalDuration+self._repeatDelay)))}if(self._cycle!==prevCycle&&!self._locked){var backwards=self._yoyo&&0!=(1&prevCycle),wrap=backwards===(self._yoyo&&0!=(1&self._cycle)),recTotalTime=self._totalTime,recCycle=self._cycle,recRawPrevTime=self._rawPrevTime,recTime=self._time;if(self._totalTime=prevCycle*dur,self._cycle<prevCycle?backwards=!backwards:self._totalTime+=dur,self._time=prevTime,self._rawPrevTime=0===dur?prevRawPrevTime-1e-4:prevRawPrevTime,self._cycle=prevCycle,self._locked=!0,prevTime=backwards?0:dur,self.render(prevTime,suppressEvents,0===dur),suppressEvents||self._gc||self.vars.onRepeat&&(self._cycle=recCycle,self._locked=!1,self._callback("onRepeat")),prevTime!==self._time)return;if(wrap&&(self._cycle=prevCycle,self._locked=!0,prevTime=backwards?dur+1e-4:-1e-4,self.render(prevTime,!0,!1)),self._locked=!1,self._paused&&!prevPaused)return;self._time=recTime,self._totalTime=recTotalTime,self._cycle=recCycle,self._rawPrevTime=recRawPrevTime}if(self._time!==prevTime&&self._first||force||internalForce||pauseTween){if(self._initted||(self._initted=!0),self._active||!self._paused&&self._totalTime!==prevTotalTime&&0<time&&(self._active=!0),0===prevTotalTime&&self.vars.onStart&&(0===self._totalTime&&self._totalDuration||suppressEvents||self._callback("onStart")),prevTime<=(curTime=self._time))for(tween=self._first;tween&&(next=tween._next,curTime===self._time&&(!self._paused||prevPaused));)(tween._active||tween._startTime<=self._time&&!tween._paused&&!tween._gc)&&(pauseTween===tween&&(self.pause(),self._pauseTime=pauseTime),tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next;else for(tween=self._last;tween&&(next=tween._prev,curTime===self._time&&(!self._paused||prevPaused));){if(tween._active||tween._startTime<=prevTime&&!tween._paused&&!tween._gc){if(pauseTween===tween){for(pauseTween=tween._prev;pauseTween&&pauseTween.endTime()>self._time;)pauseTween.render(pauseTween._reversed?pauseTween.totalDuration()-(time-pauseTween._startTime)*pauseTween._timeScale:(time-pauseTween._startTime)*pauseTween._timeScale,suppressEvents,force),pauseTween=pauseTween._prev;pauseTween=null,self.pause(),self._pauseTime=pauseTime}tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)}tween=next}self._onUpdate&&(suppressEvents||(_lazyTweens.length&&_lazyRender(),self._callback("onUpdate"))),callback&&(self._locked||self._gc||prevStart!==self._startTime&&prevTimeScale===self._timeScale||(0===self._time||totalDur>=self.totalDuration())&&(isComplete&&(_lazyTweens.length&&_lazyRender(),self._timeline.autoRemoveChildren&&self._enabled(!1,!1),self._active=!1),!suppressEvents&&self.vars[callback]&&self._callback(callback)))}else prevTotalTime!==self._totalTime&&self._onUpdate&&(suppressEvents||self._callback("onUpdate"))},p.getActive=function(nested,tweens,timelines){var i,tween,a=[],all=this.getChildren(nested||null==nested,tweens||null==nested,!!timelines),cnt=0,l=all.length;for(i=0;i<l;i++)(tween=all[i]).isActive()&&(a[cnt++]=tween);return a},p.getLabelAfter=function(time){time||0!==time&&(time=this._time);var i,labels=this.getLabelsArray(),l=labels.length;for(i=0;i<l;i++)if(labels[i].time>time)return labels[i].name;return null},p.getLabelBefore=function(time){null==time&&(time=this._time);for(var labels=this.getLabelsArray(),i=labels.length;-1<--i;)if(labels[i].time<time)return labels[i].name;return null},p.getLabelsArray=function(){var p,a=[],cnt=0;for(p in this._labels)a[cnt++]={time:this._labels[p],name:p};return a.sort(function(a,b){return a.time-b.time}),a},p.invalidate=function(){return this._locked=!1,TimelineLite.prototype.invalidate.call(this)},p.progress=function(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-value:value)+this._cycle*(this._duration+this._repeatDelay),suppressEvents):this._time/this.duration()||0},p.totalProgress=function(value,suppressEvents){return arguments.length?this.totalTime(this.totalDuration()*value,suppressEvents):this._totalTime/this.totalDuration()||0},p.totalDuration=function(value){return arguments.length?-1!==this._repeat&&value?this.timeScale(this.totalDuration()/value):this:(this._dirty&&(TimelineLite.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},p.time=function(value,suppressEvents){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var duration=this._duration,cycle=this._cycle,cycleDur=cycle*(duration+this._repeatDelay);return duration<value&&(value=duration),this.totalTime(this._yoyo&&1&cycle?duration-value+cycleDur:this._repeat?value+cycleDur:value,suppressEvents)},p.repeat=function(value){return arguments.length?(this._repeat=value,this._uncache(!0)):this._repeat},p.repeatDelay=function(value){return arguments.length?(this._repeatDelay=value,this._uncache(!0)):this._repeatDelay},p.yoyo=function(value){return arguments.length?(this._yoyo=value,this):this._yoyo},p.currentLabel=function(value){return arguments.length?this.seek(value,!0):this.getLabelBefore(this._time+_tinyNum)},TimelineMax},!0),_RAD2DEG=180/Math.PI,_r1=[],_r2=[],_r3=[],_corProps={},_globals=_gsScope._gsDefine.globals,Segment=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},_correlate=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",cubicToQuadratic=function(a,b,c,d){var q1={a:a},q2={},q3={},q4={c:d},mab=(a+b)/2,mbc=(b+c)/2,mcd=(c+d)/2,mabc=(mab+mbc)/2,mbcd=(mbc+mcd)/2,m8=(mbcd-mabc)/8;return q1.b=mab+(a-mab)/4,q2.b=mabc+m8,q1.c=q2.a=(q1.b+q2.b)/2,q2.c=q3.a=(mabc+mbcd)/2,q3.b=mbcd-m8,q4.b=mcd+(d-mcd)/4,q3.c=q4.a=(q3.b+q4.b)/2,[q1,q2,q3,q4]},_calculateControlPoints=function(a,curviness,quad,basic,correlate){var i,p1,p2,p3,seg,m1,m2,mm,cp2,qb,r1,r2,tl,l=a.length-1,ii=0,cp1=a[0].a;for(i=0;i<l;i++)p1=(seg=a[ii]).a,p2=seg.d,p3=a[ii+1].d,correlate?(r1=_r1[i],tl=((r2=_r2[i])+r1)*curviness*.25/(basic?.5:_r3[i]||.5),mm=p2-((m1=p2-(p2-p1)*(basic?.5*curviness:0!==r1?tl/r1:0))+(((m2=p2+(p3-p2)*(basic?.5*curviness:0!==r2?tl/r2:0))-m1)*(3*r1/(r1+r2)+.5)/4||0))):mm=p2-((m1=p2-(p2-p1)*curviness*.5)+(m2=p2+(p3-p2)*curviness*.5))/2,m1+=mm,m2+=mm,seg.c=cp2=m1,seg.b=0!==i?cp1:cp1=seg.a+.6*(seg.c-seg.a),seg.da=p2-p1,seg.ca=cp2-p1,seg.ba=cp1-p1,quad?(qb=cubicToQuadratic(p1,cp1,cp2,p2),a.splice(ii,1,qb[0],qb[1],qb[2],qb[3]),ii+=4):ii++,cp1=m2;(seg=a[ii]).b=cp1,seg.c=cp1+.4*(seg.d-cp1),seg.da=seg.d-seg.a,seg.ca=seg.c-seg.a,seg.ba=cp1-seg.a,quad&&(qb=cubicToQuadratic(seg.a,cp1,seg.c,seg.d),a.splice(ii,1,qb[0],qb[1],qb[2],qb[3]))},_parseAnchors=function(values,p,correlate,prepend){var l,i,p1,p2,p3,tmp,a=[];if(prepend)for(i=(values=[prepend].concat(values)).length;-1<--i;)"string"==typeof(tmp=values[i][p])&&"="===tmp.charAt(1)&&(values[i][p]=prepend[p]+Number(tmp.charAt(0)+tmp.substr(2)));if((l=values.length-2)<0)return a[0]=new Segment(values[0][p],0,0,values[0][p]),a;for(i=0;i<l;i++)p1=values[i][p],p2=values[i+1][p],a[i]=new Segment(p1,0,0,p2),correlate&&(p3=values[i+2][p],_r1[i]=(_r1[i]||0)+(p2-p1)*(p2-p1),_r2[i]=(_r2[i]||0)+(p3-p2)*(p3-p2));return a[i]=new Segment(values[i][p],0,0,values[i+1][p]),a},bezierThrough=function(values,curviness,quadratic,basic,correlate,prepend){var i,p,a,j,r,l,seamless,last,obj={},props=[],first=prepend||values[0];for(p in correlate="string"==typeof correlate?","+correlate+",":_correlate,null==curviness&&(curviness=1),values[0])props.push(p);if(1<values.length){for(last=values[values.length-1],seamless=!0,i=props.length;-1<--i;)if(p=props[i],.05<Math.abs(first[p]-last[p])){seamless=!1;break}seamless&&(values=values.concat(),prepend&&values.unshift(prepend),values.push(values[1]),prepend=values[values.length-3])}for(_r1.length=_r2.length=_r3.length=0,i=props.length;-1<--i;)p=props[i],_corProps[p]=-1!==correlate.indexOf(","+p+","),obj[p]=_parseAnchors(values,p,_corProps[p],prepend);for(i=_r1.length;-1<--i;)_r1[i]=Math.sqrt(_r1[i]),_r2[i]=Math.sqrt(_r2[i]);if(!basic){for(i=props.length;-1<--i;)if(_corProps[p])for(l=(a=obj[props[i]]).length-1,j=0;j<l;j++)r=a[j+1].da/_r2[j]+a[j].da/_r1[j]||0,_r3[j]=(_r3[j]||0)+r*r;for(i=_r3.length;-1<--i;)_r3[i]=Math.sqrt(_r3[i])}for(i=props.length,j=quadratic?4:1;-1<--i;)a=obj[p=props[i]],_calculateControlPoints(a,curviness,quadratic,basic,_corProps[p]),seamless&&(a.splice(0,j),a.splice(a.length-j,j));return obj},_parseBezierData=function(values,type,prepend){var a,b,c,d,cur,i,j,l,p,cnt,tmp,obj={},inc="cubic"===(type=type||"soft")?3:2,soft="soft"===type,props=[];if(soft&&prepend&&(values=[prepend].concat(values)),null==values||values.length<inc+1)throw"invalid Bezier data";for(p in values[0])props.push(p);for(i=props.length;-1<--i;){for(obj[p=props[i]]=cur=[],cnt=0,l=values.length,j=0;j<l;j++)a=null==prepend?values[j][p]:"string"==typeof(tmp=values[j][p])&&"="===tmp.charAt(1)?prepend[p]+Number(tmp.charAt(0)+tmp.substr(2)):Number(tmp),soft&&1<j&&j<l-1&&(cur[cnt++]=(a+cur[cnt-2])/2),cur[cnt++]=a;for(l=cnt-inc+1,j=cnt=0;j<l;j+=inc)a=cur[j],b=cur[j+1],c=cur[j+2],d=2===inc?0:cur[j+3],cur[cnt++]=tmp=3===inc?new Segment(a,b,c,d):new Segment(a,(2*b+a)/3,(2*b+c)/3,c);cur.length=cnt}return obj},_addCubicLengths=function(a,steps,resolution){for(var d,d1,s,da,ca,ba,p,i,inv,bez,index,inc=1/resolution,j=a.length;-1<--j;)for(s=(bez=a[j]).a,da=bez.d-s,ca=bez.c-s,ba=bez.b-s,d=d1=0,i=1;i<=resolution;i++)d=d1-(d1=((p=inc*i)*p*da+3*(inv=1-p)*(p*ca+inv*ba))*p),steps[index=j*resolution+i-1]=(steps[index]||0)+d*d},_parseLengthData=function(obj,resolution){var p,i,l,index,a=[],lengths=[],d=0,total=0,threshold=(resolution=resolution>>0||6)-1,segments=[],curLS=[];for(p in obj)_addCubicLengths(obj[p],a,resolution);for(l=a.length,i=0;i<l;i++)d+=Math.sqrt(a[i]),curLS[index=i%resolution]=d,index===threshold&&(total+=d,segments[index=i/resolution>>0]=curLS,lengths[index]=total,d=0,curLS=[]);return{length:total,lengths:lengths,segments:segments}},p=(BezierPlugin=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.9",API:2,global:!0,init:function(target,vars,tween){this._target=target,vars instanceof Array&&(vars={values:vars}),this._func={},this._mod={},this._props=[],this._timeRes=null==vars.timeResolution?6:parseInt(vars.timeResolution,10);var p,isFunc,i,j,prepend,values=vars.values||[],first={},second=values[0],autoRotate=vars.autoRotate||tween.vars.orientToBezier;for(p in this._autoRotate=autoRotate?autoRotate instanceof Array?autoRotate:[["x","y","rotation",!0===autoRotate?0:Number(autoRotate)||0]]:null,second)this._props.push(p);for(i=this._props.length;-1<--i;)p=this._props[i],this._overwriteProps.push(p),isFunc=this._func[p]="function"==typeof target[p],first[p]=isFunc?target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)]():parseFloat(target[p]),prepend||first[p]!==values[0][p]&&(prepend=first);if(this._beziers="cubic"!==vars.type&&"quadratic"!==vars.type&&"soft"!==vars.type?bezierThrough(values,isNaN(vars.curviness)?1:vars.curviness,!1,"thruBasic"===vars.type,vars.correlate,prepend):_parseBezierData(values,vars.type,first),this._segCount=this._beziers[p].length,this._timeRes){var ld=_parseLengthData(this._beziers,this._timeRes);this._length=ld.length,this._lengths=ld.lengths,this._segments=ld.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(autoRotate=this._autoRotate)for(this._initialRotations=[],autoRotate[0]instanceof Array||(this._autoRotate=autoRotate=[autoRotate]),i=autoRotate.length;-1<--i;){for(j=0;j<3;j++)p=autoRotate[i][j],this._func[p]="function"==typeof target[p]&&target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)];p=autoRotate[i][2],this._initialRotations[i]=(this._func[p]?this._func[p].call(this._target):this._target[p])||0,this._overwriteProps.push(p)}return this._startRatio=tween.vars.runBackwards?1:0,!0},set:function(v){var curIndex,inv,i,p,b,t,val,l,lengths,curSeg,v1,segments=this._segCount,func=this._func,target=this._target,notStart=v!==this._startRatio;if(this._timeRes){if(lengths=this._lengths,curSeg=this._curSeg,v1=v*this._length,i=this._li,v1>this._l2&&i<segments-1){for(l=segments-1;i<l&&(this._l2=lengths[++i])<=v1;);this._l1=lengths[i-1],this._li=i,this._curSeg=curSeg=this._segments[i],this._s2=curSeg[this._s1=this._si=0]}else if(v1<this._l1&&0<i){for(;0<i&&(this._l1=lengths[--i])>=v1;);0===i&&v1<this._l1?this._l1=0:i++,this._l2=lengths[i],this._li=i,this._curSeg=curSeg=this._segments[i],this._s1=curSeg[(this._si=curSeg.length-1)-1]||0,this._s2=curSeg[this._si]}if(curIndex=i,v1-=this._l1,i=this._si,v1>this._s2&&i<curSeg.length-1){for(l=curSeg.length-1;i<l&&(this._s2=curSeg[++i])<=v1;);this._s1=curSeg[i-1],this._si=i}else if(v1<this._s1&&0<i){for(;0<i&&(this._s1=curSeg[--i])>=v1;);0===i&&v1<this._s1?this._s1=0:i++,this._s2=curSeg[i],this._si=i}t=1===v?1:(i+(v1-this._s1)/(this._s2-this._s1))*this._prec||0}else t=(v-(curIndex=v<0?0:1<=v?segments-1:segments*v>>0)*(1/segments))*segments;for(inv=1-t,i=this._props.length;-1<--i;)p=this._props[i],val=(t*t*(b=this._beziers[p][curIndex]).da+3*inv*(t*b.ca+inv*b.ba))*t+b.a,this._mod[p]&&(val=this._mod[p](val,target)),func[p]?target[p](val):target[p]=val;if(this._autoRotate){var b2,x1,y1,x2,y2,add,conv,ar=this._autoRotate;for(i=ar.length;-1<--i;)p=ar[i][2],add=ar[i][3]||0,conv=!0===ar[i][4]?1:_RAD2DEG,b=this._beziers[ar[i][0]],b2=this._beziers[ar[i][1]],b&&b2&&(b=b[curIndex],b2=b2[curIndex],x1=b.a+(b.b-b.a)*t,x1+=((x2=b.b+(b.c-b.b)*t)-x1)*t,x2+=(b.c+(b.d-b.c)*t-x2)*t,y1=b2.a+(b2.b-b2.a)*t,y1+=((y2=b2.b+(b2.c-b2.b)*t)-y1)*t,y2+=(b2.c+(b2.d-b2.c)*t-y2)*t,val=notStart?Math.atan2(y2-y1,x2-x1)*conv+add:this._initialRotations[i],this._mod[p]&&(val=this._mod[p](val,target)),func[p]?target[p](val):target[p]=val)}}})).prototype,BezierPlugin.bezierThrough=bezierThrough,BezierPlugin.cubicToQuadratic=cubicToQuadratic,BezierPlugin._autoCSS=!0,BezierPlugin.quadraticToCubic=function(a,b,c){return new Segment(a,(2*b+a)/3,(2*b+c)/3,c)},BezierPlugin._cssRegister=function(){var CSSPlugin=_globals.CSSPlugin;if(CSSPlugin){var _internals=CSSPlugin._internals,_parseToProxy=_internals._parseToProxy,_setPluginRatio=_internals._setPluginRatio,CSSPropTween=_internals.CSSPropTween;_internals._registerComplexSpecialProp("bezier",{parser:function(t,e,prop,cssp,pt,plugin){e instanceof Array&&(e={values:e}),plugin=new BezierPlugin;var i,p,data,values=e.values,l=values.length-1,pluginValues=[],v={};if(l<0)return pt;for(i=0;i<=l;i++)data=_parseToProxy(t,values[i],cssp,pt,plugin,l!==i),pluginValues[i]=data.end;for(p in e)v[p]=e[p];return v.values=pluginValues,(pt=new CSSPropTween(t,"bezier",0,0,data.pt,2)).data=data,pt.plugin=plugin,pt.setRatio=_setPluginRatio,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(i=!0===v.autoRotate?0:Number(v.autoRotate),v.autoRotate=null!=data.end.left?[["left","top","rotation",i,!1]]:null!=data.end.x&&[["x","y","rotation",i,!1]]),v.autoRotate&&(cssp._transform||cssp._enableTransforms(!1),data.autoRotate=cssp._target._gsTransform,data.proxy.rotation=data.autoRotate.rotation||0,cssp._overwriteProps.push("rotation")),plugin._onInitTween(data.proxy,v,cssp._tween),pt}})}},p._mod=function(lookup){for(var val,op=this._overwriteProps,i=op.length;-1<--i;)(val=lookup[op[i]])&&"function"==typeof val&&(this._mod[op[i]]=val)},p._kill=function(lookup){var p,i,a=this._props;for(p in this._beziers)if(p in lookup)for(delete this._beziers[p],delete this._func[p],i=a.length;-1<--i;)a[i]===p&&a.splice(i,1);if(a=this._autoRotate)for(i=a.length;-1<--i;)lookup[a[i][2]]&&a.splice(i,1);return this._super._kill.call(this,lookup)},_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(TweenPlugin,TweenLite){var _hasPriority,_suffixMap,_cs,_overwriteProps,CSSPlugin=function(){TweenPlugin.call(this,"css"),this._overwriteProps.length=0,this.setRatio=CSSPlugin.prototype.setRatio},_globals=_gsScope._gsDefine.globals,_specialProps={},p=CSSPlugin.prototype=new TweenPlugin("css");(p.constructor=CSSPlugin).version="2.1.3",CSSPlugin.API=2,CSSPlugin.defaultTransformPerspective=0,CSSPlugin.defaultSkewType="compensated",CSSPlugin.defaultSmoothOrigin=!0,p="px",CSSPlugin.suffixMap={top:p,right:p,bottom:p,left:p,width:p,height:p,fontSize:p,padding:p,margin:p,perspective:p,lineHeight:""};var _autoRound,_reqSafariFix,_isSafari,_isFirefox,_isSafariLT6,_ieVers,_target,_index,_numExp=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_relNumExp=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_valuesExp=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_valuesExpWithCommas=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b),?/gi,_NaNExp=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,_suffixExp=/(?:\d|\-|\+|=|#|\.)*/g,_opacityExp=/opacity *= *([^)]*)/i,_opacityValExp=/opacity:([^;]*)/i,_alphaFilterExp=/alpha\(opacity *=.+?\)/i,_rgbhslExp=/^(rgb|hsl)/,_capsExp=/([A-Z])/g,_camelExp=/-([a-z])/gi,_urlExp=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,_camelFunc=function(s,g){return g.toUpperCase()},_horizExp=/(?:Left|Right|Width)/i,_ieGetMatrixExp=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,_ieSetMatrixExp=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,_commasOutsideParenExp=/,(?=[^\)]*(?:\(|$))/gi,_complexExp=/[\s,\(]/i,_DEG2RAD=Math.PI/180,_RAD2DEG=180/Math.PI,_forcePT={},_dummyElement={style:{}},_doc=_gsScope.document||{createElement:function(){return _dummyElement}},_createElement=function(type,ns){var e=_doc.createElementNS?_doc.createElementNS(ns||"http://www.w3.org/1999/xhtml",type):_doc.createElement(type);return e.style?e:_doc.createElement(type)},_tempDiv=_createElement("div"),_tempImg=_createElement("img"),_internals=CSSPlugin._internals={_specialProps:_specialProps},_agent=(_gsScope.navigator||{}).userAgent||"",_supportsOpacity=function(){var i=_agent.indexOf("Android"),a=_createElement("a");return _isSafari=-1!==_agent.indexOf("Safari")&&-1===_agent.indexOf("Chrome")&&(-1===i||3<parseFloat(_agent.substr(i+8,2))),_isSafariLT6=_isSafari&&parseFloat(_agent.substr(_agent.indexOf("Version/")+8,2))<6,_isFirefox=-1!==_agent.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_agent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(_agent))&&(_ieVers=parseFloat(RegExp.$1)),!!a&&(a.style.cssText="top:1px;opacity:.55;",/^0.55/.test(a.style.opacity))}(),_getIEOpacity=function(v){return _opacityExp.test("string"==typeof v?v:(v.currentStyle?v.currentStyle.filter:v.style.filter)||"")?parseFloat(RegExp.$1)/100:1},_log=function(s){_gsScope.console&&console.log(s)},_prefixCSS="",_prefix="",_checkPropPrefix=function(p,e){var a,i,s=(e=e||_tempDiv).style;if(s[p]!==undefined)return p;for(p=p.charAt(0).toUpperCase()+p.substr(1),a=["O","Moz","ms","Ms","Webkit"],i=5;-1<--i&&s[a[i]+p]===undefined;);return 0<=i?(_prefix=3===i?"ms":a[i],_prefixCSS="-"+_prefix.toLowerCase()+"-",_prefix+p):null},_computedStyleScope="undefined"!=typeof window?window:_doc.defaultView||{getComputedStyle:function(){}},_getComputedStyle=function(e){return _computedStyleScope.getComputedStyle(e)},_getStyle=CSSPlugin.getStyle=function(t,p,cs,calc,dflt){var rv;return _supportsOpacity||"opacity"!==p?(!calc&&t.style[p]?rv=t.style[p]:(cs=cs||_getComputedStyle(t))?rv=cs[p]||cs.getPropertyValue(p)||cs.getPropertyValue(p.replace(_capsExp,"-$1").toLowerCase()):t.currentStyle&&(rv=t.currentStyle[p]),null==dflt||rv&&"none"!==rv&&"auto"!==rv&&"auto auto"!==rv?rv:dflt):_getIEOpacity(t)},_convertToPixels=_internals.convertToPixels=function(t,p,v,sfx,recurse){if("px"===sfx||!sfx&&"lineHeight"!==p)return v;if("auto"===sfx||!v)return 0;var pix,cache,time,horiz=_horizExp.test(p),node=t,style=_tempDiv.style,neg=v<0,precise=1===v;if(neg&&(v=-v),precise&&(v*=100),"lineHeight"!==p||sfx)if("%"===sfx&&-1!==p.indexOf("border"))pix=v/100*(horiz?t.clientWidth:t.clientHeight);else{if(style.cssText="border:0 solid red;position:"+_getStyle(t,"position")+";line-height:0;","%"!==sfx&&node.appendChild&&"v"!==sfx.charAt(0)&&"rem"!==sfx)style[horiz?"borderLeftWidth":"borderTopWidth"]=v+sfx;else{if(node=t.parentNode||_doc.body,-1!==_getStyle(node,"display").indexOf("flex")&&(style.position="absolute"),cache=node._gsCache,time=TweenLite.ticker.frame,cache&&horiz&&cache.time===time)return cache.width*v/100;style[horiz?"width":"height"]=v+sfx}node.appendChild(_tempDiv),pix=parseFloat(_tempDiv[horiz?"offsetWidth":"offsetHeight"]),node.removeChild(_tempDiv),horiz&&"%"===sfx&&!1!==CSSPlugin.cacheWidths&&((cache=node._gsCache=node._gsCache||{}).time=time,cache.width=pix/v*100),0!==pix||recurse||(pix=_convertToPixels(t,p,v,sfx,!0))}else cache=_getComputedStyle(t).lineHeight,t.style.lineHeight=v,pix=parseFloat(_getComputedStyle(t).lineHeight),t.style.lineHeight=cache;return precise&&(pix/=100),neg?-pix:pix},_calculateOffset=_internals.calculateOffset=function(t,p,cs){if("absolute"!==_getStyle(t,"position",cs))return 0;var dim="left"===p?"Left":"Top",v=_getStyle(t,"margin"+dim,cs);return t["offset"+dim]-(_convertToPixels(t,p,parseFloat(v),v.replace(_suffixExp,""))||0)},_getAllStyles=function(t,cs){var i,tr,p,s={};if(cs=cs||_getComputedStyle(t,null))if(i=cs.length)for(;-1<--i;)-1!==(p=cs[i]).indexOf("-transform")&&_transformPropCSS!==p||(s[p.replace(_camelExp,_camelFunc)]=cs.getPropertyValue(p));else for(i in cs)-1!==i.indexOf("Transform")&&_transformProp!==i||(s[i]=cs[i]);else if(cs=t.currentStyle||t.style)for(i in cs)"string"==typeof i&&s[i]===undefined&&(s[i.replace(_camelExp,_camelFunc)]=cs[i]);return _supportsOpacity||(s.opacity=_getIEOpacity(t)),tr=_getTransform(t,cs,!1),s.rotation=tr.rotation,s.skewX=tr.skewX,s.scaleX=tr.scaleX,s.scaleY=tr.scaleY,s.x=tr.x,s.y=tr.y,_supports3D&&(s.z=tr.z,s.rotationX=tr.rotationX,s.rotationY=tr.rotationY,s.scaleZ=tr.scaleZ),s.filters&&delete s.filters,s},_cssDif=function(t,s1,s2,vars,forceLookup){var val,p,mpt,difs={},style=t.style;for(p in s2)"cssText"!==p&&"length"!==p&&isNaN(p)&&(s1[p]!==(val=s2[p])||forceLookup&&forceLookup[p])&&-1===p.indexOf("Origin")&&("number"!=typeof val&&"string"!=typeof val||(difs[p]="auto"!==val||"left"!==p&&"top"!==p?""!==val&&"auto"!==val&&"none"!==val||"string"!=typeof s1[p]||""===s1[p].replace(_NaNExp,"")?val:0:_calculateOffset(t,p),style[p]!==undefined&&(mpt=new MiniPropTween(style,p,style[p],mpt))));if(vars)for(p in vars)"className"!==p&&(difs[p]=vars[p]);return{difs:difs,firstMPT:mpt}},_dimensions={width:["Left","Right"],height:["Top","Bottom"]},_margins=["marginLeft","marginRight","marginTop","marginBottom"],_getDimension=function(t,p,cs){if("svg"===(t.nodeName+"").toLowerCase())return(cs||_getComputedStyle(t))[p]||0;if(t.getCTM&&_isSVG(t))return t.getBBox()[p]||0;var v=parseFloat("width"===p?t.offsetWidth:t.offsetHeight),a=_dimensions[p],i=a.length;for(cs=cs||_getComputedStyle(t,null);-1<--i;)v-=parseFloat(_getStyle(t,"padding"+a[i],cs,!0))||0,v-=parseFloat(_getStyle(t,"border"+a[i]+"Width",cs,!0))||0;return v},_parsePosition=function(v,recObj){if("contain"===v||"auto"===v||"auto auto"===v)return v+" ";null!=v&&""!==v||(v="0 0");var i,a=v.split(" "),x=-1!==v.indexOf("left")?"0%":-1!==v.indexOf("right")?"100%":a[0],y=-1!==v.indexOf("top")?"0%":-1!==v.indexOf("bottom")?"100%":a[1];if(3<a.length&&!recObj){for(a=v.split(", ").join(",").split(","),v=[],i=0;i<a.length;i++)v.push(_parsePosition(a[i]));return v.join(",")}return null==y?y="center"===x?"50%":"0":"center"===y&&(y="50%"),("center"===x||isNaN(parseFloat(x))&&-1===(x+"").indexOf("="))&&(x="50%"),v=x+" "+y+(2<a.length?" "+a[2]:""),recObj&&(recObj.oxp=-1!==x.indexOf("%"),recObj.oyp=-1!==y.indexOf("%"),recObj.oxr="="===x.charAt(1),recObj.oyr="="===y.charAt(1),recObj.ox=parseFloat(x.replace(_NaNExp,"")),recObj.oy=parseFloat(y.replace(_NaNExp,"")),recObj.v=v),recObj||v},_parseChange=function(e,b){return"function"==typeof e&&(e=e(_index,_target)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(b)||0},_parseVal=function(v,d){"function"==typeof v&&(v=v(_index,_target));var isRelative="string"==typeof v&&"="===v.charAt(1);return"string"==typeof v&&"v"===v.charAt(v.length-2)&&(v=(isRelative?v.substr(0,2):0)+window["inner"+("vh"===v.substr(-2)?"Height":"Width")]*(parseFloat(isRelative?v.substr(2):v)/100)),null==v?d:isRelative?parseInt(v.charAt(0)+"1",10)*parseFloat(v.substr(2))+d:parseFloat(v)||0},_parseAngle=function(v,d,p,directionalEnd){var cap,split,dif,result,isRelative,min=1e-6;return"function"==typeof v&&(v=v(_index,_target)),null==v?result=d:"number"==typeof v?result=v:(cap=360,split=v.split("_"),dif=((isRelative="="===v.charAt(1))?parseInt(v.charAt(0)+"1",10)*parseFloat(split[0].substr(2)):parseFloat(split[0]))*(-1===v.indexOf("rad")?1:_RAD2DEG)-(isRelative?0:d),split.length&&(directionalEnd&&(directionalEnd[p]=d+dif),-1!==v.indexOf("short")&&(dif%=cap)!==dif%(cap/2)&&(dif=dif<0?dif+cap:dif-cap),-1!==v.indexOf("_cw")&&dif<0?dif=(dif+9999999999*cap)%cap-(dif/cap|0)*cap:-1!==v.indexOf("ccw")&&0<dif&&(dif=(dif-9999999999*cap)%cap-(dif/cap|0)*cap)),result=d+dif),result<min&&-min<result&&(result=0),result},_colorLookup={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},_hue=function(h,m1,m2){
return 255*(6*(h=h<0?h+1:1<h?h-1:h)<1?m1+(m2-m1)*h*6:h<.5?m2:3*h<2?m1+(m2-m1)*(2/3-h)*6:m1)+.5|0},_parseColor=CSSPlugin.parseColor=function(v,toHSL){var a,r,g,b,h,s,l,max,min,d,wasHSL;if(v)if("number"==typeof v)a=[v>>16,v>>8&255,255&v];else{if(","===v.charAt(v.length-1)&&(v=v.substr(0,v.length-1)),_colorLookup[v])a=_colorLookup[v];else if("#"===v.charAt(0))4===v.length&&(v="#"+(r=v.charAt(1))+r+(g=v.charAt(2))+g+(b=v.charAt(3))+b),a=[(v=parseInt(v.substr(1),16))>>16,v>>8&255,255&v];else if("hsl"===v.substr(0,3))if(a=wasHSL=v.match(_numExp),toHSL){if(-1!==v.indexOf("="))return v.match(_relNumExp)}else h=Number(a[0])%360/360,s=Number(a[1])/100,r=2*(l=Number(a[2])/100)-(g=l<=.5?l*(s+1):l+s-l*s),3<a.length&&(a[3]=Number(a[3])),a[0]=_hue(h+1/3,r,g),a[1]=_hue(h,r,g),a[2]=_hue(h-1/3,r,g);else a=v.match(_numExp)||_colorLookup.transparent;a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),3<a.length&&(a[3]=Number(a[3]))}else a=_colorLookup.black;return toHSL&&!wasHSL&&(r=a[0]/255,g=a[1]/255,b=a[2]/255,l=((max=Math.max(r,g,b))+(min=Math.min(r,g,b)))/2,max===min?h=s=0:(d=max-min,s=.5<l?d/(2-max-min):d/(max+min),h=max===r?(g-b)/d+(g<b?6:0):max===g?(b-r)/d+2:(r-g)/d+4,h*=60),a[0]=h+.5|0,a[1]=100*s+.5|0,a[2]=100*l+.5|0),a},_formatColors=function(s,toHSL){var i,color,temp,colors=s.match(_colorExp)||[],charIndex=0,parsed="";if(!colors.length)return s;for(i=0;i<colors.length;i++)color=colors[i],charIndex+=(temp=s.substr(charIndex,s.indexOf(color,charIndex)-charIndex)).length+color.length,3===(color=_parseColor(color,toHSL)).length&&color.push(1),parsed+=temp+(toHSL?"hsla("+color[0]+","+color[1]+"%,"+color[2]+"%,"+color[3]:"rgba("+color.join(","))+")";return parsed+s.substr(charIndex)},_colorExp="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(p in _colorLookup)_colorExp+="|"+p+"\\b";_colorExp=new RegExp(_colorExp+")","gi"),CSSPlugin.colorStringFilter=function(a){var toHSL,combined=a[0]+" "+a[1];_colorExp.test(combined)&&(toHSL=-1!==combined.indexOf("hsl(")||-1!==combined.indexOf("hsla("),a[0]=_formatColors(a[0],toHSL),a[1]=_formatColors(a[1],toHSL)),_colorExp.lastIndex=0},TweenLite.defaultStringFilter||(TweenLite.defaultStringFilter=CSSPlugin.colorStringFilter);var _getFormatter=function(dflt,clr,collapsible,multi){if(null==dflt)return function(v){return v};var formatter,dColor=clr?(dflt.match(_colorExp)||[""])[0]:"",dVals=dflt.split(dColor).join("").match(_valuesExp)||[],pfx=dflt.substr(0,dflt.indexOf(dVals[0])),sfx=")"===dflt.charAt(dflt.length-1)?")":"",delim=-1!==dflt.indexOf(" ")?" ":",",numVals=dVals.length,dSfx=0<numVals?dVals[0].replace(_numExp,""):"";return numVals?formatter=clr?function(v){var color,vals,i,a;if("number"==typeof v)v+=dSfx;else if(multi&&_commasOutsideParenExp.test(v)){for(a=v.replace(_commasOutsideParenExp,"|").split("|"),i=0;i<a.length;i++)a[i]=formatter(a[i]);return a.join(",")}if(color=(v.match(_colorExp)||[dColor])[0],i=(vals=v.split(color).join("").match(_valuesExp)||[]).length,numVals>i--)for(;++i<numVals;)vals[i]=collapsible?vals[(i-1)/2|0]:dVals[i];return pfx+vals.join(delim)+delim+color+sfx+(-1!==v.indexOf("inset")?" inset":"")}:function(v){var vals,a,i;if("number"==typeof v)v+=dSfx;else if(multi&&_commasOutsideParenExp.test(v)){for(a=v.replace(_commasOutsideParenExp,"|").split("|"),i=0;i<a.length;i++)a[i]=formatter(a[i]);return a.join(",")}if(i=(vals=v.match(","===delim?_valuesExp:_valuesExpWithCommas)||[]).length,numVals>i--)for(;++i<numVals;)vals[i]=collapsible?vals[(i-1)/2|0]:dVals[i];return(pfx&&"none"!==v&&v.substr(0,v.indexOf(vals[0]))||pfx)+vals.join(delim)+sfx}:function(v){return v}},_getEdgeParser=function(props){return props=props.split(","),function(t,e,p,cssp,pt,plugin,vars){var i,a=(e+"").split(" ");for(vars={},i=0;i<4;i++)vars[props[i]]=a[i]=a[i]||a[(i-1)/2>>0];return cssp.parse(t,vars,pt,plugin)}},MiniPropTween=(_internals._setPluginRatio=function(v){this.plugin.setRatio(v);for(var val,pt,i,str,p,d=this.data,proxy=d.proxy,mpt=d.firstMPT,min=1e-6;mpt;)val=proxy[mpt.v],mpt.r?val=mpt.r(val):val<min&&-min<val&&(val=0),mpt.t[mpt.p]=val,mpt=mpt._next;if(d.autoRotate&&(d.autoRotate.rotation=d.mod?d.mod.call(this._tween,proxy.rotation,this.t,this._tween):proxy.rotation),1===v||0===v)for(mpt=d.firstMPT,p=1===v?"e":"b";mpt;){if((pt=mpt.t).type){if(1===pt.type){for(str=pt.xs0+pt.s+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt[p]=str}}else pt[p]=pt.s+pt.xs0;mpt=mpt._next}},function(t,p,v,next,r){this.t=t,this.p=p,this.v=v,this.r=r,next&&((next._prev=this)._next=next)}),CSSPropTween=(_internals._parseToProxy=function(t,vars,cssp,pt,plugin,shallow){var i,p,xp,mpt,firstPT,bpt=pt,start={},end={},transform=cssp._transform,oldForce=_forcePT;for(cssp._transform=null,_forcePT=vars,pt=firstPT=cssp.parse(t,vars,pt,plugin),_forcePT=oldForce,shallow&&(cssp._transform=transform,bpt&&(bpt._prev=null,bpt._prev&&(bpt._prev._next=null)));pt&&pt!==bpt;){if(pt.type<=1&&(end[p=pt.p]=pt.s+pt.c,start[p]=pt.s,shallow||(mpt=new MiniPropTween(pt,"s",p,mpt,pt.r),pt.c=0),1===pt.type))for(i=pt.l;0<--i;)xp="xn"+i,end[p=pt.p+"_"+xp]=pt.data[xp],start[p]=pt[xp],shallow||(mpt=new MiniPropTween(pt,xp,p,mpt,pt.rxp[xp]));pt=pt._next}return{proxy:start,end:end,firstMPT:mpt,pt:firstPT}},_internals.CSSPropTween=function(t,p,s,c,next,type,n,r,pr,b,e){this.t=t,this.p=p,this.s=s,this.c=c,this.n=n||p,t instanceof CSSPropTween||_overwriteProps.push(this.n),this.r=r?"function"==typeof r?r:Math.round:r,this.type=type||0,pr&&(this.pr=pr,_hasPriority=!0),this.b=b===undefined?s:b,this.e=e===undefined?s+c:e,next&&((this._next=next)._prev=this)}),_addNonTweeningNumericPT=function(target,prop,start,end,next,overwriteProp){var pt=new CSSPropTween(target,prop,start,end-start,next,-1,overwriteProp);return pt.b=start,pt.e=pt.xs0=end,pt},_parseComplex=CSSPlugin.parseComplex=function(t,p,b,e,clrs,dflt,pt,pr,plugin,setRatio){b=b||dflt||"","function"==typeof e&&(e=e(_index,_target)),pt=new CSSPropTween(t,p,0,0,pt,setRatio?2:1,null,!1,pr,b,e),e+="",clrs&&_colorExp.test(e+b)&&(e=[b,e],CSSPlugin.colorStringFilter(e),b=e[0],e=e[1]);var i,xi,ni,bv,ev,bnums,enums,bn,hasAlpha,temp,cv,str,useHSL,ba=b.split(", ").join(",").split(" "),ea=e.split(", ").join(",").split(" "),l=ba.length,autoRound=!1!==_autoRound;for(-1===e.indexOf(",")&&-1===b.indexOf(",")||(-1!==(e+b).indexOf("rgb")||-1!==(e+b).indexOf("hsl")?(ba=ba.join(" ").replace(_commasOutsideParenExp,", ").split(" "),ea=ea.join(" ").replace(_commasOutsideParenExp,", ").split(" ")):(ba=ba.join(" ").split(",").join(", ").split(" "),ea=ea.join(" ").split(",").join(", ").split(" ")),l=ba.length),l!==ea.length&&(l=(ba=(dflt||"").split(" ")).length),pt.plugin=plugin,pt.setRatio=setRatio,i=_colorExp.lastIndex=0;i<l;i++)if(bv=ba[i],ev=ea[i]+"",(bn=parseFloat(bv))||0===bn)pt.appendXtra("",bn,_parseChange(ev,bn),ev.replace(_relNumExp,""),!(!autoRound||-1===ev.indexOf("px"))&&Math.round,!0);else if(clrs&&_colorExp.test(bv))str=")"+((str=ev.indexOf(")")+1)?ev.substr(str):""),useHSL=-1!==ev.indexOf("hsl")&&_supportsOpacity,temp=ev,bv=_parseColor(bv,useHSL),ev=_parseColor(ev,useHSL),(hasAlpha=6<bv.length+ev.length)&&!_supportsOpacity&&0===ev[3]?(pt["xs"+pt.l]+=pt.l?" transparent":"transparent",pt.e=pt.e.split(ea[i]).join("transparent")):(_supportsOpacity||(hasAlpha=!1),useHSL?pt.appendXtra(temp.substr(0,temp.indexOf("hsl"))+(hasAlpha?"hsla(":"hsl("),bv[0],_parseChange(ev[0],bv[0]),",",!1,!0).appendXtra("",bv[1],_parseChange(ev[1],bv[1]),"%,",!1).appendXtra("",bv[2],_parseChange(ev[2],bv[2]),hasAlpha?"%,":"%"+str,!1):pt.appendXtra(temp.substr(0,temp.indexOf("rgb"))+(hasAlpha?"rgba(":"rgb("),bv[0],ev[0]-bv[0],",",Math.round,!0).appendXtra("",bv[1],ev[1]-bv[1],",",Math.round).appendXtra("",bv[2],ev[2]-bv[2],hasAlpha?",":str,Math.round),hasAlpha&&(bv=bv.length<4?1:bv[3],pt.appendXtra("",bv,(ev.length<4?1:ev[3])-bv,str,!1))),_colorExp.lastIndex=0;else if(bnums=bv.match(_numExp)){if(!(enums=ev.match(_relNumExp))||enums.length!==bnums.length)return pt;for(xi=ni=0;xi<bnums.length;xi++)cv=bnums[xi],temp=bv.indexOf(cv,ni),pt.appendXtra(bv.substr(ni,temp-ni),Number(cv),_parseChange(enums[xi],cv),"",!(!autoRound||"px"!==bv.substr(temp+cv.length,2))&&Math.round,0===xi),ni=temp+cv.length;pt["xs"+pt.l]+=bv.substr(ni)}else pt["xs"+pt.l]+=pt.l||pt["xs"+pt.l]?" "+ev:ev;if(-1!==e.indexOf("=")&&pt.data){for(str=pt.xs0+pt.data.s,i=1;i<pt.l;i++)str+=pt["xs"+i]+pt.data["xn"+i];pt.e=str+pt["xs"+i]}return pt.l||(pt.type=-1,pt.xs0=pt.e),pt.xfirst||pt},i=9;for((p=CSSPropTween.prototype).l=p.pr=0;0<--i;)p["xn"+i]=0,p["xs"+i]="";p.xs0="",p._next=p._prev=p.xfirst=p.data=p.plugin=p.setRatio=p.rxp=null,p.appendXtra=function(pfx,s,c,sfx,r,pad){var pt=this,l=pt.l;return pt["xs"+l]+=pad&&(l||pt["xs"+l])?" "+pfx:pfx||"",c||0===l||pt.plugin?(pt.l++,pt.type=pt.setRatio?2:1,pt["xs"+pt.l]=sfx||"",0<l?(pt.data["xn"+l]=s+c,pt.rxp["xn"+l]=r,pt["xn"+l]=s,pt.plugin||(pt.xfirst=new CSSPropTween(pt,"xn"+l,s,c,pt.xfirst||pt,0,pt.n,r,pt.pr),pt.xfirst.xs0=0)):(pt.data={s:s+c},pt.rxp={},pt.s=s,pt.c=c,pt.r=r),pt):(pt["xs"+l]+=s+(sfx||""),pt)};var SpecialProp=function(p,options){options=options||{},this.p=options.prefix&&_checkPropPrefix(p)||p,_specialProps[p]=_specialProps[this.p]=this,this.format=options.formatter||_getFormatter(options.defaultValue,options.color,options.collapsible,options.multi),options.parser&&(this.parse=options.parser),this.clrs=options.color,this.multi=options.multi,this.keyword=options.keyword,this.dflt=options.defaultValue,this.allowFunc=options.allowFunc,this.pr=options.priority||0},_registerComplexSpecialProp=_internals._registerComplexSpecialProp=function(p,options,defaults){"object"!=typeof options&&(options={parser:defaults});var i,a=p.split(","),d=options.defaultValue;for(defaults=defaults||[d],i=0;i<a.length;i++)options.prefix=0===i&&options.prefix,options.defaultValue=defaults[i]||d,new SpecialProp(a[i],options)},_registerPluginProp=_internals._registerPluginProp=function(p){if(!_specialProps[p]){var pluginName=p.charAt(0).toUpperCase()+p.substr(1)+"Plugin";_registerComplexSpecialProp(p,{parser:function(t,e,p,cssp,pt,plugin,vars){var pluginClass=_globals.com.greensock.plugins[pluginName];return pluginClass?(pluginClass._cssRegister(),_specialProps[p].parse(t,e,p,cssp,pt,plugin,vars)):(_log("Error: "+pluginName+" js file not loaded."),pt)}})}};(p=SpecialProp.prototype).parseComplex=function(t,b,e,pt,plugin,setRatio){var i,ba,ea,l,bi,ei,kwd=this.keyword;if(this.multi&&(_commasOutsideParenExp.test(e)||_commasOutsideParenExp.test(b)?(ba=b.replace(_commasOutsideParenExp,"|").split("|"),ea=e.replace(_commasOutsideParenExp,"|").split("|")):kwd&&(ba=[b],ea=[e])),ea){for(l=ea.length>ba.length?ea.length:ba.length,i=0;i<l;i++)b=ba[i]=ba[i]||this.dflt,e=ea[i]=ea[i]||this.dflt,kwd&&(bi=b.indexOf(kwd))!==(ei=e.indexOf(kwd))&&(-1===ei?ba[i]=ba[i].split(kwd).join(""):-1===bi&&(ba[i]+=" "+kwd));b=ba.join(", "),e=ea.join(", ")}return _parseComplex(t,this.p,b,e,this.clrs,this.dflt,pt,this.pr,plugin,setRatio)},p.parse=function(t,e,p,cssp,pt,plugin){return this.parseComplex(t.style,this.format(_getStyle(t,this.p,_cs,!1,this.dflt)),this.format(e),pt,plugin)},CSSPlugin.registerSpecialProp=function(name,onInitTween,priority){_registerComplexSpecialProp(name,{parser:function(t,e,p,cssp,pt,plugin){var rv=new CSSPropTween(t,p,0,0,pt,2,p,!1,priority);return rv.plugin=plugin,rv.setRatio=onInitTween(t,e,cssp._tween,p),rv},priority:priority})},CSSPlugin.useSVGTransformAttr=!0;var _useSVGTransformAttr,svg,rect,width,force,_transformProps="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),_transformProp=_checkPropPrefix("transform"),_transformPropCSS=_prefixCSS+"transform",_transformOriginProp=_checkPropPrefix("transformOrigin"),_supports3D=null!==_checkPropPrefix("perspective"),Transform=_internals.Transform=function(){this.perspective=parseFloat(CSSPlugin.defaultTransformPerspective)||0,this.force3D=!(!1===CSSPlugin.defaultForce3D||!_supports3D)&&(CSSPlugin.defaultForce3D||"auto")},_SVGElement=_gsScope.SVGElement,_createSVG=function(type,container,attributes){var p,element=_doc.createElementNS("http://www.w3.org/2000/svg",type),reg=/([a-z])([A-Z])/g;for(p in attributes)element.setAttributeNS(null,p.replace(reg,"$1-$2").toLowerCase(),attributes[p]);return container.appendChild(element),element},_docElement=_doc.documentElement||{},_forceSVGTransformAttr=(force=_ieVers||/Android/i.test(_agent)&&!_gsScope.chrome,_doc.createElementNS&&_docElement.appendChild&&!force&&(svg=_createSVG("svg",_docElement),width=(rect=_createSVG("rect",svg,{width:100,height:50,x:100})).getBoundingClientRect().width,rect.style[_transformOriginProp]="50% 50%",rect.style[_transformProp]="scaleX(0.5)",force=width===rect.getBoundingClientRect().width&&!(_isFirefox&&_supports3D),_docElement.removeChild(svg)),force),_parseSVGOrigin=function(e,local,decoratee,absolute,smoothOrigin,skipRecord){var v,x,y,xOrigin,yOrigin,a,b,c,d,tx,ty,determinant,xOriginOld,yOriginOld,tm=e._gsTransform,m=_getMatrix(e,!0);tm&&(xOriginOld=tm.xOrigin,yOriginOld=tm.yOrigin),(!absolute||(v=absolute.split(" ")).length<2)&&(0===(b=e.getBBox()).x&&0===b.y&&b.width+b.height===0&&(b={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),v=[(-1!==(local=_parsePosition(local).split(" "))[0].indexOf("%")?parseFloat(local[0])/100*b.width:parseFloat(local[0]))+b.x,(-1!==local[1].indexOf("%")?parseFloat(local[1])/100*b.height:parseFloat(local[1]))+b.y]),decoratee.xOrigin=xOrigin=parseFloat(v[0]),decoratee.yOrigin=yOrigin=parseFloat(v[1]),absolute&&m!==_identity2DMatrix&&(a=m[0],b=m[1],c=m[2],d=m[3],tx=m[4],ty=m[5],(determinant=a*d-b*c)&&(x=xOrigin*(d/determinant)+yOrigin*(-c/determinant)+(c*ty-d*tx)/determinant,y=xOrigin*(-b/determinant)+yOrigin*(a/determinant)-(a*ty-b*tx)/determinant,xOrigin=decoratee.xOrigin=v[0]=x,yOrigin=decoratee.yOrigin=v[1]=y)),tm&&(skipRecord&&(decoratee.xOffset=tm.xOffset,decoratee.yOffset=tm.yOffset,tm=decoratee),smoothOrigin||!1!==smoothOrigin&&!1!==CSSPlugin.defaultSmoothOrigin?(x=xOrigin-xOriginOld,y=yOrigin-yOriginOld,tm.xOffset+=x*m[0]+y*m[2]-x,tm.yOffset+=x*m[1]+y*m[3]-y):tm.xOffset=tm.yOffset=0),skipRecord||e.setAttribute("data-svg-origin",v.join(" "))},_getBBoxHack=function(swapIfPossible){var bbox,svg=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),oldParent=this.parentNode,oldSibling=this.nextSibling,oldCSS=this.style.cssText;if(_docElement.appendChild(svg),svg.appendChild(this),this.style.display="block",swapIfPossible)try{bbox=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=_getBBoxHack}catch(e){}else this._originalGetBBox&&(bbox=this._originalGetBBox());return oldSibling?oldParent.insertBefore(this,oldSibling):oldParent.appendChild(this),_docElement.removeChild(svg),this.style.cssText=oldCSS,bbox},_getBBox=function(e){try{return e.getBBox()}catch(error){return _getBBoxHack.call(e,!0)}},_isSVG=function(e){return!(!_SVGElement||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!_getBBox(e))},_identity2DMatrix=[1,0,0,1,0,0],_getMatrix=function(e,force2D){var isDefault,s,m,n,dec,nextSibling,parent,tm=e._gsTransform||new Transform,rnd=1e5,style=e.style;if(_transformProp?s=_getStyle(e,_transformPropCSS,null,!0):e.currentStyle&&(s=(s=e.currentStyle.filter.match(_ieGetMatrixExp))&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),tm.x||0,tm.y||0].join(","):""),isDefault=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,_transformProp&&isDefault&&!e.offsetParent&&e!==_docElement&&(n=style.display,style.display="block",(parent=e.parentNode)&&e.offsetParent||(dec=1,nextSibling=e.nextSibling,_docElement.appendChild(e)),isDefault=!(s=_getStyle(e,_transformPropCSS,null,!0))||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,n?style.display=n:_removeProp(style,"display"),dec&&(nextSibling?parent.insertBefore(e,nextSibling):parent?parent.appendChild(e):_docElement.removeChild(e))),(tm.svg||e.getCTM&&_isSVG(e))&&(isDefault&&-1!==(style[_transformProp]+"").indexOf("matrix")&&(s=style[_transformProp],isDefault=0),m=e.getAttribute("transform"),isDefault&&m&&(s="matrix("+(m=e.transform.baseVal.consolidate().matrix).a+","+m.b+","+m.c+","+m.d+","+m.e+","+m.f+")",isDefault=0)),isDefault)return _identity2DMatrix;for(m=(s||"").match(_numExp)||[],i=m.length;-1<--i;)n=Number(m[i]),m[i]=(dec=n-(n|=0))?(dec*rnd+(dec<0?-.5:.5)|0)/rnd+n:n;return force2D&&6<m.length?[m[0],m[1],m[4],m[5],m[12],m[13]]:m},_getTransform=_internals.getTransform=function(t,cs,rec,parse){if(t._gsTransform&&rec&&!parse)return t._gsTransform;var m,i,scaleX,scaleY,rotation,skewX,tm=rec&&t._gsTransform||new Transform,invX=tm.scaleX<0,min=2e-5,rnd=1e5,zOrigin=_supports3D&&(parseFloat(_getStyle(t,_transformOriginProp,cs,!1,"0 0 0").split(" ")[2])||tm.zOrigin)||0,defaultTransformPerspective=parseFloat(CSSPlugin.defaultTransformPerspective)||0;if(tm.svg=!(!t.getCTM||!_isSVG(t)),tm.svg&&(_parseSVGOrigin(t,_getStyle(t,_transformOriginProp,cs,!1,"50% 50%")+"",tm,t.getAttribute("data-svg-origin")),_useSVGTransformAttr=CSSPlugin.useSVGTransformAttr||_forceSVGTransformAttr),(m=_getMatrix(t))!==_identity2DMatrix){if(16===m.length){var t1,t2,t3,cos,sin,a11=m[0],a21=m[1],a31=m[2],a41=m[3],a12=m[4],a22=m[5],a32=m[6],a42=m[7],a13=m[8],a23=m[9],a33=m[10],a14=m[12],a24=m[13],a34=m[14],a43=m[11],angle=Math.atan2(a32,a33);tm.zOrigin&&(a14=a13*(a34=-tm.zOrigin)-m[12],a24=a23*a34-m[13],a34=a33*a34+tm.zOrigin-m[14]),tm.rotationX=angle*_RAD2DEG,angle&&(t1=a12*(cos=Math.cos(-angle))+a13*(sin=Math.sin(-angle)),t2=a22*cos+a23*sin,t3=a32*cos+a33*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33=a32*-sin+a33*cos,a43=a42*-sin+a43*cos,a12=t1,a22=t2,a32=t3),angle=Math.atan2(-a31,a33),tm.rotationY=angle*_RAD2DEG,angle&&(t2=a21*(cos=Math.cos(-angle))-a23*(sin=Math.sin(-angle)),t3=a31*cos-a33*sin,a23=a21*sin+a23*cos,a33=a31*sin+a33*cos,a43=a41*sin+a43*cos,a11=t1=a11*cos-a13*sin,a21=t2,a31=t3),angle=Math.atan2(a21,a11),tm.rotation=angle*_RAD2DEG,angle&&(t1=a11*(cos=Math.cos(angle))+a21*(sin=Math.sin(angle)),t2=a12*cos+a22*sin,t3=a13*cos+a23*sin,a21=a21*cos-a11*sin,a22=a22*cos-a12*sin,a23=a23*cos-a13*sin,a11=t1,a12=t2,a13=t3),tm.rotationX&&359.9<Math.abs(tm.rotationX)+Math.abs(tm.rotation)&&(tm.rotationX=tm.rotation=0,tm.rotationY=180-tm.rotationY),angle=Math.atan2(a12,a22),tm.scaleX=(Math.sqrt(a11*a11+a21*a21+a31*a31)*rnd+.5|0)/rnd,tm.scaleY=(Math.sqrt(a22*a22+a32*a32)*rnd+.5|0)/rnd,tm.scaleZ=(Math.sqrt(a13*a13+a23*a23+a33*a33)*rnd+.5|0)/rnd,a11/=tm.scaleX,a12/=tm.scaleY,a21/=tm.scaleX,a22/=tm.scaleY,Math.abs(angle)>min?(tm.skewX=angle*_RAD2DEG,a12=0,"simple"!==tm.skewType&&(tm.scaleY*=1/Math.cos(angle))):tm.skewX=0,tm.perspective=a43?1/(a43<0?-a43:a43):0,tm.x=a14,tm.y=a24,tm.z=a34,tm.svg&&(tm.x-=tm.xOrigin-(tm.xOrigin*a11-tm.yOrigin*a12),tm.y-=tm.yOrigin-(tm.yOrigin*a21-tm.xOrigin*a22))}else if(!_supports3D||parse||!m.length||tm.x!==m[4]||tm.y!==m[5]||!tm.rotationX&&!tm.rotationY){var k=6<=m.length,a=k?m[0]:1,b=m[1]||0,c=m[2]||0,d=k?m[3]:1;tm.x=m[4]||0,tm.y=m[5]||0,scaleX=Math.sqrt(a*a+b*b),scaleY=Math.sqrt(d*d+c*c),rotation=a||b?Math.atan2(b,a)*_RAD2DEG:tm.rotation||0,skewX=c||d?Math.atan2(c,d)*_RAD2DEG+rotation:tm.skewX||0,tm.scaleX=scaleX,tm.scaleY=scaleY,tm.rotation=rotation,tm.skewX=skewX,_supports3D&&(tm.rotationX=tm.rotationY=tm.z=0,tm.perspective=defaultTransformPerspective,tm.scaleZ=1),tm.svg&&(tm.x-=tm.xOrigin-(tm.xOrigin*a+tm.yOrigin*c),tm.y-=tm.yOrigin-(tm.xOrigin*b+tm.yOrigin*d))}for(i in 90<Math.abs(tm.skewX)&&Math.abs(tm.skewX)<270&&(invX?(tm.scaleX*=-1,tm.skewX+=tm.rotation<=0?180:-180,tm.rotation+=tm.rotation<=0?180:-180):(tm.scaleY*=-1,tm.skewX+=tm.skewX<=0?180:-180)),tm.zOrigin=zOrigin,tm)tm[i]<min&&tm[i]>-min&&(tm[i]=0)}return rec&&(t._gsTransform=tm).svg&&(_useSVGTransformAttr&&t.style[_transformProp]?TweenLite.delayedCall(.001,function(){_removeProp(t.style,_transformProp)}):!_useSVGTransformAttr&&t.getAttribute("transform")&&TweenLite.delayedCall(.001,function(){t.removeAttribute("transform")})),tm},_setIETransformRatio=function(v){var filters,val,t=this.data,ang=-t.rotation*_DEG2RAD,skew=ang+t.skewX*_DEG2RAD,rnd=1e5,a=(Math.cos(ang)*t.scaleX*rnd|0)/rnd,b=(Math.sin(ang)*t.scaleX*rnd|0)/rnd,c=(Math.sin(skew)*-t.scaleY*rnd|0)/rnd,d=(Math.cos(skew)*t.scaleY*rnd|0)/rnd,style=this.t.style,cs=this.t.currentStyle;if(cs){val=b,b=-c,c=-val,filters=cs.filter,style.filter="";var dx,dy,w=this.t.offsetWidth,h=this.t.offsetHeight,clip="absolute"!==cs.position,m="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+b+", M21="+c+", M22="+d,ox=t.x+w*t.xPercent/100,oy=t.y+h*t.yPercent/100;if(null!=t.ox&&(ox+=(dx=(t.oxp?w*t.ox*.01:t.ox)-w/2)-(dx*a+(dy=(t.oyp?h*t.oy*.01:t.oy)-h/2)*b),oy+=dy-(dx*c+dy*d)),m+=clip?", Dx="+((dx=w/2)-(dx*a+(dy=h/2)*b)+ox)+", Dy="+(dy-(dx*c+dy*d)+oy)+")":", sizingMethod='auto expand')",-1!==filters.indexOf("DXImageTransform.Microsoft.Matrix(")?style.filter=filters.replace(_ieSetMatrixExp,m):style.filter=m+" "+filters,0!==v&&1!==v||1===a&&0===b&&0===c&&1===d&&(clip&&-1===m.indexOf("Dx=0, Dy=0")||_opacityExp.test(filters)&&100!==parseFloat(RegExp.$1)||-1===filters.indexOf(filters.indexOf("Alpha"))&&style.removeAttribute("filter")),!clip){var marg,prop,dif,mult=_ieVers<8?1:-1;for(dx=t.ieOffsetX||0,dy=t.ieOffsetY||0,t.ieOffsetX=Math.round((w-((a<0?-a:a)*w+(b<0?-b:b)*h))/2+ox),t.ieOffsetY=Math.round((h-((d<0?-d:d)*h+(c<0?-c:c)*w))/2+oy),i=0;i<4;i++)dif=(val=-1!==(marg=cs[prop=_margins[i]]).indexOf("px")?parseFloat(marg):_convertToPixels(this.t,prop,parseFloat(marg),marg.replace(_suffixExp,""))||0)!==t[prop]?i<2?-t.ieOffsetX:-t.ieOffsetY:i<2?dx-t.ieOffsetX:dy-t.ieOffsetY,style[prop]=(t[prop]=Math.round(val-dif*(0===i||2===i?1:mult)))+"px"}}},_setTransformRatio=_internals.set3DTransformRatio=_internals.setTransformRatio=function(v){var t1,a11,a12,a13,a21,a22,a23,a31,a32,a33,a41,a42,a43,zOrigin,min,cos,sin,t2,transform,comma,zero,skew,rnd,t=this.data,style=this.t.style,angle=t.rotation,rotationX=t.rotationX,rotationY=t.rotationY,sx=t.scaleX,sy=t.scaleY,sz=t.scaleZ,x=t.x,y=t.y,z=t.z,isSVG=t.svg,perspective=t.perspective,force3D=t.force3D,skewY=t.skewY,skewX=t.skewX;if(skewY&&(skewX+=skewY,angle+=skewY),!((1!==v&&0!==v||"auto"!==force3D||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&force3D||z||perspective||rotationY||rotationX||1!==sz)||_useSVGTransformAttr&&isSVG||!_supports3D)angle||skewX||isSVG?(angle*=_DEG2RAD,skew=skewX*_DEG2RAD,rnd=1e5,a11=Math.cos(angle)*sx,a21=Math.sin(angle)*sx,a12=Math.sin(angle-skew)*-sy,a22=Math.cos(angle-skew)*sy,skew&&"simple"===t.skewType&&(t1=Math.tan(skew-skewY*_DEG2RAD),a12*=t1=Math.sqrt(1+t1*t1),a22*=t1,skewY&&(t1=Math.tan(skewY*_DEG2RAD),a11*=t1=Math.sqrt(1+t1*t1),a21*=t1)),isSVG&&(x+=t.xOrigin-(t.xOrigin*a11+t.yOrigin*a12)+t.xOffset,y+=t.yOrigin-(t.xOrigin*a21+t.yOrigin*a22)+t.yOffset,_useSVGTransformAttr&&(t.xPercent||t.yPercent)&&(min=this.t.getBBox(),x+=.01*t.xPercent*min.width,y+=.01*t.yPercent*min.height),x<(min=1e-6)&&-min<x&&(x=0),y<min&&-min<y&&(y=0)),transform=(a11*rnd|0)/rnd+","+(a21*rnd|0)/rnd+","+(a12*rnd|0)/rnd+","+(a22*rnd|0)/rnd+","+x+","+y+")",isSVG&&_useSVGTransformAttr?this.t.setAttribute("transform","matrix("+transform):style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+transform):style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+sx+",0,0,"+sy+","+x+","+y+")";else{if(_isFirefox&&(sx<(min=1e-4)&&-min<sx&&(sx=sz=2e-5),sy<min&&-min<sy&&(sy=sz=2e-5),!perspective||t.z||t.rotationX||t.rotationY||(perspective=0)),angle||skewX)angle*=_DEG2RAD,cos=a11=Math.cos(angle),sin=a21=Math.sin(angle),skewX&&(angle-=skewX*_DEG2RAD,cos=Math.cos(angle),sin=Math.sin(angle),"simple"===t.skewType&&(t1=Math.tan((skewX-skewY)*_DEG2RAD),cos*=t1=Math.sqrt(1+t1*t1),sin*=t1,t.skewY&&(t1=Math.tan(skewY*_DEG2RAD),a11*=t1=Math.sqrt(1+t1*t1),a21*=t1))),a12=-sin,a22=cos;else{if(!(rotationY||rotationX||1!==sz||perspective||isSVG))return void(style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) translate3d(":"translate3d(")+x+"px,"+y+"px,"+z+"px)"+(1!==sx||1!==sy?" scale("+sx+","+sy+")":""));a11=a22=1,a12=a21=0}a33=1,a13=a23=a31=a32=a41=a42=0,a43=perspective?-1/perspective:0,zOrigin=t.zOrigin,min=1e-6,comma=",",zero="0",(angle=rotationY*_DEG2RAD)&&(cos=Math.cos(angle),a41=a43*(a31=-(sin=Math.sin(angle))),a13=a11*sin,a23=a21*sin,a43*=a33=cos,a11*=cos,a21*=cos),(angle=rotationX*_DEG2RAD)&&(t1=a12*(cos=Math.cos(angle))+a13*(sin=Math.sin(angle)),t2=a22*cos+a23*sin,a32=a33*sin,a42=a43*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33*=cos,a43*=cos,a12=t1,a22=t2),1!==sz&&(a13*=sz,a23*=sz,a33*=sz,a43*=sz),1!==sy&&(a12*=sy,a22*=sy,a32*=sy,a42*=sy),1!==sx&&(a11*=sx,a21*=sx,a31*=sx,a41*=sx),(zOrigin||isSVG)&&(zOrigin&&(x+=a13*-zOrigin,y+=a23*-zOrigin,z+=a33*-zOrigin+zOrigin),isSVG&&(x+=t.xOrigin-(t.xOrigin*a11+t.yOrigin*a12)+t.xOffset,y+=t.yOrigin-(t.xOrigin*a21+t.yOrigin*a22)+t.yOffset),x<min&&-min<x&&(x=zero),y<min&&-min<y&&(y=zero),z<min&&-min<z&&(z=0)),transform=t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix3d(":"matrix3d(",transform+=(a11<min&&-min<a11?zero:a11)+comma+(a21<min&&-min<a21?zero:a21)+comma+(a31<min&&-min<a31?zero:a31),transform+=comma+(a41<min&&-min<a41?zero:a41)+comma+(a12<min&&-min<a12?zero:a12)+comma+(a22<min&&-min<a22?zero:a22),rotationX||rotationY||1!==sz?(transform+=comma+(a32<min&&-min<a32?zero:a32)+comma+(a42<min&&-min<a42?zero:a42)+comma+(a13<min&&-min<a13?zero:a13),transform+=comma+(a23<min&&-min<a23?zero:a23)+comma+(a33<min&&-min<a33?zero:a33)+comma+(a43<min&&-min<a43?zero:a43)+comma):transform+=",0,0,0,0,1,0,",transform+=x+comma+y+comma+z+comma+(perspective?1+-z/perspective:1)+")",style[_transformProp]=transform}};(p=Transform.prototype).x=p.y=p.z=p.skewX=p.skewY=p.rotation=p.rotationX=p.rotationY=p.zOrigin=p.xPercent=p.yPercent=p.xOffset=p.yOffset=0,p.scaleX=p.scaleY=p.scaleZ=1,_registerComplexSpecialProp("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,parsingProp,cssp,pt,plugin,vars){if(cssp._lastParsedTransform===vars)return pt;var scaleFunc=(cssp._lastParsedTransform=vars).scale&&"function"==typeof vars.scale?vars.scale:0;scaleFunc&&(vars.scale=scaleFunc(_index,t));var m2,copy,has3D,hasChange,dr,x,y,matrix,p,originalGSTransform=t._gsTransform,style=t.style,min=1e-6,i=_transformProps.length,v=vars,endRotations={},transformOriginString="transformOrigin",m1=_getTransform(t,_cs,!0,v.parseTransform),orig=v.transform&&("function"==typeof v.transform?v.transform(_index,_target):v.transform);if(m1.skewType=v.skewType||m1.skewType||CSSPlugin.defaultSkewType,cssp._transform=m1,"rotationZ"in v&&(v.rotation=v.rotationZ),orig&&"string"==typeof orig&&_transformProp)(copy=_tempDiv.style)[_transformProp]=orig,copy.display="block",copy.position="absolute",-1!==orig.indexOf("%")&&(copy.width=_getStyle(t,"width"),copy.height=_getStyle(t,"height")),_doc.body.appendChild(_tempDiv),m2=_getTransform(_tempDiv,null,!1),"simple"===m1.skewType&&(m2.scaleY*=Math.cos(m2.skewX*_DEG2RAD)),m1.svg&&(x=m1.xOrigin,y=m1.yOrigin,m2.x-=m1.xOffset,m2.y-=m1.yOffset,(v.transformOrigin||v.svgOrigin)&&(orig={},_parseSVGOrigin(t,_parsePosition(v.transformOrigin),orig,v.svgOrigin,v.smoothOrigin,!0),x=orig.xOrigin,y=orig.yOrigin,m2.x-=orig.xOffset-m1.xOffset,m2.y-=orig.yOffset-m1.yOffset),(x||y)&&(matrix=_getMatrix(_tempDiv,!0),m2.x-=x-(x*matrix[0]+y*matrix[2]),m2.y-=y-(x*matrix[1]+y*matrix[3]))),_doc.body.removeChild(_tempDiv),m2.perspective||(m2.perspective=m1.perspective),null!=v.xPercent&&(m2.xPercent=_parseVal(v.xPercent,m1.xPercent)),null!=v.yPercent&&(m2.yPercent=_parseVal(v.yPercent,m1.yPercent));else if("object"==typeof v){if(m2={scaleX:_parseVal(null!=v.scaleX?v.scaleX:v.scale,m1.scaleX),scaleY:_parseVal(null!=v.scaleY?v.scaleY:v.scale,m1.scaleY),scaleZ:_parseVal(v.scaleZ,m1.scaleZ),x:_parseVal(v.x,m1.x),y:_parseVal(v.y,m1.y),z:_parseVal(v.z,m1.z),xPercent:_parseVal(v.xPercent,m1.xPercent),yPercent:_parseVal(v.yPercent,m1.yPercent),perspective:_parseVal(v.transformPerspective,m1.perspective)},null!=(dr=v.directionalRotation))if("object"==typeof dr)for(copy in dr)v[copy]=dr[copy];else v.rotation=dr;"string"==typeof v.x&&-1!==v.x.indexOf("%")&&(m2.x=0,m2.xPercent=_parseVal(v.x,m1.xPercent)),"string"==typeof v.y&&-1!==v.y.indexOf("%")&&(m2.y=0,m2.yPercent=_parseVal(v.y,m1.yPercent)),m2.rotation=_parseAngle("rotation"in v?v.rotation:"shortRotation"in v?v.shortRotation+"_short":m1.rotation,m1.rotation,"rotation",endRotations),_supports3D&&(m2.rotationX=_parseAngle("rotationX"in v?v.rotationX:"shortRotationX"in v?v.shortRotationX+"_short":m1.rotationX||0,m1.rotationX,"rotationX",endRotations),m2.rotationY=_parseAngle("rotationY"in v?v.rotationY:"shortRotationY"in v?v.shortRotationY+"_short":m1.rotationY||0,m1.rotationY,"rotationY",endRotations)),m2.skewX=_parseAngle(v.skewX,m1.skewX),m2.skewY=_parseAngle(v.skewY,m1.skewY)}for(_supports3D&&null!=v.force3D&&(m1.force3D=v.force3D,hasChange=!0),(has3D=m1.force3D||m1.z||m1.rotationX||m1.rotationY||m2.z||m2.rotationX||m2.rotationY||m2.perspective)||null==v.scale||(m2.scaleZ=1);-1<--i;)(min<(orig=m2[p=_transformProps[i]]-m1[p])||orig<-min||null!=v[p]||null!=_forcePT[p])&&(hasChange=!0,pt=new CSSPropTween(m1,p,m1[p],orig,pt),p in endRotations&&(pt.e=endRotations[p]),pt.xs0=0,pt.plugin=plugin,cssp._overwriteProps.push(pt.n));return orig="function"==typeof v.transformOrigin?v.transformOrigin(_index,_target):v.transformOrigin,m1.svg&&(orig||v.svgOrigin)&&(x=m1.xOffset,y=m1.yOffset,_parseSVGOrigin(t,_parsePosition(orig),m2,v.svgOrigin,v.smoothOrigin),pt=_addNonTweeningNumericPT(m1,"xOrigin",(originalGSTransform?m1:m2).xOrigin,m2.xOrigin,pt,transformOriginString),pt=_addNonTweeningNumericPT(m1,"yOrigin",(originalGSTransform?m1:m2).yOrigin,m2.yOrigin,pt,transformOriginString),x===m1.xOffset&&y===m1.yOffset||(pt=_addNonTweeningNumericPT(m1,"xOffset",originalGSTransform?x:m1.xOffset,m1.xOffset,pt,transformOriginString),pt=_addNonTweeningNumericPT(m1,"yOffset",originalGSTransform?y:m1.yOffset,m1.yOffset,pt,transformOriginString)),orig="0px 0px"),(orig||_supports3D&&has3D&&m1.zOrigin)&&(_transformProp?(hasChange=!0,p=_transformOriginProp,orig||(orig=(orig=(_getStyle(t,p,_cs,!1,"50% 50%")+"").split(" "))[0]+" "+orig[1]+" "+m1.zOrigin+"px"),orig+="",(pt=new CSSPropTween(style,p,0,0,pt,-1,transformOriginString)).b=style[p],pt.plugin=plugin,_supports3D?(copy=m1.zOrigin,orig=orig.split(" "),m1.zOrigin=(2<orig.length?parseFloat(orig[2]):copy)||0,pt.xs0=pt.e=orig[0]+" "+(orig[1]||"50%")+" 0px",(pt=new CSSPropTween(m1,"zOrigin",0,0,pt,-1,pt.n)).b=copy,pt.xs0=pt.e=m1.zOrigin):pt.xs0=pt.e=orig):_parsePosition(orig+"",m1)),hasChange&&(cssp._transformType=m1.svg&&_useSVGTransformAttr||!has3D&&3!==this._transformType?2:3),scaleFunc&&(vars.scale=scaleFunc),pt},allowFunc:!0,prefix:!0}),_registerComplexSpecialProp("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),_registerComplexSpecialProp("clipPath",{defaultValue:"inset(0%)",prefix:!0,multi:!0,formatter:_getFormatter("inset(0% 0% 0% 0%)",!1,!0)}),_registerComplexSpecialProp("borderRadius",{defaultValue:"0px",parser:function(t,e,p,cssp,pt){e=this.format(e);var ea1,i,es2,bs2,bs,es,bn,en,w,h,esfx,bsfx,rel,hn,vn,em,props=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],style=t.style;for(w=parseFloat(t.offsetWidth),h=parseFloat(t.offsetHeight),ea1=e.split(" "),i=0;i<props.length;i++)this.p.indexOf("border")&&(props[i]=_checkPropPrefix(props[i])),-1!==(bs=bs2=_getStyle(t,props[i],_cs,!1,"0px")).indexOf(" ")&&(bs=(bs2=bs.split(" "))[0],bs2=bs2[1]),es=es2=ea1[i],bn=parseFloat(bs),bsfx=bs.substr((bn+"").length),(rel="="===es.charAt(1))?(en=parseInt(es.charAt(0)+"1",10),es=es.substr(2),en*=parseFloat(es),esfx=es.substr((en+"").length-(en<0?1:0))||""):(en=parseFloat(es),esfx=es.substr((en+"").length)),""===esfx&&(esfx=_suffixMap[p]||bsfx),esfx!==bsfx&&(hn=_convertToPixels(t,"borderLeft",bn,bsfx),vn=_convertToPixels(t,"borderTop",bn,bsfx),"%"===esfx?(bs=hn/w*100+"%",bs2=vn/h*100+"%"):"em"===esfx?(bs=hn/(em=_convertToPixels(t,"borderLeft",1,"em"))+"em",bs2=vn/em+"em"):(bs=hn+"px",bs2=vn+"px"),rel&&(es=parseFloat(bs)+en+esfx,es2=parseFloat(bs2)+en+esfx)),pt=_parseComplex(style,props[i],bs+" "+bs2,es+" "+es2,!1,"0px",pt);return pt},prefix:!0,formatter:_getFormatter("0px 0px 0px 0px",!1,!0)}),
_registerComplexSpecialProp("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,p,cssp,pt){return _parseComplex(t.style,p,this.format(_getStyle(t,p,_cs,!1,"0px 0px")),this.format(e),!1,"0px",pt)},prefix:!0,formatter:_getFormatter("0px 0px",!1,!0)}),_registerComplexSpecialProp("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,p,cssp,pt,plugin){var ba,ea,i,pct,overlap,src,bp="background-position",cs=_cs||_getComputedStyle(t,null),bs=this.format((cs?_ieVers?cs.getPropertyValue(bp+"-x")+" "+cs.getPropertyValue(bp+"-y"):cs.getPropertyValue(bp):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),es=this.format(e);if(-1!==bs.indexOf("%")!=(-1!==es.indexOf("%"))&&es.split(",").length<2&&(src=_getStyle(t,"backgroundImage").replace(_urlExp,""))&&"none"!==src){for(ba=bs.split(" "),ea=es.split(" "),_tempImg.setAttribute("src",src),i=2;-1<--i;)(pct=-1!==(bs=ba[i]).indexOf("%"))!==(-1!==ea[i].indexOf("%"))&&(overlap=0===i?t.offsetWidth-_tempImg.width:t.offsetHeight-_tempImg.height,ba[i]=pct?parseFloat(bs)/100*overlap+"px":parseFloat(bs)/overlap*100+"%");bs=ba.join(" ")}return this.parseComplex(t.style,bs,es,pt,plugin)},formatter:_parsePosition}),_registerComplexSpecialProp("backgroundSize",{defaultValue:"0 0",formatter:function(v){return"co"===(v+="").substr(0,2)?v:_parsePosition(-1===v.indexOf(" ")?v+" "+v:v)}}),_registerComplexSpecialProp("perspective",{defaultValue:"0px",prefix:!0}),_registerComplexSpecialProp("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),_registerComplexSpecialProp("transformStyle",{prefix:!0}),_registerComplexSpecialProp("backfaceVisibility",{prefix:!0}),_registerComplexSpecialProp("userSelect",{prefix:!0}),_registerComplexSpecialProp("margin",{parser:_getEdgeParser("marginTop,marginRight,marginBottom,marginLeft")}),_registerComplexSpecialProp("padding",{parser:_getEdgeParser("paddingTop,paddingRight,paddingBottom,paddingLeft")}),_registerComplexSpecialProp("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,p,cssp,pt,plugin){var b,cs,delim;return _ieVers<9?(cs=t.currentStyle,delim=_ieVers<8?" ":",",b="rect("+cs.clipTop+delim+cs.clipRight+delim+cs.clipBottom+delim+cs.clipLeft+")",e=this.format(e).split(",").join(delim)):(b=this.format(_getStyle(t,this.p,_cs,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,b,e,pt,plugin)}}),_registerComplexSpecialProp("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),_registerComplexSpecialProp("autoRound,strictUnits",{parser:function(t,e,p,cssp,pt){return pt}}),_registerComplexSpecialProp("border",{defaultValue:"0px solid #000",parser:function(t,e,p,cssp,pt,plugin){var bw=_getStyle(t,"borderTopWidth",_cs,!1,"0px"),end=this.format(e).split(" "),esfx=end[0].replace(_suffixExp,"");return"px"!==esfx&&(bw=parseFloat(bw)/_convertToPixels(t,"borderTopWidth",1,esfx)+esfx),this.parseComplex(t.style,this.format(bw+" "+_getStyle(t,"borderTopStyle",_cs,!1,"solid")+" "+_getStyle(t,"borderTopColor",_cs,!1,"#000")),end.join(" "),pt,plugin)},color:!0,formatter:function(v){var a=v.split(" ");return a[0]+" "+(a[1]||"solid")+" "+(v.match(_colorExp)||["#000"])[0]}}),_registerComplexSpecialProp("borderWidth",{parser:_getEdgeParser("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),_registerComplexSpecialProp("float,cssFloat,styleFloat",{parser:function(t,e,p,cssp,pt){var s=t.style,prop="cssFloat"in s?"cssFloat":"styleFloat";return new CSSPropTween(s,prop,0,0,pt,-1,p,!1,0,s[prop],e)}});var _setIEOpacityRatio=function(v){var skip,t=this.t,filters=t.filter||_getStyle(this.data,"filter")||"",val=this.s+this.c*v|0;100===val&&(-1===filters.indexOf("atrix(")&&-1===filters.indexOf("radient(")&&-1===filters.indexOf("oader(")?(t.removeAttribute("filter"),skip=!_getStyle(this.data,"filter")):(t.filter=filters.replace(_alphaFilterExp,""),skip=!0)),skip||(this.xn1&&(t.filter=filters=filters||"alpha(opacity="+val+")"),-1===filters.indexOf("pacity")?0===val&&this.xn1||(t.filter=filters+" alpha(opacity="+val+")"):t.filter=filters.replace(_opacityExp,"opacity="+val))};_registerComplexSpecialProp("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,p,cssp,pt,plugin){var b=parseFloat(_getStyle(t,"opacity",_cs,!1,"1")),style=t.style,isAutoAlpha="autoAlpha"===p;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+b),isAutoAlpha&&1===b&&"hidden"===_getStyle(t,"visibility",_cs)&&0!==e&&(b=0),_supportsOpacity?pt=new CSSPropTween(style,"opacity",b,e-b,pt):((pt=new CSSPropTween(style,"opacity",100*b,100*(e-b),pt)).xn1=isAutoAlpha?1:0,style.zoom=1,pt.type=2,pt.b="alpha(opacity="+pt.s+")",pt.e="alpha(opacity="+(pt.s+pt.c)+")",pt.data=t,pt.plugin=plugin,pt.setRatio=_setIEOpacityRatio),isAutoAlpha&&((pt=new CSSPropTween(style,"visibility",0,0,pt,-1,null,!1,0,0!==b?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",cssp._overwriteProps.push(pt.n),cssp._overwriteProps.push(p)),pt}});var _removeProp=function(s,p){p&&(s.removeProperty?("ms"!==p.substr(0,2)&&"webkit"!==p.substr(0,6)||(p="-"+p),s.removeProperty(p.replace(_capsExp,"-$1").toLowerCase())):s.removeAttribute(p))},_setClassNameRatio=function(v){if(this.t._gsClassPT=this,1===v||0===v){this.t.setAttribute("class",0===v?this.b:this.e);for(var mpt=this.data,s=this.t.style;mpt;)mpt.v?s[mpt.p]=mpt.v:_removeProp(s,mpt.p),mpt=mpt._next;1===v&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};_registerComplexSpecialProp("className",{parser:function(t,e,p,cssp,pt,plugin,vars){var difData,bs,cnpt,cnptLookup,mpt,b=t.getAttribute("class")||"",cssText=t.style.cssText;if((pt=cssp._classNamePT=new CSSPropTween(t,p,0,0,pt,2)).setRatio=_setClassNameRatio,pt.pr=-11,_hasPriority=!0,pt.b=b,bs=_getAllStyles(t,_cs),cnpt=t._gsClassPT){for(cnptLookup={},mpt=cnpt.data;mpt;)cnptLookup[mpt.p]=1,mpt=mpt._next;cnpt.setRatio(1)}return(t._gsClassPT=pt).e="="!==e.charAt(1)?e:b.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",pt.e),difData=_cssDif(t,bs,_getAllStyles(t),vars,cnptLookup),t.setAttribute("class",b),pt.data=difData.firstMPT,t.style.cssText!==cssText&&(t.style.cssText=cssText),pt=pt.xfirst=cssp.parse(t,difData.difs,pt,plugin)}});var _setClearPropsRatio=function(v){if((1===v||0===v)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var a,p,i,clearTransform,transform,s=this.t.style,transformParse=_specialProps.transform.parse;if("all"===this.e)clearTransform=!(s.cssText="");else for(i=(a=this.e.split(" ").join("").split(",")).length;-1<--i;)p=a[i],_specialProps[p]&&(_specialProps[p].parse===transformParse?clearTransform=!0:p="transformOrigin"===p?_transformOriginProp:_specialProps[p].p),_removeProp(s,p);clearTransform&&(_removeProp(s,_transformProp),(transform=this.t._gsTransform)&&(transform.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(_registerComplexSpecialProp("clearProps",{parser:function(t,e,p,cssp,pt){return(pt=new CSSPropTween(t,p,0,0,pt,2)).setRatio=_setClearPropsRatio,pt.e=e,pt.pr=-10,pt.data=cssp._tween,_hasPriority=!0,pt}}),p="bezier,throwProps,physicsProps,physics2D".split(","),i=p.length;i--;)_registerPluginProp(p[i]);(p=CSSPlugin.prototype)._firstPT=p._lastParsedTransform=p._transform=null,p._onInitTween=function(target,vars,tween,index){if(!target.nodeType)return!1;this._target=_target=target,this._tween=tween,this._vars=vars,_index=index,_autoRound=vars.autoRound,_hasPriority=!1,_suffixMap=vars.suffixMap||CSSPlugin.suffixMap,_cs=_getComputedStyle(target,""),_overwriteProps=this._overwriteProps;var v,pt,pt2,first,last,next,zIndex,tpt,threeD,style=target.style;if(_reqSafariFix&&""===style.zIndex&&("auto"!==(v=_getStyle(target,"zIndex",_cs))&&""!==v||this._addLazySet(style,"zIndex",0)),"string"==typeof vars&&(first=style.cssText,v=_getAllStyles(target,_cs),style.cssText=first+";"+vars,v=_cssDif(target,v,_getAllStyles(target)).difs,!_supportsOpacity&&_opacityValExp.test(vars)&&(v.opacity=parseFloat(RegExp.$1)),vars=v,style.cssText=first),vars.className?this._firstPT=pt=_specialProps.className.parse(target,vars.className,"className",this,null,null,vars):this._firstPT=pt=this.parse(target,vars,null),this._transformType){for(threeD=3===this._transformType,_transformProp?_isSafari&&(_reqSafariFix=!0,""===style.zIndex&&("auto"!==(zIndex=_getStyle(target,"zIndex",_cs))&&""!==zIndex||this._addLazySet(style,"zIndex",0)),_isSafariLT6&&this._addLazySet(style,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(threeD?"visible":"hidden"))):style.zoom=1,pt2=pt;pt2&&pt2._next;)pt2=pt2._next;tpt=new CSSPropTween(target,"transform",0,0,null,2),this._linkCSSP(tpt,null,pt2),tpt.setRatio=_transformProp?_setTransformRatio:_setIETransformRatio,tpt.data=this._transform||_getTransform(target,_cs,!0),tpt.tween=tween,tpt.pr=-1,_overwriteProps.pop()}if(_hasPriority){for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}this._firstPT=first}return!0},p.parse=function(target,vars,pt,plugin){var p,sp,bn,en,bs,es,bsfx,esfx,isStr,rel,style=target.style;for(p in vars){if(es=vars[p],sp=_specialProps[p],"function"!=typeof es||sp&&sp.allowFunc||(es=es(_index,_target)),sp)pt=sp.parse(target,es,p,this,pt,plugin,vars);else{if("--"===p.substr(0,2)){this._tween._propLookup[p]=this._addTween.call(this._tween,target.style,"setProperty",_getComputedStyle(target).getPropertyValue(p)+"",es+"",p,!1,p);continue}bs=_getStyle(target,p,_cs)+"",isStr="string"==typeof es,"color"===p||"fill"===p||"stroke"===p||-1!==p.indexOf("Color")||isStr&&_rgbhslExp.test(es)?(isStr||(es=(3<(es=_parseColor(es)).length?"rgba(":"rgb(")+es.join(",")+")"),pt=_parseComplex(style,p,bs,es,!0,"transparent",pt,0,plugin)):isStr&&_complexExp.test(es)?pt=_parseComplex(style,p,bs,es,!0,null,pt,0,plugin):(bsfx=(bn=parseFloat(bs))||0===bn?bs.substr((bn+"").length):"",""!==bs&&"auto"!==bs||("width"===p||"height"===p?(bn=_getDimension(target,p,_cs),bsfx="px"):"left"===p||"top"===p?(bn=_calculateOffset(target,p,_cs),bsfx="px"):(bn="opacity"!==p?0:1,bsfx="")),(rel=isStr&&"="===es.charAt(1))?(en=parseInt(es.charAt(0)+"1",10),es=es.substr(2),en*=parseFloat(es),esfx=es.replace(_suffixExp,"")):(en=parseFloat(es),esfx=isStr?es.replace(_suffixExp,""):""),""===esfx&&(esfx=p in _suffixMap?_suffixMap[p]:bsfx),es=en||0===en?(rel?en+bn:en)+esfx:vars[p],bsfx!==esfx&&(""===esfx&&"lineHeight"!==p||(en||0===en)&&bn&&(bn=_convertToPixels(target,p,bn,bsfx),"%"===esfx?(bn/=_convertToPixels(target,p,100,"%")/100,!0!==vars.strictUnits&&(bs=bn+"%")):"em"===esfx||"rem"===esfx||"vw"===esfx||"vh"===esfx?bn/=_convertToPixels(target,p,1,esfx):"px"!==esfx&&(en=_convertToPixels(target,p,en,esfx),esfx="px"),rel&&(en||0===en)&&(es=en+bn+esfx))),rel&&(en+=bn),!bn&&0!==bn||!en&&0!==en?style[p]!==undefined&&(es||es+""!="NaN"&&null!=es)?(pt=new CSSPropTween(style,p,en||bn||0,0,pt,-1,p,!1,0,bs,es)).xs0="none"!==es||"display"!==p&&-1===p.indexOf("Style")?es:bs:_log("invalid "+p+" tween value: "+vars[p]):(pt=new CSSPropTween(style,p,bn,en-bn,pt,0,p,!1!==_autoRound&&("px"===esfx||"zIndex"===p),0,bs,es)).xs0=esfx)}plugin&&pt&&!pt.plugin&&(pt.plugin=plugin)}return pt},p.setRatio=function(v){var val,str,i,pt=this._firstPT,min=1e-6;if(1!==v||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(v||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;pt;){if(val=pt.c*v+pt.s,pt.r?val=pt.r(val):val<min&&-min<val&&(val=0),pt.type)if(1===pt.type)if(2===(i=pt.l))pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2;else if(3===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3;else if(4===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3+pt.xn3+pt.xs4;else if(5===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3+pt.xn3+pt.xs4+pt.xn4+pt.xs5;else{for(str=pt.xs0+val+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.t[pt.p]=str}else-1===pt.type?pt.t[pt.p]=pt.xs0:pt.setRatio&&pt.setRatio(v);else pt.t[pt.p]=val+pt.xs0;pt=pt._next}else for(;pt;)2!==pt.type?pt.t[pt.p]=pt.b:pt.setRatio(v),pt=pt._next;else for(;pt;){if(2!==pt.type)if(pt.r&&-1!==pt.type)if(val=pt.r(pt.s+pt.c),pt.type){if(1===pt.type){for(i=pt.l,str=pt.xs0+val+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.t[pt.p]=str}}else pt.t[pt.p]=val+pt.xs0;else pt.t[pt.p]=pt.e;else pt.setRatio(v);pt=pt._next}},p._enableTransforms=function(threeD){this._transform=this._transform||_getTransform(this._target,_cs,!0),this._transformType=this._transform.svg&&_useSVGTransformAttr||!threeD&&3!==this._transformType?2:3};var lazySet=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};p._addLazySet=function(t,p,v){var pt=this._firstPT=new CSSPropTween(t,p,0,0,this._firstPT,2);pt.e=v,pt.setRatio=lazySet,pt.data=this},p._linkCSSP=function(pt,next,prev,remove){return pt&&(next&&(next._prev=pt),pt._next&&(pt._next._prev=pt._prev),pt._prev?pt._prev._next=pt._next:this._firstPT===pt&&(this._firstPT=pt._next,remove=!0),prev?prev._next=pt:remove||null!==this._firstPT||(this._firstPT=pt),pt._next=next,pt._prev=prev),pt},p._mod=function(lookup){for(var pt=this._firstPT;pt;)"function"==typeof lookup[pt.p]&&(pt.r=lookup[pt.p]),pt=pt._next},p._kill=function(lookup){var pt,p,xfirst,copy=lookup;if(lookup.autoAlpha||lookup.alpha){for(p in copy={},lookup)copy[p]=lookup[p];copy.opacity=1,copy.autoAlpha&&(copy.visibility=1)}for(lookup.className&&(pt=this._classNamePT)&&((xfirst=pt.xfirst)&&xfirst._prev?this._linkCSSP(xfirst._prev,pt._next,xfirst._prev._prev):xfirst===this._firstPT&&(this._firstPT=pt._next),pt._next&&this._linkCSSP(pt._next,pt._next._next,xfirst._prev),this._classNamePT=null),pt=this._firstPT;pt;)pt.plugin&&pt.plugin!==p&&pt.plugin._kill&&(pt.plugin._kill(lookup),p=pt.plugin),pt=pt._next;return TweenPlugin.prototype._kill.call(this,copy)};var _getChildStyles=function(e,props,targets){var children,i,child,type;if(e.slice)for(i=e.length;-1<--i;)_getChildStyles(e[i],props,targets);else for(i=(children=e.childNodes).length;-1<--i;)type=(child=children[i]).type,child.style&&(props.push(_getAllStyles(child)),targets&&targets.push(child)),1!==type&&9!==type&&11!==type||!child.childNodes.length||_getChildStyles(child,props,targets)};return CSSPlugin.cascadeTo=function(target,duration,vars){var i,difs,p,from,tween=TweenLite.to(target,duration,vars),results=[tween],b=[],e=[],targets=[],_reservedProps=TweenLite._internals.reservedProps;for(target=tween._targets||tween.target,_getChildStyles(target,b,targets),tween.render(duration,!0,!0),_getChildStyles(target,e),tween.render(0,!0,!0),tween._enabled(!0),i=targets.length;-1<--i;)if((difs=_cssDif(targets[i],b[i],e[i])).firstMPT){for(p in difs=difs.difs,vars)_reservedProps[p]&&(difs[p]=vars[p]);for(p in from={},difs)from[p]=b[i][p];results.push(TweenLite.fromTo(targets[i],duration,from,difs))}return results},TweenPlugin.activate([CSSPlugin]),CSSPlugin},!0),function(){var RoundPropsPlugin=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(target,value,tween){return this._tween=tween,!0}}),_getRoundFunc=function(v){var p=v<1?Math.pow(10,(v+"").length-2):1;return function(n){return(Math.round(n/v)*v*p|0)/p}},_roundLinkedList=function(node,mod){for(;node;)node.f||node.blob||(node.m=mod||Math.round),node=node._next},p=RoundPropsPlugin.prototype;p._onInitAllProps=function(){var pt,next,i,p,tween=this._tween,rp=tween.vars.roundProps,lookup={},rpt=tween._propLookup.roundProps;if("object"!=typeof rp||rp.push)for("string"==typeof rp&&(rp=rp.split(",")),i=rp.length;-1<--i;)lookup[rp[i]]=Math.round;else for(p in rp)lookup[p]=_getRoundFunc(rp[p]);for(p in lookup)for(pt=tween._firstPT;pt;)next=pt._next,pt.pg?pt.t._mod(lookup):pt.n===p&&(2===pt.f&&pt.t?_roundLinkedList(pt.t._firstPT,lookup[p]):(this._add(pt.t,p,pt.s,pt.c,lookup[p]),next&&(next._prev=pt._prev),pt._prev?pt._prev._next=next:tween._firstPT===pt&&(tween._firstPT=next),pt._next=pt._prev=null,tween._propLookup[p]=rpt)),pt=next;return!1},p._add=function(target,p,s,c,mod){this._addTween(target,p,s,s+c,p,mod||Math.round),this._overwriteProps.push(p)}}(),_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(target,value,tween,index){var p,end;if("function"!=typeof target.setAttribute)return!1;for(p in value)"function"==typeof(end=value[p])&&(end=end(index,target)),this._addTween(target,"setAttribute",target.getAttribute(p)+"",end+"",p,!1,p),this._overwriteProps.push(p);return!0}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(target,value,tween,index){"object"!=typeof value&&(value={rotation:value}),this.finals={};var p,v,start,end,dif,split,cap=!0===value.useRadians?2*Math.PI:360,min=1e-6;for(p in value)"useRadians"!==p&&("function"==typeof(end=value[p])&&(end=end(index,target)),v=(split=(end+"").split("_"))[0],start=parseFloat("function"!=typeof target[p]?target[p]:target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)]()),dif=(end=this.finals[p]="string"==typeof v&&"="===v.charAt(1)?start+parseInt(v.charAt(0)+"1",10)*Number(v.substr(2)):Number(v)||0)-start,split.length&&(-1!==(v=split.join("_")).indexOf("short")&&(dif%=cap)!==dif%(cap/2)&&(dif=dif<0?dif+cap:dif-cap),-1!==v.indexOf("_cw")&&dif<0?dif=(dif+9999999999*cap)%cap-(dif/cap|0)*cap:-1!==v.indexOf("ccw")&&0<dif&&(dif=(dif-9999999999*cap)%cap-(dif/cap|0)*cap)),(min<dif||dif<-min)&&(this._addTween(target,p,start,start+dif,p),this._overwriteProps.push(p)));return!0},set:function(ratio){var pt;if(1!==ratio)this._super.setRatio.call(this,ratio);else for(pt=this._firstPT;pt;)pt.f?pt.t[pt.p](this.finals[pt.p]):pt.t[pt.p]=this.finals[pt.p],pt=pt._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(Ease){var SteppedEase,ExpoScaleEase,RoughEase,_createElastic,w=_gsScope.GreenSockGlobals||_gsScope,gs=w.com.greensock,_2PI=2*Math.PI,_HALF_PI=Math.PI/2,_class=gs._class,_create=function(n,f){var C=_class("easing."+n,function(){},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,C},_easeReg=Ease.register||function(){},_wrap=function(name,EaseOut,EaseIn,EaseInOut){var C=_class("easing."+name,{easeOut:new EaseOut,easeIn:new EaseIn,easeInOut:new EaseInOut},!0);return _easeReg(C,name),C},EasePoint=function(time,value,next){this.t=time,this.v=value,next&&(((this.next=next).prev=this).c=next.v-value,this.gap=next.t-time)},_createBack=function(n,f){var C=_class("easing."+n,function(overshoot){this._p1=overshoot||0===overshoot?overshoot:1.70158,this._p2=1.525*this._p1},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,p.config=function(overshoot){return new C(overshoot)},C},Back=_wrap("Back",_createBack("BackOut",function(p){return(p-=1)*p*((this._p1+1)*p+this._p1)+1}),_createBack("BackIn",function(p){return p*p*((this._p1+1)*p-this._p1)}),_createBack("BackInOut",function(p){return(p*=2)<1?.5*p*p*((this._p2+1)*p-this._p2):.5*((p-=2)*p*((this._p2+1)*p+this._p2)+2)})),SlowMo=_class("easing.SlowMo",function(linearRatio,power,yoyoMode){power=power||0===power?power:.7,null==linearRatio?linearRatio=.7:1<linearRatio&&(linearRatio=1),this._p=1!==linearRatio?power:0,this._p1=(1-linearRatio)/2,this._p2=linearRatio,this._p3=this._p1+this._p2,this._calcEnd=!0===yoyoMode},!0),p=SlowMo.prototype=new Ease;return p.constructor=SlowMo,p.getRatio=function(p){var r=p+(.5-p)*this._p;return p<this._p1?this._calcEnd?1-(p=1-p/this._p1)*p:r-(p=1-p/this._p1)*p*p*p*r:p>this._p3?this._calcEnd?1===p?0:1-(p=(p-this._p3)/this._p1)*p:r+(p-r)*(p=(p-this._p3)/this._p1)*p*p*p:this._calcEnd?1:r},SlowMo.ease=new SlowMo(.7,.7),p.config=SlowMo.config=function(linearRatio,power,yoyoMode){return new SlowMo(linearRatio,power,yoyoMode)},(p=(SteppedEase=_class("easing.SteppedEase",function(steps,immediateStart){steps=steps||1,this._p1=1/steps,this._p2=steps+(immediateStart?0:1),this._p3=immediateStart?1:0},!0)).prototype=new Ease).constructor=SteppedEase,p.getRatio=function(p){return p<0?p=0:1<=p&&(p=.999999999),((this._p2*p|0)+this._p3)*this._p1},p.config=SteppedEase.config=function(steps,immediateStart){return new SteppedEase(steps,immediateStart)},(p=(ExpoScaleEase=_class("easing.ExpoScaleEase",function(start,end,ease){this._p1=Math.log(end/start),this._p2=end-start,this._p3=start,this._ease=ease},!0)).prototype=new Ease).constructor=ExpoScaleEase,p.getRatio=function(p){return this._ease&&(p=this._ease.getRatio(p)),(this._p3*Math.exp(this._p1*p)-this._p3)/this._p2},p.config=ExpoScaleEase.config=function(start,end,ease){return new ExpoScaleEase(start,end,ease)},(p=(RoughEase=_class("easing.RoughEase",function(vars){for(var x,y,bump,invX,obj,pnt,taper=(vars=vars||{}).taper||"none",a=[],cnt=0,points=0|(vars.points||20),i=points,randomize=!1!==vars.randomize,clamp=!0===vars.clamp,template=vars.template instanceof Ease?vars.template:null,strength="number"==typeof vars.strength?.4*vars.strength:.4;-1<--i;)x=randomize?Math.random():1/points*i,y=template?template.getRatio(x):x,bump="none"===taper?strength:"out"===taper?(invX=1-x)*invX*strength:"in"===taper?x*x*strength:x<.5?(invX=2*x)*invX*.5*strength:(invX=2*(1-x))*invX*.5*strength,randomize?y+=Math.random()*bump-.5*bump:i%2?y+=.5*bump:y-=.5*bump,clamp&&(1<y?y=1:y<0&&(y=0)),a[cnt++]={x:x,y:y};for(a.sort(function(a,b){return a.x-b.x}),pnt=new EasePoint(1,1,null),i=points;-1<--i;)obj=a[i],pnt=new EasePoint(obj.x,obj.y,pnt);this._prev=new EasePoint(0,0,0!==pnt.t?pnt:pnt.next)},!0)).prototype=new Ease).constructor=RoughEase,p.getRatio=function(p){var pnt=this._prev;if(p>pnt.t){for(;pnt.next&&p>=pnt.t;)pnt=pnt.next;pnt=pnt.prev}else for(;pnt.prev&&p<=pnt.t;)pnt=pnt.prev;return(this._prev=pnt).v+(p-pnt.t)/pnt.gap*pnt.c},p.config=function(vars){return new RoughEase(vars)},RoughEase.ease=new RoughEase,_wrap("Bounce",_create("BounceOut",function(p){return p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375}),_create("BounceIn",function(p){return(p=1-p)<1/2.75?1-7.5625*p*p:p<2/2.75?1-(7.5625*(p-=1.5/2.75)*p+.75):p<2.5/2.75?1-(7.5625*(p-=2.25/2.75)*p+.9375):1-(7.5625*(p-=2.625/2.75)*p+.984375)}),_create("BounceInOut",function(p){var invert=p<.5;return(p=invert?1-2*p:2*p-1)<1/2.75?p*=7.5625*p:p=p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375,invert?.5*(1-p):.5*p+.5})),_wrap("Circ",_create("CircOut",function(p){return Math.sqrt(1-(p-=1)*p)}),_create("CircIn",function(p){return-(Math.sqrt(1-p*p)-1)}),_create("CircInOut",function(p){return(p*=2)<1?-.5*(Math.sqrt(1-p*p)-1):.5*(Math.sqrt(1-(p-=2)*p)+1)})),_wrap("Elastic",(_createElastic=function(n,f,def){var C=_class("easing."+n,function(amplitude,period){this._p1=1<=amplitude?amplitude:1,this._p2=(period||def)/(amplitude<1?amplitude:1),this._p3=this._p2/_2PI*(Math.asin(1/this._p1)||0),this._p2=_2PI/this._p2},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,p.config=function(amplitude,period){return new C(amplitude,period)},C})("ElasticOut",function(p){return this._p1*Math.pow(2,-10*p)*Math.sin((p-this._p3)*this._p2)+1},.3),_createElastic("ElasticIn",function(p){return-this._p1*Math.pow(2,10*(p-=1))*Math.sin((p-this._p3)*this._p2)},.3),_createElastic("ElasticInOut",function(p){return(p*=2)<1?this._p1*Math.pow(2,10*(p-=1))*Math.sin((p-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(p-=1))*Math.sin((p-this._p3)*this._p2)*.5+1},.45)),_wrap("Expo",_create("ExpoOut",function(p){return 1-Math.pow(2,-10*p)}),_create("ExpoIn",function(p){return Math.pow(2,10*(p-1))-.001}),_create("ExpoInOut",function(p){return(p*=2)<1?.5*Math.pow(2,10*(p-1)):.5*(2-Math.pow(2,-10*(p-1)))})),_wrap("Sine",_create("SineOut",function(p){return Math.sin(p*_HALF_PI)}),_create("SineIn",function(p){return 1-Math.cos(p*_HALF_PI)}),_create("SineInOut",function(p){return-.5*(Math.cos(Math.PI*p)-1)})),_class("easing.EaseLookup",{find:function(s){return Ease.map[s]}},!0),_easeReg(w.SlowMo,"SlowMo","ease,"),_easeReg(RoughEase,"RoughEase","ease,"),_easeReg(SteppedEase,"SteppedEase","ease,"),Back},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(window,moduleName){"use strict";var _exports={},_doc=window.document,_globals=window.GreenSockGlobals=window.GreenSockGlobals||window,existingModule=_globals[moduleName];if(existingModule)return"undefined"!=typeof module&&module.exports&&(module.exports=existingModule);var a,i,p,_ticker,_tickerActive,toString,array,_namespace=function(ns){var i,a=ns.split("."),p=_globals;for(i=0;i<a.length;i++)p[a[i]]=p=p[a[i]]||{};return p},gs=_namespace("com.greensock"),_tinyNum=1e-8,_slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_emptyFunc=function(){},_isArray=(toString=Object.prototype.toString,array=toString.call([]),function(obj){return null!=obj&&(obj instanceof Array||"object"==typeof obj&&!!obj.push&&toString.call(obj)===array)}),_defLookup={},Definition=function(ns,dependencies,func,global){this.sc=_defLookup[ns]?_defLookup[ns].sc:[],(_defLookup[ns]=this).gsClass=null,this.func=func;var _classes=[];this.check=function(init){for(var cur,a,n,cl,i=dependencies.length,missing=i;-1<--i;)(cur=_defLookup[dependencies[i]]||new Definition(dependencies[i],[])).gsClass?(_classes[i]=cur.gsClass,missing--):init&&cur.sc.push(this);if(0===missing&&func){if(n=(a=("com.greensock."+ns).split(".")).pop(),cl=_namespace(a.join("."))[n]=this.gsClass=func.apply(func,_classes),global)if(_globals[n]=_exports[n]=cl,"undefined"!=typeof module&&module.exports)if(ns===moduleName)for(i in module.exports=_exports[moduleName]=cl,_exports)cl[i]=_exports[i];else _exports[moduleName]&&(_exports[moduleName][n]=cl);else"function"==typeof define&&define.amd&&define((window.GreenSockAMDPath?window.GreenSockAMDPath+"/":"")+ns.split(".").pop(),[],function(){return cl});for(i=0;i<this.sc.length;i++)this.sc[i].check()}},this.check(!0)},_gsDefine=window._gsDefine=function(ns,dependencies,func,global){return new Definition(ns,dependencies,func,global)},_class=gs._class=function(ns,func,global){return func=func||function(){},_gsDefine(ns,[],function(){return func},global),func};_gsDefine.globals=_globals;var _baseParams=[0,0,1,1],Ease=_class("easing.Ease",function(func,extraParams,type,power){this._func=func,this._type=type||0,this._power=power||0,this._params=extraParams?_baseParams.concat(extraParams):_baseParams},!0),_easeMap=Ease.map={},_easeReg=Ease.register=function(ease,names,types,create){for(var e,name,j,type,na=names.split(","),i=na.length,ta=(types||"easeIn,easeOut,easeInOut").split(",");-1<--i;)for(name=na[i],e=create?_class("easing."+name,null,!0):gs.easing[name]||{},j=ta.length;-1<--j;)type=ta[j],_easeMap[name+"."+type]=_easeMap[type+name]=e[type]=ease.getRatio?ease:ease[type]||new ease};for((p=Ease.prototype)._calcEnd=!1,p.getRatio=function(p){if(this._func)return this._params[0]=p,this._func.apply(null,this._params);var t=this._type,pw=this._power,r=1===t?1-p:2===t?p:p<.5?2*p:2*(1-p);return 1===pw?r*=r:2===pw?r*=r*r:3===pw?r*=r*r*r:4===pw&&(r*=r*r*r*r),1===t?1-r:2===t?r:p<.5?r/2:1-r/2},i=(a=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--i;)p=a[i]+",Power"+i,_easeReg(new Ease(null,null,1,i),p,"easeOut",!0),_easeReg(new Ease(null,null,2,i),p,"easeIn"+(0===i?",easeNone":"")),_easeReg(new Ease(null,null,3,i),p,"easeInOut");_easeMap.linear=gs.easing.Linear.easeIn,_easeMap.swing=gs.easing.Quad.easeInOut;var EventDispatcher=_class("events.EventDispatcher",function(target){this._listeners={},this._eventTarget=target||this});(p=EventDispatcher.prototype).addEventListener=function(type,callback,scope,useParam,priority){priority=priority||0;var listener,i,list=this._listeners[type],index=0;for(this!==_ticker||_tickerActive||_ticker.wake(),null==list&&(this._listeners[type]=list=[]),i=list.length;-1<--i;)(listener=list[i]).c===callback&&listener.s===scope?list.splice(i,1):0===index&&listener.pr<priority&&(index=i+1);list.splice(index,0,{c:callback,s:scope,up:useParam,pr:priority})},p.removeEventListener=function(type,callback){var i,list=this._listeners[type];if(list)for(i=list.length;-1<--i;)if(list[i].c===callback)return void list.splice(i,1)},p.dispatchEvent=function(type){var i,t,listener,list=this._listeners[type];if(list)for(1<(i=list.length)&&(list=list.slice(0)),t=this._eventTarget;-1<--i;)(listener=list[i])&&(listener.up?listener.c.call(listener.s||t,{type:type,target:t}):listener.c.call(listener.s||t))};var _reqAnimFrame=window.requestAnimationFrame,_cancelAnimFrame=window.cancelAnimationFrame,_getTime=Date.now||function(){return(new Date).getTime()},_lastUpdate=_getTime();for(i=(a=["ms","moz","webkit","o"]).length;-1<--i&&!_reqAnimFrame;)_reqAnimFrame=window[a[i]+"RequestAnimationFrame"],_cancelAnimFrame=window[a[i]+"CancelAnimationFrame"]||window[a[i]+"CancelRequestAnimationFrame"];_class("Ticker",function(fps,useRAF){var _fps,_req,_id,_gap,_nextTime,_self=this,_startTime=_getTime(),_useRAF=!(!1===useRAF||!_reqAnimFrame)&&"auto",_lagThreshold=500,_adjustedLag=33,_tickWord="tick",_tick=function(manual){var overlap,dispatch,elapsed=_getTime()-_lastUpdate;_lagThreshold<elapsed&&(_startTime+=elapsed-_adjustedLag),_lastUpdate+=elapsed,_self.time=(_lastUpdate-_startTime)/1e3,overlap=_self.time-_nextTime,(!_fps||0<overlap||!0===manual)&&(_self.frame++,_nextTime+=overlap+(_gap<=overlap?.004:_gap-overlap),dispatch=!0),!0!==manual&&(_id=_req(_tick)),dispatch&&_self.dispatchEvent(_tickWord)};EventDispatcher.call(_self),_self.time=_self.frame=0,_self.tick=function(){_tick(!0)},_self.lagSmoothing=function(threshold,adjustedLag){if(!arguments.length)return _lagThreshold<1/_tinyNum;_lagThreshold=threshold||1/_tinyNum,_adjustedLag=Math.min(adjustedLag,_lagThreshold,0)},_self.sleep=function(){null!=_id&&(_useRAF&&_cancelAnimFrame?_cancelAnimFrame(_id):clearTimeout(_id),_req=_emptyFunc,_id=null,_self===_ticker&&(_tickerActive=!1))},_self.wake=function(seamless){null!==_id?_self.sleep():seamless?_startTime+=-_lastUpdate+(_lastUpdate=_getTime()):10<_self.frame&&(_lastUpdate=_getTime()-_lagThreshold+5),_req=0===_fps?_emptyFunc:_useRAF&&_reqAnimFrame?_reqAnimFrame:function(f){return setTimeout(f,1e3*(_nextTime-_self.time)+1|0)},_self===_ticker&&(_tickerActive=!0),_tick(2)},_self.fps=function(value){if(!arguments.length)return _fps;_gap=1/((_fps=value)||60),_nextTime=this.time+_gap,_self.wake()},_self.useRAF=function(value){if(!arguments.length)return _useRAF;_self.sleep(),_useRAF=value,_self.fps(_fps)},_self.fps(fps),setTimeout(function(){"auto"===_useRAF&&_self.frame<5&&"hidden"!==(_doc||{}).visibilityState&&_self.useRAF(!1)},1500)}),(p=gs.Ticker.prototype=new gs.events.EventDispatcher).constructor=gs.Ticker;var Animation=_class("core.Animation",function(duration,vars){if(this.vars=vars=vars||{},this._duration=this._totalDuration=duration||0,this._delay=Number(vars.delay)||0,this._timeScale=1,this._active=!!vars.immediateRender,this.data=vars.data,this._reversed=!!vars.reversed,_rootTimeline){_tickerActive||_ticker.wake();var tl=this.vars.useFrames?_rootFramesTimeline:_rootTimeline;tl.add(this,tl._time),this.vars.paused&&this.paused(!0)}});_ticker=Animation.ticker=new gs.Ticker,(p=Animation.prototype)._dirty=p._gc=p._initted=p._paused=!1,p._totalTime=p._time=0,p._rawPrevTime=-1,p._next=p._last=p._onUpdate=p._timeline=p.timeline=null,p._paused=!1;var _checkTimeout=function(){_tickerActive&&2e3<_getTime()-_lastUpdate&&("hidden"!==(_doc||{}).visibilityState||!_ticker.lagSmoothing())&&_ticker.wake();var t=setTimeout(_checkTimeout,2e3);t.unref&&t.unref()};_checkTimeout(),p.play=function(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.reversed(!1).paused(!1)},p.pause=function(atTime,suppressEvents){return null!=atTime&&this.seek(atTime,suppressEvents),this.paused(!0)},p.resume=function(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.paused(!1)},p.seek=function(time,suppressEvents){return this.totalTime(Number(time),!1!==suppressEvents)},p.restart=function(includeDelay,suppressEvents){return this.reversed(!1).paused(!1).totalTime(includeDelay?-this._delay:0,!1!==suppressEvents,!0)},p.reverse=function(from,suppressEvents){return null!=from&&this.seek(from||this.totalDuration(),suppressEvents),this.reversed(!0).paused(!1)},p.render=function(){},p.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},p.isActive=function(){var rawTime,tl=this._timeline,startTime=this._startTime
;return!tl||!this._gc&&!this._paused&&tl.isActive()&&(rawTime=tl.rawTime(!0))>=startTime&&rawTime<startTime+this.totalDuration()/this._timeScale-_tinyNum},p._enabled=function(enabled,ignoreTimeline){return _tickerActive||_ticker.wake(),this._gc=!enabled,this._active=this.isActive(),!0!==ignoreTimeline&&(enabled&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!enabled&&this.timeline&&this._timeline._remove(this,!0)),!1},p._kill=function(){return this._enabled(!1,!1)},p.kill=function(vars,target){return this._kill(vars,target),this},p._uncache=function(includeSelf){for(var tween=includeSelf?this:this.timeline;tween;)tween._dirty=!0,tween=tween.timeline;return this},p._swapSelfInParams=function(params){for(var i=params.length,copy=params.concat();-1<--i;)"{self}"===params[i]&&(copy[i]=this);return copy},p._callback=function(type){var v=this.vars,callback=v[type],params=v[type+"Params"],scope=v[type+"Scope"]||v.callbackScope||this;switch(params?params.length:0){case 0:callback.call(scope);break;case 1:callback.call(scope,params[0]);break;case 2:callback.call(scope,params[0],params[1]);break;default:callback.apply(scope,params)}},p.eventCallback=function(type,callback,params,scope){if("on"===(type||"").substr(0,2)){var v=this.vars;if(1===arguments.length)return v[type];null==callback?delete v[type]:(v[type]=callback,v[type+"Params"]=_isArray(params)&&-1!==params.join("").indexOf("{self}")?this._swapSelfInParams(params):params,v[type+"Scope"]=scope),"onUpdate"===type&&(this._onUpdate=callback)}return this},p.delay=function(value){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+value-this._delay),this._delay=value,this):this._delay},p.duration=function(value){return arguments.length?(this._duration=this._totalDuration=value,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==value&&this.totalTime(this._totalTime*(value/this._duration),!0),this):(this._dirty=!1,this._duration)},p.totalDuration=function(value){return this._dirty=!1,arguments.length?this.duration(value):this._totalDuration},p.time=function(value,suppressEvents){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(value>this._duration?this._duration:value,suppressEvents)):this._time},p.totalTime=function(time,suppressEvents,uncapped){if(_tickerActive||_ticker.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(time<0&&!uncapped&&(time+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var totalDuration=this._totalDuration,tl=this._timeline;if(totalDuration<time&&!uncapped&&(time=totalDuration),this._startTime=(this._paused?this._pauseTime:tl._time)-(this._reversed?totalDuration-time:time)/this._timeScale,tl._dirty||this._uncache(!1),tl._timeline)for(;tl._timeline;)tl._timeline._time!==(tl._startTime+tl._totalTime)/tl._timeScale&&tl.totalTime(tl._totalTime,!0),tl=tl._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===time&&0!==this._duration||(_lazyTweens.length&&_lazyRender(),this.render(time,suppressEvents,!1),_lazyTweens.length&&_lazyRender())}return this},p.progress=p.totalProgress=function(value,suppressEvents){var duration=this.duration();return arguments.length?this.totalTime(duration*value,suppressEvents):duration?this._time/duration:this.ratio},p.startTime=function(value){return arguments.length?(value!==this._startTime&&(this._startTime=value,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,value-this._delay)),this):this._startTime},p.endTime=function(includeRepeats){return this._startTime+(0!=includeRepeats?this.totalDuration():this.duration())/this._timeScale},p.timeScale=function(value){if(!arguments.length)return this._timeScale;var pauseTime,t;for(value=value||_tinyNum,this._timeline&&this._timeline.smoothChildTiming&&(t=(pauseTime=this._pauseTime)||0===pauseTime?pauseTime:this._timeline.totalTime(),this._startTime=t-(t-this._startTime)*this._timeScale/value),this._timeScale=value,t=this.timeline;t&&t.timeline;)t._dirty=!0,t.totalDuration(),t=t.timeline;return this},p.reversed=function(value){return arguments.length?(value!=this._reversed&&(this._reversed=value,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},p.paused=function(value){if(!arguments.length)return this._paused;var raw,elapsed,tl=this._timeline;return value!=this._paused&&tl&&(_tickerActive||value||_ticker.wake(),elapsed=(raw=tl.rawTime())-this._pauseTime,!value&&tl.smoothChildTiming&&(this._startTime+=elapsed,this._uncache(!1)),this._pauseTime=value?raw:null,this._paused=value,this._active=this.isActive(),!value&&0!==elapsed&&this._initted&&this.duration()&&(raw=tl.smoothChildTiming?this._totalTime:(raw-this._startTime)/this._timeScale,this.render(raw,raw===this._totalTime,!0))),this._gc&&!value&&this._enabled(!0,!1),this};var SimpleTimeline=_class("core.SimpleTimeline",function(vars){Animation.call(this,0,vars),this.autoRemoveChildren=this.smoothChildTiming=!0});(p=SimpleTimeline.prototype=new Animation).constructor=SimpleTimeline,p.kill()._gc=!1,p._first=p._last=p._recent=null,p._sortChildren=!1,p.add=p.insert=function(child,position){var prevTween,st;if(child._startTime=Number(position||0)+child._delay,child._paused&&this!==child._timeline&&(child._pauseTime=this.rawTime()-(child._timeline.rawTime()-child._pauseTime)),child.timeline&&child.timeline._remove(child,!0),child.timeline=child._timeline=this,child._gc&&child._enabled(!0,!0),prevTween=this._last,this._sortChildren)for(st=child._startTime;prevTween&&prevTween._startTime>st;)prevTween=prevTween._prev;return prevTween?(child._next=prevTween._next,prevTween._next=child):(child._next=this._first,this._first=child),child._next?child._next._prev=child:this._last=child,child._prev=prevTween,this._recent=child,this._timeline&&this._uncache(!0),this},p._remove=function(tween,skipDisable){return tween.timeline===this&&(skipDisable||tween._enabled(!1,!0),tween._prev?tween._prev._next=tween._next:this._first===tween&&(this._first=tween._next),tween._next?tween._next._prev=tween._prev:this._last===tween&&(this._last=tween._prev),tween._next=tween._prev=tween.timeline=null,tween===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},p.render=function(time,suppressEvents,force){var next,tween=this._first;for(this._totalTime=this._time=this._rawPrevTime=time;tween;)next=tween._next,(tween._active||time>=tween._startTime&&!tween._paused&&!tween._gc)&&(tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next},p.rawTime=function(){return _tickerActive||_ticker.wake(),this._totalTime};var TweenLite=_class("TweenLite",function(target,duration,vars){if(Animation.call(this,duration,vars),this.render=TweenLite.prototype.render,null==target)throw"Cannot tween a null target.";this.target=target="string"!=typeof target?target:TweenLite.selector(target)||target;var i,targ,targets,isSelector=target.jquery||target.length&&target!==window&&target[0]&&(target[0]===window||target[0].nodeType&&target[0].style&&!target.nodeType),overwrite=this.vars.overwrite;if(this._overwrite=overwrite=null==overwrite?_overwriteLookup[TweenLite.defaultOverwrite]:"number"==typeof overwrite?overwrite>>0:_overwriteLookup[overwrite],(isSelector||target instanceof Array||target.push&&_isArray(target))&&"number"!=typeof target[0])for(this._targets=targets=_slice(target),this._propLookup=[],this._siblings=[],i=0;i<targets.length;i++)(targ=targets[i])?"string"!=typeof targ?targ.length&&targ!==window&&targ[0]&&(targ[0]===window||targ[0].nodeType&&targ[0].style&&!targ.nodeType)?(targets.splice(i--,1),this._targets=targets=targets.concat(_slice(targ))):(this._siblings[i]=_register(targ,this,!1),1===overwrite&&1<this._siblings[i].length&&_applyOverwrite(targ,this,null,1,this._siblings[i])):"string"==typeof(targ=targets[i--]=TweenLite.selector(targ))&&targets.splice(i+1,1):targets.splice(i--,1);else this._propLookup={},this._siblings=_register(target,this,!1),1===overwrite&&1<this._siblings.length&&_applyOverwrite(target,this,null,1,this._siblings);(this.vars.immediateRender||0===duration&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-_tinyNum,this.render(Math.min(0,-this._delay)))},!0),_isSelector=function(v){return v&&v.length&&v!==window&&v[0]&&(v[0]===window||v[0].nodeType&&v[0].style&&!v.nodeType)},_autoCSS=function(vars,target){var p,css={};for(p in vars)_reservedProps[p]||p in target&&"transform"!==p&&"x"!==p&&"y"!==p&&"width"!==p&&"height"!==p&&"className"!==p&&"border"!==p||!(!_plugins[p]||_plugins[p]&&_plugins[p]._autoCSS)||(css[p]=vars[p],delete vars[p]);vars.css=css};(p=TweenLite.prototype=new Animation).constructor=TweenLite,p.kill()._gc=!1,p.ratio=0,p._firstPT=p._targets=p._overwrittenProps=p._startAt=null,p._notifyPluginsOfEnabled=p._lazy=!1,TweenLite.version="2.1.3",TweenLite.defaultEase=p._ease=new Ease(null,null,1,1),TweenLite.defaultOverwrite="auto",TweenLite.ticker=_ticker,TweenLite.autoSleep=120,TweenLite.lagSmoothing=function(threshold,adjustedLag){_ticker.lagSmoothing(threshold,adjustedLag)},TweenLite.selector=window.$||window.jQuery||function(e){var selector=window.$||window.jQuery;return selector?(TweenLite.selector=selector)(e):(_doc||(_doc=window.document),_doc?_doc.querySelectorAll?_doc.querySelectorAll(e):_doc.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var _lazyTweens=[],_lazyLookup={},_numbersExp=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,_relExp=/[\+-]=-?[\.\d]/,_setRatio=function(v){for(var val,pt=this._firstPT,min=1e-6;pt;)val=pt.blob?1===v&&null!=this.end?this.end:v?this.join(""):this.start:pt.c*v+pt.s,pt.m?val=pt.m.call(this._tween,val,this._target||pt.t,this._tween):val<min&&-min<val&&!pt.blob&&(val=0),pt.f?pt.fp?pt.t[pt.p](pt.fp,val):pt.t[pt.p](val):pt.t[pt.p]=val,pt=pt._next},_blobRound=function(v){return(1e3*v|0)/1e3+""},_blobDif=function(start,end,filter,pt){var startNums,endNums,num,i,l,nonNumbers,currentNum,a=[],charIndex=0,s="",color=0;for(a.start=start,a.end=end,start=a[0]=start+"",end=a[1]=end+"",filter&&(filter(a),start=a[0],end=a[1]),a.length=0,startNums=start.match(_numbersExp)||[],endNums=end.match(_numbersExp)||[],pt&&(pt._next=null,pt.blob=1,a._firstPT=a._applyPT=pt),l=endNums.length,i=0;i<l;i++)currentNum=endNums[i],s+=(nonNumbers=end.substr(charIndex,end.indexOf(currentNum,charIndex)-charIndex))||!i?nonNumbers:",",charIndex+=nonNumbers.length,color?color=(color+1)%5:"rgba("===nonNumbers.substr(-5)&&(color=1),currentNum===startNums[i]||startNums.length<=i?s+=currentNum:(s&&(a.push(s),s=""),num=parseFloat(startNums[i]),a.push(num),a._firstPT={_next:a._firstPT,t:a,p:a.length-1,s:num,c:("="===currentNum.charAt(1)?parseInt(currentNum.charAt(0)+"1",10)*parseFloat(currentNum.substr(2)):parseFloat(currentNum)-num)||0,f:0,m:color&&color<4?Math.round:_blobRound}),charIndex+=currentNum.length;return(s+=end.substr(charIndex))&&a.push(s),a.setRatio=_setRatio,_relExp.test(end)&&(a.end=null),a},_addPropTween=function(target,prop,start,end,overwriteProp,mod,funcParam,stringFilter,index){"function"==typeof end&&(end=end(index||0,target));var type=typeof target[prop],getterName="function"!==type?"":prop.indexOf("set")||"function"!=typeof target["get"+prop.substr(3)]?prop:"get"+prop.substr(3),s="get"!==start?start:getterName?funcParam?target[getterName](funcParam):target[getterName]():target[prop],isRelative="string"==typeof end&&"="===end.charAt(1),pt={t:target,p:prop,s:s,f:"function"===type,pg:0,n:overwriteProp||prop,m:mod?"function"==typeof mod?mod:Math.round:0,pr:0,c:isRelative?parseInt(end.charAt(0)+"1",10)*parseFloat(end.substr(2)):parseFloat(end)-s||0};if(("number"!=typeof s||"number"!=typeof end&&!isRelative)&&(funcParam||isNaN(s)||!isRelative&&isNaN(end)||"boolean"==typeof s||"boolean"==typeof end?(pt.fp=funcParam,pt={t:_blobDif(s,isRelative?parseFloat(pt.s)+pt.c+(pt.s+"").replace(/[0-9\-\.]/g,""):end,stringFilter||TweenLite.defaultStringFilter,pt),p:"setRatio",s:0,c:1,f:2,pg:0,n:overwriteProp||prop,pr:0,m:0}):(pt.s=parseFloat(s),isRelative||(pt.c=parseFloat(end)-pt.s||0))),pt.c)return(pt._next=this._firstPT)&&(pt._next._prev=pt),this._firstPT=pt},_internals=TweenLite._internals={isArray:_isArray,isSelector:_isSelector,lazyTweens:_lazyTweens,blobDif:_blobDif},_plugins=TweenLite._plugins={},_tweenLookup=_internals.tweenLookup={},_tweenLookupNum=0,_reservedProps=_internals.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},_overwriteLookup={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},_rootFramesTimeline=Animation._rootFramesTimeline=new SimpleTimeline,_rootTimeline=Animation._rootTimeline=new SimpleTimeline,_nextGCFrame=30,_lazyRender=_internals.lazyRender=function(){var i,tween,l=_lazyTweens.length;for(_lazyLookup={},i=0;i<l;i++)(tween=_lazyTweens[i])&&!1!==tween._lazy&&(tween.render(tween._lazy[0],tween._lazy[1],!0),tween._lazy=!1);_lazyTweens.length=0};_rootTimeline._startTime=_ticker.time,_rootFramesTimeline._startTime=_ticker.frame,_rootTimeline._active=_rootFramesTimeline._active=!0,setTimeout(_lazyRender,1),Animation._updateRoot=TweenLite.render=function(){var i,a,p;if(_lazyTweens.length&&_lazyRender(),_rootTimeline.render((_ticker.time-_rootTimeline._startTime)*_rootTimeline._timeScale,!1,!1),_rootFramesTimeline.render((_ticker.frame-_rootFramesTimeline._startTime)*_rootFramesTimeline._timeScale,!1,!1),_lazyTweens.length&&_lazyRender(),_ticker.frame>=_nextGCFrame){for(p in _nextGCFrame=_ticker.frame+(parseInt(TweenLite.autoSleep,10)||120),_tweenLookup){for(i=(a=_tweenLookup[p].tweens).length;-1<--i;)a[i]._gc&&a.splice(i,1);0===a.length&&delete _tweenLookup[p]}if((!(p=_rootTimeline._first)||p._paused)&&TweenLite.autoSleep&&!_rootFramesTimeline._first&&1===_ticker._listeners.tick.length){for(;p&&p._paused;)p=p._next;p||_ticker.sleep()}}},_ticker.addEventListener("tick",Animation._updateRoot);var _register=function(target,tween,scrub){var a,i,id=target._gsTweenID;if(_tweenLookup[id||(target._gsTweenID=id="t"+_tweenLookupNum++)]||(_tweenLookup[id]={target:target,tweens:[]}),tween&&((a=_tweenLookup[id].tweens)[i=a.length]=tween,scrub))for(;-1<--i;)a[i]===tween&&a.splice(i,1);return _tweenLookup[id].tweens},_onOverwrite=function(overwrittenTween,overwritingTween,target,killedProps){var r1,r2,func=overwrittenTween.vars.onOverwrite;return func&&(r1=func(overwrittenTween,overwritingTween,target,killedProps)),(func=TweenLite.onOverwrite)&&(r2=func(overwrittenTween,overwritingTween,target,killedProps)),!1!==r1&&!1!==r2},_applyOverwrite=function(target,tween,props,mode,siblings){var i,changed,curTween,l;if(1===mode||4<=mode){for(l=siblings.length,i=0;i<l;i++)if((curTween=siblings[i])!==tween)curTween._gc||curTween._kill(null,target,tween)&&(changed=!0);else if(5===mode)break;return changed}var globalStart,startTime=tween._startTime+_tinyNum,overlaps=[],oCount=0,zeroDur=0===tween._duration;for(i=siblings.length;-1<--i;)(curTween=siblings[i])===tween||curTween._gc||curTween._paused||(curTween._timeline!==tween._timeline?(globalStart=globalStart||_checkOverlap(tween,0,zeroDur),0===_checkOverlap(curTween,globalStart,zeroDur)&&(overlaps[oCount++]=curTween)):curTween._startTime<=startTime&&curTween._startTime+curTween.totalDuration()/curTween._timeScale>startTime&&((zeroDur||!curTween._initted)&&startTime-curTween._startTime<=2*_tinyNum||(overlaps[oCount++]=curTween)));for(i=oCount;-1<--i;)if(l=(curTween=overlaps[i])._firstPT,2===mode&&curTween._kill(props,target,tween)&&(changed=!0),2!==mode||!curTween._firstPT&&curTween._initted&&l){if(2!==mode&&!_onOverwrite(curTween,tween))continue;curTween._enabled(!1,!1)&&(changed=!0)}return changed},_checkOverlap=function(tween,reference,zeroDur){for(var tl=tween._timeline,ts=tl._timeScale,t=tween._startTime;tl._timeline;){if(t+=tl._startTime,ts*=tl._timeScale,tl._paused)return-100;tl=tl._timeline}return reference<(t/=ts)?t-reference:zeroDur&&t===reference||!tween._initted&&t-reference<2*_tinyNum?_tinyNum:(t+=tween.totalDuration()/tween._timeScale/ts)>reference+_tinyNum?0:t-reference-_tinyNum};p._init=function(){var i,initPlugins,pt,p,startVars,l,v=this.vars,op=this._overwrittenProps,dur=this._duration,immediate=!!v.immediateRender,ease=v.ease,startAt=this._startAt;if(v.startAt){for(p in startAt&&(startAt.render(-1,!0),startAt.kill()),startVars={},v.startAt)startVars[p]=v.startAt[p];if(startVars.data="isStart",startVars.overwrite=!1,startVars.immediateRender=!0,startVars.lazy=immediate&&!1!==v.lazy,startVars.startAt=startVars.delay=null,startVars.onUpdate=v.onUpdate,startVars.onUpdateParams=v.onUpdateParams,startVars.onUpdateScope=v.onUpdateScope||v.callbackScope||this,this._startAt=TweenLite.to(this.target||{},0,startVars),immediate)if(0<this._time)this._startAt=null;else if(0!==dur)return}else if(v.runBackwards&&0!==dur)if(startAt)startAt.render(-1,!0),startAt.kill(),this._startAt=null;else{for(p in 0!==this._time&&(immediate=!1),pt={},v)_reservedProps[p]&&"autoCSS"!==p||(pt[p]=v[p]);if(pt.overwrite=0,pt.data="isFromStart",pt.lazy=immediate&&!1!==v.lazy,pt.immediateRender=immediate,this._startAt=TweenLite.to(this.target,0,pt),immediate){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=ease=ease?ease instanceof Ease?ease:"function"==typeof ease?new Ease(ease,v.easeParams):_easeMap[ease]||TweenLite.defaultEase:TweenLite.defaultEase,v.easeParams instanceof Array&&ease.config&&(this._ease=ease.config.apply(ease,v.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(l=this._targets.length,i=0;i<l;i++)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],op?op[i]:null,i)&&(initPlugins=!0);else initPlugins=this._initProps(this.target,this._propLookup,this._siblings,op,0);if(initPlugins&&TweenLite._onPluginEvent("_onInitAllProps",this),op&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),v.runBackwards)for(pt=this._firstPT;pt;)pt.s+=pt.c,pt.c=-pt.c,pt=pt._next;this._onUpdate=v.onUpdate,this._initted=!0},p._initProps=function(target,propLookup,siblings,overwrittenProps,index){var p,i,initPlugins,plugin,pt,v;if(null==target)return!1;for(p in _lazyLookup[target._gsTweenID]&&_lazyRender(),this.vars.css||target.style&&target!==window&&target.nodeType&&_plugins.css&&!1!==this.vars.autoCSS&&_autoCSS(this.vars,target),this.vars)if(v=this.vars[p],_reservedProps[p])v&&(v instanceof Array||v.push&&_isArray(v))&&-1!==v.join("").indexOf("{self}")&&(this.vars[p]=v=this._swapSelfInParams(v,this));else if(_plugins[p]&&(plugin=new _plugins[p])._onInitTween(target,this.vars[p],this,index)){for(this._firstPT=pt={_next:this._firstPT,t:plugin,p:"setRatio",s:0,c:1,f:1,n:p,pg:1,pr:plugin._priority,m:0},i=plugin._overwriteProps.length;-1<--i;)propLookup[plugin._overwriteProps[i]]=this._firstPT;(plugin._priority||plugin._onInitAllProps)&&(initPlugins=!0),(plugin._onDisable||plugin._onEnable)&&(this._notifyPluginsOfEnabled=!0),pt._next&&(pt._next._prev=pt)}else propLookup[p]=_addPropTween.call(this,target,p,"get",v,p,0,null,this.vars.stringFilter,index);return overwrittenProps&&this._kill(overwrittenProps,target)?this._initProps(target,propLookup,siblings,overwrittenProps,index):1<this._overwrite&&this._firstPT&&1<siblings.length&&_applyOverwrite(target,this,propLookup,this._overwrite,siblings)?(this._kill(propLookup,target),this._initProps(target,propLookup,siblings,overwrittenProps,index)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(_lazyLookup[target._gsTweenID]=!0),initPlugins)},p.render=function(time,suppressEvents,force){var isComplete,callback,pt,rawPrevTime,self=this,prevTime=self._time,duration=self._duration,prevRawPrevTime=self._rawPrevTime;if(duration-_tinyNum<=time&&0<=time)self._totalTime=self._time=duration,self.ratio=self._ease._calcEnd?self._ease.getRatio(1):1,self._reversed||(isComplete=!0,callback="onComplete",force=force||self._timeline.autoRemoveChildren),0===duration&&(self._initted||!self.vars.lazy||force)&&(self._startTime===self._timeline._duration&&(time=0),(prevRawPrevTime<0||time<=0&&-_tinyNum<=time||prevRawPrevTime===_tinyNum&&"isPause"!==self.data)&&prevRawPrevTime!==time&&(force=!0,_tinyNum<prevRawPrevTime&&(callback="onReverseComplete")),self._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum);else if(time<_tinyNum)self._totalTime=self._time=0,self.ratio=self._ease._calcEnd?self._ease.getRatio(0):0,(0!==prevTime||0===duration&&0<prevRawPrevTime)&&(callback="onReverseComplete",isComplete=self._reversed),-_tinyNum<time?time=0:time<0&&(self._active=!1,0===duration&&(self._initted||!self.vars.lazy||force)&&(0<=prevRawPrevTime&&(prevRawPrevTime!==_tinyNum||"isPause"!==self.data)&&(force=!0),self._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)),(!self._initted||self._startAt&&self._startAt.progress())&&(force=!0);else if(self._totalTime=self._time=time,self._easeType){var r=time/duration,type=self._easeType,pow=self._easePower;(1===type||3===type&&.5<=r)&&(r=1-r),3===type&&(r*=2),1===pow?r*=r:2===pow?r*=r*r:3===pow?r*=r*r*r:4===pow&&(r*=r*r*r*r),self.ratio=1===type?1-r:2===type?r:time/duration<.5?r/2:1-r/2}else self.ratio=self._ease.getRatio(time/duration);if(self._time!==prevTime||force){if(!self._initted){if(self._init(),!self._initted||self._gc)return;if(!force&&self._firstPT&&(!1!==self.vars.lazy&&self._duration||self.vars.lazy&&!self._duration))return self._time=self._totalTime=prevTime,self._rawPrevTime=prevRawPrevTime,_lazyTweens.push(self),void(self._lazy=[time,suppressEvents]);self._time&&!isComplete?self.ratio=self._ease.getRatio(self._time/duration):isComplete&&self._ease._calcEnd&&(self.ratio=self._ease.getRatio(0===self._time?0:1))}for(!1!==self._lazy&&(self._lazy=!1),self._active||!self._paused&&self._time!==prevTime&&0<=time&&(self._active=!0),0===prevTime&&(self._startAt&&(0<=time?self._startAt.render(time,!0,force):callback||(callback="_dummyGS")),self.vars.onStart&&(0===self._time&&0!==duration||suppressEvents||self._callback("onStart"))),pt=self._firstPT;pt;)pt.f?pt.t[pt.p](pt.c*self.ratio+pt.s):pt.t[pt.p]=pt.c*self.ratio+pt.s,pt=pt._next;self._onUpdate&&(time<0&&self._startAt&&-1e-4!==time&&self._startAt.render(time,!0,force),suppressEvents||(self._time!==prevTime||isComplete||force)&&self._callback("onUpdate")),callback&&(self._gc&&!force||(time<0&&self._startAt&&!self._onUpdate&&-1e-4!==time&&self._startAt.render(time,!0,force),isComplete&&(self._timeline.autoRemoveChildren&&self._enabled(!1,!1),self._active=!1),!suppressEvents&&self.vars[callback]&&self._callback(callback),0===duration&&self._rawPrevTime===_tinyNum&&rawPrevTime!==_tinyNum&&(self._rawPrevTime=0)))}},p._kill=function(vars,target,overwritingTween){if("all"===vars&&(vars=null),null==vars&&(null==target||target===this.target))return this._lazy=!1,this._enabled(!1,!1);target="string"!=typeof target?target||this._targets||this.target:TweenLite.selector(target)||target;var i,overwrittenProps,p,pt,propLookup,changed,killProps,record,killed,simultaneousOverwrite=overwritingTween&&this._time&&overwritingTween._startTime===this._startTime&&this._timeline===overwritingTween._timeline,firstPT=this._firstPT;if((_isArray(target)||_isSelector(target))&&"number"!=typeof target[0])for(i=target.length;-1<--i;)this._kill(vars,target[i],overwritingTween)&&(changed=!0);else{if(this._targets){for(i=this._targets.length;-1<--i;)if(target===this._targets[i]){propLookup=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],overwrittenProps=this._overwrittenProps[i]=vars?this._overwrittenProps[i]||{}:"all";break}}else{if(target!==this.target)return!1;propLookup=this._propLookup,overwrittenProps=this._overwrittenProps=vars?this._overwrittenProps||{}:"all"}if(propLookup){if(killProps=vars||propLookup,record=vars!==overwrittenProps&&"all"!==overwrittenProps&&vars!==propLookup&&("object"!=typeof vars||!vars._tempKill),overwritingTween&&(TweenLite.onOverwrite||this.vars.onOverwrite)){for(p in killProps)propLookup[p]&&(killed||(killed=[]),killed.push(p));if((killed||!vars)&&!_onOverwrite(this,overwritingTween,target,killed))return!1}for(p in killProps)(pt=propLookup[p])&&(simultaneousOverwrite&&(pt.f?pt.t[pt.p](pt.s):pt.t[pt.p]=pt.s,changed=!0),pt.pg&&pt.t._kill(killProps)&&(changed=!0),pt.pg&&0!==pt.t._overwriteProps.length||(pt._prev?pt._prev._next=pt._next:pt===this._firstPT&&(this._firstPT=pt._next),pt._next&&(pt._next._prev=pt._prev),pt._next=pt._prev=null),delete propLookup[p]),record&&(overwrittenProps[p]=1);!this._firstPT&&this._initted&&firstPT&&this._enabled(!1,!1)}}return changed},p.invalidate=function(){this._notifyPluginsOfEnabled&&TweenLite._onPluginEvent("_onDisable",this);var t=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],Animation.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_tinyNum,this.render(t,!1,!1!==this.vars.lazy)),this},p._enabled=function(enabled,ignoreTimeline){if(_tickerActive||_ticker.wake(),enabled&&this._gc){var i,targets=this._targets;if(targets)for(i=targets.length;-1<--i;)this._siblings[i]=_register(targets[i],this,!0);else this._siblings=_register(this.target,this,!0)}return Animation.prototype._enabled.call(this,enabled,ignoreTimeline),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&TweenLite._onPluginEvent(enabled?"_onEnable":"_onDisable",this)},TweenLite.to=function(target,duration,vars){return new TweenLite(target,duration,vars)},TweenLite.from=function(target,duration,vars){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,new TweenLite(target,duration,vars)},TweenLite.fromTo=function(target,duration,fromVars,toVars){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,new TweenLite(target,duration,toVars)},TweenLite.delayedCall=function(delay,callback,params,scope,useFrames){return new TweenLite(callback,0,{delay:delay,onComplete:callback,onCompleteParams:params,callbackScope:scope,onReverseComplete:callback,onReverseCompleteParams:params,immediateRender:!1,lazy:!1,useFrames:useFrames,overwrite:0})},TweenLite.set=function(target,vars){return new TweenLite(target,0,vars)},TweenLite.getTweensOf=function(target,onlyActive){if(null==target)return[];var i,a,j,t;if(target="string"!=typeof target?target:TweenLite.selector(target)||target,(_isArray(target)||_isSelector(target))&&"number"!=typeof target[0]){for(i=target.length,a=[];-1<--i;)a=a.concat(TweenLite.getTweensOf(target[i],onlyActive));for(i=a.length;-1<--i;)for(t=a[i],j=i;-1<--j;)t===a[j]&&a.splice(i,1)}else if(target._gsTweenID)for(i=(a=_register(target).concat()).length;-1<--i;)(a[i]._gc||onlyActive&&!a[i].isActive())&&a.splice(i,1);return a||[]},TweenLite.killTweensOf=TweenLite.killDelayedCallsTo=function(target,onlyActive,vars){"object"==typeof onlyActive&&(vars=onlyActive,onlyActive=!1);for(var a=TweenLite.getTweensOf(target,onlyActive),i=a.length;-1<--i;)a[i]._kill(vars,target)};var TweenPlugin=_class("plugins.TweenPlugin",function(props,priority){this._overwriteProps=(props||"").split(","),this._propName=this._overwriteProps[0],this._priority=priority||0,this._super=TweenPlugin.prototype},!0);if(p=TweenPlugin.prototype,TweenPlugin.version="1.19.0",TweenPlugin.API=2,p._firstPT=null,p._addTween=_addPropTween,p.setRatio=_setRatio,p._kill=function(lookup){var i,a=this._overwriteProps,pt=this._firstPT;if(null!=lookup[this._propName])this._overwriteProps=[];else for(i=a.length;-1<--i;)null!=lookup[a[i]]&&a.splice(i,1);for(;pt;)null!=lookup[pt.n]&&(pt._next&&(pt._next._prev=pt._prev),pt._prev?(pt._prev._next=pt._next,pt._prev=null):this._firstPT===pt&&(this._firstPT=pt._next)),pt=pt._next;return!1},p._mod=p._roundProps=function(lookup){for(var val,pt=this._firstPT;pt;)(val=lookup[this._propName]||null!=pt.n&&lookup[pt.n.split(this._propName+"_").join("")])&&"function"==typeof val&&(2===pt.f?pt.t._applyPT.m=val:pt.m=val),pt=pt._next},TweenLite._onPluginEvent=function(type,tween){var changed,pt2,first,last,next,pt=tween._firstPT;if("_onInitAllProps"===type){for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}pt=tween._firstPT=first}for(;pt;)pt.pg&&"function"==typeof pt.t[type]&&pt.t[type]()&&(changed=!0),pt=pt._next;return changed},TweenPlugin.activate=function(plugins){for(var i=plugins.length;-1<--i;)plugins[i].API===TweenPlugin.API&&(_plugins[(new plugins[i])._propName]=plugins[i]);return!0},_gsDefine.plugin=function(config){if(!(config&&config.propName&&config.init&&config.API))throw"illegal plugin definition.";var prop,propName=config.propName,priority=config.priority||0,overwriteProps=config.overwriteProps,map={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},Plugin=_class("plugins."+propName.charAt(0).toUpperCase()+propName.substr(1)+"Plugin",function(){TweenPlugin.call(this,propName,priority),this._overwriteProps=overwriteProps||[]},!0===config.global),p=Plugin.prototype=new TweenPlugin(propName);for(prop in(p.constructor=Plugin).API=config.API,map)"function"==typeof config[prop]&&(p[map[prop]]=config[prop]);return Plugin.version=config.version,TweenPlugin.activate([Plugin]),Plugin},a=window._gsQueue){for(i=0;i<a.length;i++)a[i]();for(p in _defLookup)_defLookup[p].func||window.console.log("GSAP encountered missing dependency: "+p)}_tickerActive=!1}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),Array.from||Object.defineProperty(Array,"from",{value:function(){"use strict";var toStr=Object.prototype.toString,isCallable=function(fn){return"function"==typeof fn||"[object Function]"===toStr.call(fn)},toInteger=function(value){var number=Number(value);return isNaN(number)?0:0!==number&&isFinite(number)?(0<number?1:-1)*Math.floor(Math.abs(number)):number},maxSafeInteger=Math.pow(2,53)-1,toLength=function(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger)};return function from(arrayLike,argument_1,argument_2){var C=this,items=Object(arrayLike);if(null==arrayLike)throw new TypeError("Array.from requires an array-like object - not null or undefined");var T,mapFn=1<arguments.length?argument_1:void undefined;if(void 0!==mapFn){if(!isCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(T=argument_2)}for(var kValue,len=toLength(items.length),A=isCallable(C)?Object(new C(len)):new Array(len),k=0;k<len;)kValue=items[k],A[k]=mapFn?void 0===T?mapFn(kValue,k):mapFn.call(T,kValue,k):kValue,k+=1;return A.length=len,A}}(),writable:!0,configurable:!0}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(searchElement,fromIndex){"use strict";function sameValueZero(x,y){return x===y||"number"==typeof x&&"number"==typeof y&&isNaN(x)&&isNaN(y)}if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if(0===len)return!1;for(var n=0|fromIndex,k=Math.max(0<=n?n:len-Math.abs(n),0);k<len;){if(sameValueZero(o[k],searchElement))return!0;k++}return!1},configurable:!0,writable:!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt,argument_1){var len=this.length>>>0,from=Number(argument_1)||0;for((from=from<0?Math.ceil(from):Math.floor(from))<0&&(from+=len);from<len;from++)if(from in this&&this[from]===elt)return from;return-1}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(predicate,argument_1){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var thisArg=argument_1,k=0;k<len;){var kValue=o[k];if(predicate.call(thisArg,kValue,k
,o))return k;k++}return-1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(predicate,argument_1){if(null==this)throw TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if("function"!=typeof predicate)throw TypeError("predicate must be a function");for(var thisArg=argument_1,k=0;k<len;){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o))return kValue;k++}return undefined},configurable:!0,writable:!0}),function($){$.fn.autogrow=function(){return this.filter("textarea").each(function(){var $this=$(this),minHeight=$this.height(),blankLine=($this.css("lineHeight"),$this.data("no-blank-line")===undefined),shadow=$("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:$(this).width()-parseInt($this.css("paddingLeft"))-parseInt($this.css("paddingRight")),fontSize:$this.css("fontSize"),fontFamily:$this.css("fontFamily"),lineHeight:$this.css("lineHeight"),resize:"none"}).appendTo(document.body),update=function(){var times=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};if(this.value.length<=1e5){var val=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return times("&nbsp;",space.length-1)+" "});shadow.html(val),$(this).css("height",Math.max(shadow.height()+(blankLine||this==document.activeElement?20:0),minHeight))}else $(this).css("height",Math.max(3e3,minHeight))};$(this).change(update).keyup(update).keydown(update).focus(update).blur(update),update.apply(this)}),this}}(jQuery),$(document).on("focus","textarea",function(){$(this).data("autogrowed")||$(this).data("no-autogrow")||$(this).hasClass("form-textarea")||$(this).autogrow().data("autogrowed",!0)}),$(document).off("click.tab.data-api"),$(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();var self=this,showTab=function(){$(e.currentTarget).data("tab-href")||$(e.currentTarget).data("tab-url")||(window.location=$(e.currentTarget).attr("href").replace(/^#/,"#/")),$(self).tab("show")},scope=angular.element(e.currentTarget).scope();scope?scope.$apply(showTab()):showTab()}),$(document).on("click","a",function($event){var tabHrefRe=/#\w+-tab/,tabHref=this.getAttribute("href");if(tabHrefRe.test(tabHref)){var buttonSelector='ul.nav-tabs > li > a[data-toggle="tab"][href="'+tabHref+'"]',buttons=document.body.querySelectorAll(buttonSelector);if(1===buttons.length&&buttons[0]!==this){var event=$event.originalEvent;buttons[0].dispatchEvent(new event.constructor(event.type,event)),event.preventDefault(),event.stopPropagation()}}}),$(function(){0<$(".apply-cdn-fallback").length&&$("body").addClass("cdn-fallback")}),
/*!
 * clipboard.js v1.6.1
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT  Zeno Rocha
 */
function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){function closest(element,selector){for(;element&&element.nodeType!==DOCUMENT_NODE_TYPE;){if(element.matches(selector))return element;element=element.parentNode}}var DOCUMENT_NODE_TYPE=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var proto=Element.prototype;proto.matches=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector}module.exports=closest},{}],2:[function(require,module){function delegate(element,selector,type,callback,useCapture){var listenerFn=listener.apply(this,arguments);return element.addEventListener(type,listenerFn,useCapture),{destroy:function(){element.removeEventListener(type,listenerFn,useCapture)}}}function listener(element,selector,type,callback){return function(e){e.delegateTarget=closest(e.target,selector),e.delegateTarget&&callback.call(element,e)}}var closest=require("./closest");module.exports=delegate},{"./closest":1}],3:[function(require,module,exports){exports.node=function(value){return value!==undefined&&value instanceof HTMLElement&&1===value.nodeType},exports.nodeList=function(value){var type=Object.prototype.toString.call(value);return value!==undefined&&("[object NodeList]"===type||"[object HTMLCollection]"===type)&&"length"in value&&(0===value.length||exports.node(value[0]))},exports.string=function(value){return"string"==typeof value||value instanceof String},exports.fn=function(value){return"[object Function]"===Object.prototype.toString.call(value)}},{}],4:[function(require,module){function listen(target,type,callback){if(!target&&!type&&!callback)throw new Error("Missing required arguments");if(!is.string(type))throw new TypeError("Second argument must be a String");if(!is.fn(callback))throw new TypeError("Third argument must be a Function");if(is.node(target))return listenNode(target,type,callback);if(is.nodeList(target))return listenNodeList(target,type,callback);if(is.string(target))return listenSelector(target,type,callback);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function listenNode(node,type,callback){return node.addEventListener(type,callback),{destroy:function(){node.removeEventListener(type,callback)}}}function listenNodeList(nodeList,type,callback){return Array.prototype.forEach.call(nodeList,function(node){node.addEventListener(type,callback)}),{destroy:function(){Array.prototype.forEach.call(nodeList,function(node){node.removeEventListener(type,callback)})}}}function listenSelector(selector,type,callback){return delegate(document.body,selector,type,callback)}var is=require("./is"),delegate=require("delegate");module.exports=listen},{"./is":3,delegate:2}],5:[function(require,module){function select(element){var selectedText;if("SELECT"===element.nodeName)element.focus(),selectedText=element.value;else if("INPUT"===element.nodeName||"TEXTAREA"===element.nodeName){var isReadOnly=element.hasAttribute("readonly");isReadOnly||element.setAttribute("readonly",""),element.select(),element.setSelectionRange(0,element.value.length),isReadOnly||element.removeAttribute("readonly"),selectedText=element.value}else{element.hasAttribute("contenteditable")&&element.focus();var selection=window.getSelection(),range=document.createRange();range.selectNodeContents(element),selection.removeAllRanges(),selection.addRange(range),selectedText=selection.toString()}return selectedText}module.exports=select},{}],6:[function(require,module){function E(){}E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});return(e[name]||(e[name]=[])).push({fn:callback,ctx:ctx}),this},once:function(name,callback,ctx){function listener(){self.off(name,listener),callback.apply(ctx,arguments)}var self=this;return listener._=callback,this.on(name,listener,ctx)},emit:function(name){for(var data=[].slice.call(arguments,1),evtArr=((this.e||(this.e={}))[name]||[]).slice(),i=0,len=evtArr.length;i<len;i++)evtArr[i].fn.apply(evtArr[i].ctx,data);return this},off:function(name,callback){var e=this.e||(this.e={}),evts=e[name],liveEvents=[];if(evts&&callback)for(var i=0,len=evts.length;i<len;i++)evts[i].fn!==callback&&evts[i].fn._!==callback&&liveEvents.push(evts[i]);return liveEvents.length?e[name]=liveEvents:delete e[name],this}},module.exports=E},{}],7:[function(require,module,exports){!function(global,factory){if("function"==typeof define&&define.amd)define(["module","select"],factory);else if(void 0!==exports)factory(module,require("select"));else{var mod={exports:{}};factory(mod,global.select),global.clipboardAction=mod.exports}}(this,function(module,_select){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _select2=_interopRequireDefault(_select),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ClipboardAction=function(){function ClipboardAction(options){_classCallCheck(this,ClipboardAction),this.resolveOptions(options),this.initSelection()}return _createClass(ClipboardAction,[{key:"resolveOptions",value:function resolveOptions(argument_0){var options=0<arguments.length&&argument_0!==undefined?arguments[0]:{};this.action=options.action,this.emitter=options.emitter,this.target=options.target,this.text=options.text,this.trigger=options.trigger,this.selectedText=""}},{key:"initSelection",value:function initSelection(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function selectFake(){var _this=this,isRTL="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return _this.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[isRTL?"right":"left"]="-9999px";var yPosition=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=yPosition+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,_select2["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function removeFake(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function selectTarget(){this.selectedText=(0,_select2["default"])(this.target),this.copyText()}},{key:"copyText",value:function copyText(){var succeeded=void 0;try{succeeded=document.execCommand(this.action)}catch(err){succeeded=!1}this.handleResult(succeeded)}},{key:"handleResult",value:function handleResult(succeeded){this.emitter.emit(succeeded?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function clearSelection(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function destroy(){this.removeFake()}},{key:"action",set:function set(argument_0){var action=0<arguments.length&&argument_0!==undefined?arguments[0]:"copy";if(this._action=action,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function get(){return this._action}},{key:"target",set:function set(target){if(target!==undefined){if(!target||"object"!==(void 0===target?"undefined":_typeof(target))||1!==target.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&target.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(target.hasAttribute("readonly")||target.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=target}},get:function get(){return this._target}}]),ClipboardAction}();module.exports=ClipboardAction})},{select:5}],8:[function(require,module,exports){!function(global,factory){if("function"==typeof define&&define.amd)define(["module","./clipboard-action","tiny-emitter","good-listener"],factory);else if(void 0!==exports)factory(module,require("./clipboard-action"),require("tiny-emitter"),require("good-listener"));else{var mod={exports:{}};factory(mod,global.clipboardAction,global.tinyEmitter,global.goodListener),global.clipboard=mod.exports}}(this,function(module,_clipboardAction,_tinyEmitter,_goodListener){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getAttributeValue(suffix,element){var attribute="data-clipboard-"+suffix;if(element.hasAttribute(attribute))return element.getAttribute(attribute)}var _clipboardAction2=_interopRequireDefault(_clipboardAction),_tinyEmitter2=_interopRequireDefault(_tinyEmitter),_goodListener2=_interopRequireDefault(_goodListener),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Clipboard=function(){function Clipboard(trigger,options){_classCallCheck(this,Clipboard);var _this=_possibleConstructorReturn(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this));return _this.resolveOptions(options),_this.listenClick(trigger),_this}return _inherits(Clipboard,_tinyEmitter2["default"]),_createClass(Clipboard,[{key:"resolveOptions",value:function resolveOptions(argument_0){var options=0<arguments.length&&argument_0!==undefined?arguments[0]:{};this.action="function"==typeof options.action?options.action:this.defaultAction,this.target="function"==typeof options.target?options.target:this.defaultTarget,this.text="function"==typeof options.text?options.text:this.defaultText}},{key:"listenClick",value:function listenClick(trigger){var _this2=this;this.listener=(0,_goodListener2["default"])(trigger,"click",function(e){return _this2.onClick(e)})}},{key:"onClick",value:function onClick(e){var trigger=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new _clipboardAction2["default"]({action:this.action(trigger),target:this.target(trigger),text:this.text(trigger),trigger:trigger,emitter:this})}},{key:"defaultAction",value:function defaultAction(trigger){return getAttributeValue("action",trigger)}},{key:"defaultTarget",value:function defaultTarget(trigger){var selector=getAttributeValue("target",trigger);if(selector)return document.querySelector(selector)}},{key:"defaultText",value:function defaultText(trigger){return getAttributeValue("text",trigger)}},{key:"destroy",value:function destroy(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function isSupported(argument_0){var action=0<arguments.length&&argument_0!==undefined?arguments[0]:["copy","cut"],actions="string"==typeof action?[action]:action,support=!!document.queryCommandSupported;return actions.forEach(function(action){support=support&&!!document.queryCommandSupported(action)}),support}}]),Clipboard}();module.exports=Clipboard})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),
/*!
 * element-resize-detector 1.1.14-gleam-hax
 * Copyright (c) 2016 Lucas Wiener
 * https://github.com/wnr/element-resize-detector
 * Licensed under MIT
 */
function(f){("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).elementResizeDetectorMaker=f()}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){"use strict";function Batch(){function add(level,fn){fn||(fn=level,level=0),topLevel<level?topLevel=level:level<bottomLevel&&(bottomLevel=level),batch[level]||(batch[level]=[]),batch[level].push(fn),size++}function process(){for(var level=bottomLevel;level<=topLevel;level++)for(var fns=batch[level],i=0;i<fns.length;i++){(0,fns[i])()}}function getSize(){return size}var batch={},size=0,topLevel=0,bottomLevel=0;return{add:add,process:process,size:getSize}}var utils=require("./utils");module.exports=function batchProcessorMaker(options){function addFunction(level,fn){!isProcessing&&autoProcess&&asyncProcess&&0===batch.size()&&processBatchAsync(),batch.add(level,fn)}function processBatch(){for(isProcessing=!0;batch.size();){var processingBatch=batch;batch=Batch(),processingBatch.process()}isProcessing=!1}function forceProcessBatch(localAsyncProcess){isProcessing||(localAsyncProcess===undefined&&(localAsyncProcess=asyncProcess),asyncFrameHandler&&(cancelFrame(asyncFrameHandler),asyncFrameHandler=null),localAsyncProcess?processBatchAsync():processBatch())}function processBatchAsync(){asyncFrameHandler=requestFrame(processBatch)}function cancelFrame(listener){return clearTimeout(listener)}function requestFrame(callback){return function(fn){return setTimeout(fn,0)}(callback)}var reporter=(options=options||{}).reporter,asyncProcess=utils.getOption(options,"async",!0),autoProcess=utils.getOption(options,"auto",!0);autoProcess&&!asyncProcess&&(reporter&&reporter.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),asyncProcess=!0);var asyncFrameHandler,batch=Batch(),isProcessing=!1;return{add:addFunction,force:forceProcessBatch}}},{"./utils":2}],2:[function(require,module){"use strict";function getOption(options,name,defaultValue){var value=options[name];return value!==undefined&&null!==value||defaultValue===undefined?value:defaultValue}(module.exports={}).getOption=getOption},{}],3:[function(require,module){"use strict";var detector=module.exports={};detector.isIE=function(version){function isAnyIeVersion(){var agent=navigator.userAgent.toLowerCase();return-1!==agent.indexOf("msie")||-1!==agent.indexOf("trident")||-1!==agent.indexOf(" edge/")}return!!isAnyIeVersion()&&(!version||version===function(){for(var undef,v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");div.innerHTML="<!--[if gt IE "+ ++v+"]><i></i><![endif]-->",all[0];);return 4<v?v:undef}())},detector.isLegacyOpera=function(){return!!window.opera}},{}],4:[function(require,module){"use strict";(module.exports={}).forEach=function(collection,callback){for(var i=0;i<collection.length;i++){var result=callback(collection[i]);if(result)return result}}},{}],5:[function(require,module){"use strict";var browserDetector=require("../browser-detector");module.exports=function(options){function addListener(element,listener){function listenerProxy(){listener(element)}if(!getObject(element))throw new Error("Element is not detectable by this strategy.");browserDetector.isIE(8)?(getState(element).object={proxy:listenerProxy},element.attachEvent("onresize",listenerProxy)):getObject(element).contentDocument.defaultView.addEventListener("resize",listenerProxy)}function makeDetectable(options,element,callback){function injectObject(element,callback){function mutateDom(){function alterPositionStyles(){if("static"===style.position){element.style.position="relative";var removeRelativeStyles=function(reporter,element,style,property){function getNumericalValue(value){return value.replace(/[^-\d\.]/g,"")}var value=style[property];"auto"!==value&&"0"!==getNumericalValue(value)&&(reporter.warn("An element that is positioned static has style."+property+"="+value+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+property+" will be set to 0. Element: ",element),element.style[property]=0)};removeRelativeStyles(reporter,element,style,"top"),removeRelativeStyles(reporter,element,style,"right"),removeRelativeStyles(reporter,element,style,"bottom"),removeRelativeStyles(reporter,element,style,"left")}}function onObjectLoad(){function getDocument(element,callback){element.contentDocument?callback(element.contentDocument):setTimeout(function checkForObjectDocument(){getDocument(element,callback)},100)}positionCheckPerformed||alterPositionStyles(),getDocument(this,function onObjectDocumentReady(){callback(element)})}""!==style.position&&(alterPositionStyles(style),positionCheckPerformed=!0);var object=document.createElement("object");object.style.cssText=OBJECT_STYLE,object.tabIndex=-1,object.type="text/html",object.onload=onObjectLoad,browserDetector.isIE()||(object.data="about:blank"),element.appendChild(object),getState(element).object=object,browserDetector.isIE()&&(object.data="about:blank")}var OBJECT_STYLE="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",positionCheckPerformed=!1,style=window.getComputedStyle(element),width=element.offsetWidth,height=element.offsetHeight;getState(element).startSize={width:width,height:height},batchProcessor?batchProcessor.add(mutateDom):mutateDom()}callback||(callback=element,element=options,options=null);(options=options||{}).debug;browserDetector.isIE(8)?callback(element):injectObject(element,callback)}function getObject(element){return getState(element).object}function uninstall(element){browserDetector.isIE(8)?element.detachEvent("onresize",getState(element).object.proxy):element.removeChild(getObject(element)),delete getState(element).object}var reporter=(options=options||{}).reporter,batchProcessor=options.batchProcessor,getState=options.stateHandler.getState;if(!reporter)throw new Error("Missing required dependency: reporter.");return{makeDetectable:makeDetectable,addListener:addListener,uninstall:uninstall}}},{"../browser-detector":3}],6:[function(require,module){"use strict";var forEach=require("../collection-utils").forEach;module.exports=function(options){function getScrollbarSizes(){var width=500,height=500,child=document.createElement("div");child.style.cssText="position: absolute; width: "+2*width+"px; height: "+2*height+"px; visibility: hidden; margin: 0; padding: 0;";var container=document.createElement("div");container.style.cssText="position: absolute; width: "+width+"px; height: "+height+"px; overflow: scroll; visibility: none; top: "+3*-width+"px; left: "+3*-height+"px; visibility: hidden; margin: 0; padding: 0;",container.appendChild(child),document.body.insertBefore(container,document.body.firstChild);var widthSize=width-container.clientWidth,heightSize=height-container.clientHeight;return document.body.removeChild(container),{width:widthSize,height:heightSize}}function injectScrollStyle(styleId,containerClass){function injectStyle(style,method){method=method||function(element){document.head.appendChild(element)};var styleElement=document.createElement("style");return styleElement.innerHTML=style,styleElement.id=styleId,method(styleElement),styleElement}if(!document.getElementById(styleId)){var containerAnimationClass=containerClass+"_animation",style="/* Created by the element-resize-detector library. */\n";style+="."+containerClass+" > div::-webkit-scrollbar { display: none; }\n\n",style+="."+(containerClass+"_animation_active")+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+containerAnimationClass+"; animation-name: "+containerAnimationClass+"; }\n",style+="@-webkit-keyframes "+containerAnimationClass+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",injectStyle(style+="@keyframes "+containerAnimationClass+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}function addAnimationClass(element){element.className+=" "+detectionContainerClass+"_animation_active"}function addEvent(el,name,cb){if(el.addEventListener)el.addEventListener(name,cb);else{if(!el.attachEvent)return reporter.error("[scroll] Don't know how to add event listeners.");el.attachEvent("on"+name,cb)}}function removeEvent(el,name,cb){if(el.removeEventListener)el.removeEventListener(name,cb);else{if(!el.detachEvent)return reporter.error("[scroll] Don't know how to remove event listeners.");el.detachEvent("on"+name,cb)}}function getExpandElement(element){return getState(element).container.childNodes[0].childNodes[0].childNodes[0]}function getShrinkElement(element){return getState(element).container.childNodes[0].childNodes[0].childNodes[1]}function addListener(element,listener){if(!getState(element).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");getState(element).listeners.push(listener)}function makeDetectable(options,element,callback){function debug(){if(options.debug){var args=Array.prototype.slice.call(arguments);if(args.unshift(idHandler.get(element),"Scroll: "),reporter.log.apply)reporter.log.apply(null,args);else for(var i=0;i<args.length;i++)reporter.log(args[i])}}function isDetached(element){function isInDocument(element){return element===element.ownerDocument.body||element.ownerDocument.body.contains(element)}return!isInDocument(element)||null===window.getComputedStyle(element)}function isUnrendered(element){var container=getState(element).container.childNodes[0],style=window.getComputedStyle(container);return!style.width||-1===style.width.indexOf("px")}function getStyle(){var elementStyle=window.getComputedStyle(element),style={};return style.position=elementStyle.position,style.width=element.offsetWidth,style.height=element.offsetHeight,style.top=elementStyle.top,style.right=elementStyle.right,style.bottom=elementStyle.bottom,style.left=elementStyle.left,style.widthCSS=elementStyle.width,style.heightCSS=elementStyle.height,style}function storeStartSize(){var style=getStyle();getState(element).startSize={width:style.width,height:style.height},debug("Element start size",getState(element).startSize)}function initListeners(){getState(element).listeners=[]}function storeStyle(){if(debug("storeStyle invoked."),getState(element)){var style=getStyle();getState(element).style=style}else debug("Aborting because element has been uninstalled")}function storeCurrentSize(element,width,height){getState(element).lastWidth=width,getState(element).lastHeight=height}function getExpandChildElement(element){return getExpandElement(element).childNodes[0]}function getWidthOffset(){return 2*scrollbarSizes.width+1}function getHeightOffset(){return 2*scrollbarSizes.height+1}function getExpandWidth(width){return width+10+getWidthOffset()}function getExpandHeight(height){return height+10+getHeightOffset()}function getShrinkWidth(width){return 2*width+getWidthOffset()}function getShrinkHeight(height){return 2*height+getHeightOffset()}function positionScrollbars(element,width,height){var expand=getExpandElement(element),shrink=getShrinkElement(element),expandWidth=getExpandWidth(width),expandHeight=getExpandHeight(height),shrinkWidth=getShrinkWidth(width),shrinkHeight=getShrinkHeight(height);expand.scrollLeft=expandWidth,expand.scrollTop=expandHeight,shrink.scrollLeft=shrinkWidth,shrink.scrollTop=shrinkHeight}function injectContainerElement(){var container=getState(element).container;if(!container){(container=document.createElement("div")).className=detectionContainerClass,container.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",addAnimationClass(getState(element).container=container),element.appendChild(container);var onAnimationStart=function(){getState(element).onRendered&&getState(element).onRendered()};addEvent(container,"animationstart",onAnimationStart),getState(element).onAnimationStart=onAnimationStart}return container}function injectScrollElements(){function alterPositionStyles(){var style=getState(element).style;if("static"===style.position){element.style.position="relative";var removeRelativeStyles=function(reporter,element,style,property){function getNumericalValue(value){return value.replace(/[^-\d\.]/g,"")}var value=style[property];"auto"!==value&&"0"!==getNumericalValue(value)&&(reporter.warn("An element that is positioned static has style."+property+"="+value+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+property+" will be set to 0. Element: ",element),element.style[property]=0)};removeRelativeStyles(reporter,element,style,"top"),removeRelativeStyles(reporter,element,style,"right"),removeRelativeStyles(reporter,element,style,"bottom"),removeRelativeStyles(reporter,element,style,"left")}}function getLeftTopBottomRightCssText(left,top,bottom,right){return"left: "+(left=left?left+"px":"0")+"; top: "+(top=top?top+"px":"0")+"; right: "+(right=right?right+"px":"0")+"; bottom: "+(bottom=bottom?bottom+"px":"0")+";"}function onExpandScroll(){getState(element).onExpand&&getState(element).onExpand()}function onShrinkScroll(){getState(element).onShrink&&getState(element).onShrink()}if(debug("Injecting elements"),getState(element)){alterPositionStyles();var rootContainer=getState(element).container;rootContainer||(rootContainer=injectContainerElement());var scrollbarWidth=scrollbarSizes.width,scrollbarHeight=scrollbarSizes.height,containerContainerStyle="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",containerStyle="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+getLeftTopBottomRightCssText(-(1+scrollbarWidth),-(1+scrollbarHeight),-scrollbarHeight,-scrollbarWidth),expandStyle="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",shrinkStyle="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",expandChildStyle="position: absolute; left: 0; top: 0;",shrinkChildStyle="position: absolute; width: 200%; height: 200%;",containerContainer=document.createElement("div"),container=document.createElement("div"),expand=document.createElement("div"),expandChild=document.createElement("div"),shrink=document.createElement("div"),shrinkChild=document.createElement("div");containerContainer.dir="ltr",containerContainer.style.cssText=containerContainerStyle,containerContainer.className=detectionContainerClass,container.className=detectionContainerClass,container.style.cssText=containerStyle,expand.style.cssText=expandStyle,expandChild.style.cssText=expandChildStyle,shrink.style.cssText=shrinkStyle,shrinkChild.style.cssText=shrinkChildStyle,expand.appendChild(expandChild),shrink.appendChild(shrinkChild),container.appendChild(expand),container.appendChild(shrink),containerContainer.appendChild(container),rootContainer.appendChild(containerContainer),addEvent(expand,"scroll",onExpandScroll),addEvent(shrink,"scroll",onShrinkScroll),getState(element).onExpandScroll=onExpandScroll,getState(element).onShrinkScroll=onShrinkScroll}else debug("Aborting because element has been uninstalled")}function registerListenersAndPositionElements(){function updateChildSizes(element,width,height){var expandChild=getExpandChildElement(element),expandWidth=getExpandWidth(width),expandHeight=getExpandHeight(height);expandChild.style.width=expandWidth+"px",expandChild.style.height=expandHeight+"px"}function updateDetectorElements(done){var width=element.offsetWidth,height=element.offsetHeight;debug("Storing current size",width,height),storeCurrentSize(element,width,height),batchProcessor.add(0,function performUpdateChildSizes(){if(getState(element))if(areElementsInjected()){if(options.debug){var w=element.offsetWidth,h=element.offsetHeight;w===width&&h===height||reporter.warn(idHandler.get(element),"Scroll: Size changed before updating detector elements.")}updateChildSizes(element,width,height)}else debug("Aborting because element container has not been initialized");else debug("Aborting because element has been uninstalled")}),batchProcessor.add(1,function updateScrollbars(){getState(element)?areElementsInjected()?positionScrollbars(element,width,height):debug("Aborting because element container has not been initialized"):debug("Aborting because element has been uninstalled")}),done&&batchProcessor.add(2,function(){getState(element)?areElementsInjected()?done():debug("Aborting because element container has not been initialized"):debug("Aborting because element has been uninstalled")})}function areElementsInjected(){return!!getState(element).container}function notifyListenersIfNeeded(){function isFirstNotify(){return getState(element).lastNotifiedWidth===undefined}debug("notifyListenersIfNeeded invoked");var state=getState(element);return isFirstNotify()&&state.lastWidth===state.startSize.width&&state.lastHeight===state.startSize.height?debug("Not notifying: Size is the same as the start size, and there has been no notification yet."):state.lastWidth===state.lastNotifiedWidth&&state.lastHeight===state.lastNotifiedHeight?debug("Not notifying: Size already notified"):(debug("Current size not notified, notifying..."),state.lastNotifiedWidth=state.lastWidth,state.lastNotifiedHeight=state.lastHeight,void forEach(getState(element).listeners,function(listener){listener(element)}))}function handleRender(){if(debug("startanimation triggered."),isUnrendered(element))debug("Ignoring since element is still unrendered...");else{debug("Element rendered.");var expand=getExpandElement(element),shrink=getShrinkElement(element);0!==expand.scrollLeft&&0!==expand.scrollTop&&0!==shrink.scrollLeft&&0!==shrink.scrollTop||(debug("Scrollbars out of sync. Updating detector elements..."),updateDetectorElements(notifyListenersIfNeeded))}}function handleScroll(){if(debug("Scroll detected."),isUnrendered(element))debug("Scroll event fired while unrendered. Ignoring...");else{var width=element.offsetWidth,height=element.offsetHeight;width!==getState(element).lastWidth||height!==getState(element).lastHeight?(debug("Element size changed."),updateDetectorElements(notifyListenersIfNeeded)):debug("Element size has not changed ("+width+"x"+height+").")}}if(debug("registerListenersAndPositionElements invoked."),getState(element)){getState(element).onRendered=handleRender,getState(element).onExpand=handleScroll,getState(element).onShrink=handleScroll;var style=getState(element).style;updateChildSizes(element,style.width,style.height)}else debug("Aborting because element has been uninstalled")}function finalizeDomMutation(){if(debug("finalizeDomMutation invoked."),getState(element)){var style=getState(element).style;storeCurrentSize(element,style.width,style.height),positionScrollbars(element,style.width,style.height)}else debug("Aborting because element has been uninstalled")}function ready(){callback(element)}function install(){debug("Installing..."),initListeners(),storeStartSize(),batchProcessor.add(0,storeStyle),batchProcessor.add(1,injectScrollElements),batchProcessor.add(2,registerListenersAndPositionElements),batchProcessor.add(3,finalizeDomMutation),batchProcessor.add(4,ready)}callback||(callback=element,element=options,options=null),options=options||{},debug("Making detectable..."),isDetached(element)?(debug("Element is detached"),injectContainerElement(),debug("Waiting until element is attached..."),getState(element).onRendered=function(){debug("Element is now attached"),install()}):install()}function uninstall(element){var state=getState(element);state&&(state.onExpandScroll&&removeEvent(getExpandElement(element),"scroll",state.onExpandScroll),state.onShrinkScroll&&removeEvent(getShrinkElement(element),"scroll",state.onShrinkScroll),state.onAnimationStart&&removeEvent(state.container,"animationstart",state.onAnimationStart),state.container&&element.removeChild(state.container))}var reporter=(options=options||{}).reporter,batchProcessor=options.batchProcessor,getState=options.stateHandler.getState,idHandler=(options.stateHandler.hasState,options.idHandler);if(!batchProcessor)throw new Error("Missing required dependency: batchProcessor");if(!reporter)throw new Error("Missing required dependency: reporter.");var scrollbarSizes=getScrollbarSizes(),detectionContainerClass="erd_scroll_detection_container";return injectScrollStyle("erd_scroll_detection_scrollbar_style",detectionContainerClass),{makeDetectable:makeDetectable,addListener:addListener,uninstall:uninstall}}},{"../collection-utils":4}],7:[function(require,module){"use strict";function isCollection(obj){return Array.isArray(obj)||obj.length!==undefined}function toArray(collection){if(Array.isArray(collection))return collection;var array=[];return forEach(collection,function(obj){array.push(obj)}),array}function isElement(obj){return obj&&1===obj.nodeType}function getOption(options,name,defaultValue){var value=options[name];return value!==undefined&&null!==value||defaultValue===undefined?value:defaultValue}var forEach=require("./collection-utils").forEach,elementUtilsMaker=require("./element-utils"),listenerHandlerMaker=require("./listener-handler"),idGeneratorMaker=require("./id-generator"),idHandlerMaker=require("./id-handler"),reporterMaker=require("./reporter"),browserDetector=require("./browser-detector"),batchProcessorMaker=require("batch-processor"),stateHandler=require("./state-handler"),objectStrategyMaker=require("./detection-strategy/object.js"),scrollStrategyMaker=require("./detection-strategy/scroll.js");module.exports=function(options){function listenTo(options,elements,listener){function onResizeCallback(element){var listeners=eventListenerHandler.get(element);forEach(listeners,function callListenerProxy(listener){listener(element)})}function addListener(callOnAdd,element,listener){eventListenerHandler.add(element,listener),callOnAdd&&listener(element)}if(listener||(listener=elements,elements=options,options={}),!elements)throw new Error("At least one element required.");if(!listener)throw new Error("Listener required.");if(isElement(elements))elements=[elements];else{if(!isCollection(elements))return reporter.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");elements=toArray(elements)}var elementsReady=0,callOnAdd=getOption(options,"callOnAdd",globalOptions.callOnAdd),onReadyCallback=getOption(options,"onReady",function noop(){}),debug=getOption(options,"debug",globalOptions.debug);forEach(elements,function attachListenerToElement(element){stateHandler.getState(element)||(stateHandler.initState(element),idHandler.set(element));var id=idHandler.get(element);if(debug&&reporter.log("Attaching listener to element",id,element),!elementUtils.isDetectable(element))return debug&&reporter.log(id,"Not detectable."),elementUtils.isBusy(element)?(debug&&reporter.log(id,"System busy making it detectable"),addListener(callOnAdd,element,listener),onReadyCallbacks[id]=onReadyCallbacks[id]||[],void onReadyCallbacks[id].push(function onReady(){++elementsReady===elements.length&&onReadyCallback()})):(debug&&reporter.log(id,"Making detectable..."),elementUtils.markBusy(element,!0),detectionStrategy.makeDetectable({debug:debug},element,function onElementDetectable(element){if(debug&&reporter.log(id,"onElementDetectable"),stateHandler.getState(element)){elementUtils.markAsDetectable(element),elementUtils.markBusy(element,!1),detectionStrategy.addListener(element,onResizeCallback),addListener(callOnAdd,element,listener);var state=stateHandler.getState(element);if(state&&state.startSize){var width=element.offsetWidth,height=element.offsetHeight;state.startSize.width===width&&state.startSize.height===height||onResizeCallback(element)}onReadyCallbacks[id]&&forEach(onReadyCallbacks[id],function(callback){callback()})}else debug&&reporter.log(id,"Element uninstalled before being detectable.");delete onReadyCallbacks[id],++elementsReady===elements.length&&onReadyCallback()}));debug&&reporter.log(id,"Already detecable, adding listener."),addListener(callOnAdd,element,listener),elementsReady++}),elementsReady===elements.length&&onReadyCallback()}function uninstall(elements){if(!elements)return reporter.error("At least one element is required.");if(isElement(elements))elements=[elements];else{if(!isCollection(elements))return reporter.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");elements=toArray(elements)}forEach(elements,function(element){eventListenerHandler.removeAllListeners(element),detectionStrategy.uninstall(element),stateHandler.cleanState(element)})}var idHandler;if((options=options||{}).idHandler)idHandler={get:function(element){return options.idHandler.get(element,!0)},set:options.idHandler.set};else{var idGenerator=idGeneratorMaker(),defaultIdHandler=idHandlerMaker({idGenerator:idGenerator,stateHandler:stateHandler});idHandler=defaultIdHandler}var reporter=options.reporter;reporter||(reporter=reporterMaker(!1===reporter));var batchProcessor=getOption(options,"batchProcessor",batchProcessorMaker({reporter:reporter})),globalOptions={};globalOptions.callOnAdd=!!getOption(options,"callOnAdd",!0),globalOptions.debug=!!getOption(options,"debug",!1);var detectionStrategy,eventListenerHandler=listenerHandlerMaker(idHandler),elementUtils=elementUtilsMaker({stateHandler:stateHandler}),desiredStrategy=getOption(options,"strategy","object"),strategyOptions={reporter:reporter,batchProcessor:batchProcessor,stateHandler:stateHandler,idHandler:idHandler};if("scroll"===desiredStrategy&&(browserDetector.isLegacyOpera()?(reporter.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),desiredStrategy="object"):browserDetector.isIE(9)&&(reporter.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),desiredStrategy="object")),"scroll"===desiredStrategy)detectionStrategy=scrollStrategyMaker(strategyOptions);else{if("object"!==desiredStrategy)throw new Error("Invalid strategy name: "+desiredStrategy);detectionStrategy=objectStrategyMaker(strategyOptions)}var onReadyCallbacks={};return{listenTo:listenTo,removeListener:eventListenerHandler.removeListener,removeAllListeners:eventListenerHandler.removeAllListeners,uninstall:uninstall}}},{"./browser-detector":3,"./collection-utils":4,"./detection-strategy/object.js":5,"./detection-strategy/scroll.js":6,"./element-utils":8,"./id-generator":9,"./id-handler":10,"./listener-handler":11,"./reporter":12,"./state-handler":13,"batch-processor":1}],8:[function(require,module){"use strict";module.exports=function(options){function isDetectable(element){var state=getState(element);return state&&!!state.isDetectable}function markAsDetectable(element){getState(element).isDetectable=!0}function isBusy(element){return!!getState(element).busy}function markBusy(element,busy){getState(element).busy=!!busy}var getState=options.stateHandler.getState;return{isDetectable:isDetectable,markAsDetectable:markAsDetectable,isBusy:isBusy,markBusy:markBusy}}},{}],9:[function(require,module){"use strict";module.exports=function(){function generate(){return idCount++}var idCount=1;return{generate:generate}}},{}],10:[function(require,module){"use strict";module.exports=function(options){function getId(element){var state=getState(element);return state&&state.id!==undefined?state.id:null}function setId(element){var state=getState(element);if(!state)throw new Error("setId required the element to have a resize detection state.");var id=idGenerator.generate();return state.id=id}var idGenerator=options.idGenerator,getState=options.stateHandler.getState;return{get:getId,set:setId}}},{}],11:[function(require,module){"use strict";module.exports=function(idHandler){function getListeners(element){var id=idHandler.get(element);return id===undefined?[]:eventListeners[id]||[]}function addListener(element,listener){var id=idHandler.get(element);eventListeners[id]||(eventListeners[id]=[]),eventListeners[id].push(listener)}function removeListener(element,listener){for(var listeners=getListeners(element),i=0,len=listeners.length;i<len;++i)if(listeners[i]===listener){listeners.splice(i,1);break}}function removeAllListeners(element){var listeners=getListeners(element);listeners&&(listeners.length=0)}var eventListeners={};return{get:getListeners,add:addListener,removeListener:removeListener,removeAllListeners:removeAllListeners}}},{}],12:[function(require,module){"use strict";module.exports=function(quiet){function noop(){}var reporter={log:noop,warn:noop,error:noop};if(!quiet&&window.console){var attachFunction=function(reporter,name){reporter[name]=function reporterProxy(){var f=console[name];if(f.apply)f.apply(console,arguments);else for(var i=0;i<arguments.length;i++)f(arguments[i])}};attachFunction(reporter,"log"),attachFunction(reporter,"warn"),attachFunction(reporter,"error")}return reporter}},{}],13:[function(require,module){"use strict";function initState(element){return element[prop]={},getState(element)}function getState(element){return element[prop]}function cleanState(element){delete element[prop]}var prop="_erd";module.exports={initState:initState,getState:getState,cleanState:cleanState}},{}]},{},[7])(7)}),function(){$(function(){var $embeds,embedTypes,embedo,embedsArray,embedsHasPageHash,i,len,loadEmbed,processEmbeds,processEmbedsMethods,provider,ref;for(embedTypes={},$embeds=document.querySelectorAll(".js-embed"),embedsArray=Array.prototype.slice.call($embeds),embedsHasPageHash=0<$embeds.length&&window.location.hash,0<embedsArray.filter(function(embed){return-1!==embed.dataset.url.indexOf("facebook")}).length&&(embedTypes.facebook={appId:"152351391599356",version:"v3.2"}),i=0,len=(ref=["twitter","youtube","instagram","pinterest","vimeo","github"]).length;i<len;i++)provider=ref[i],0<embedsArray.filter(function(embed){return-1!==embed.dataset.url.indexOf(provider)}).length&&(embedTypes[provider]=!0);return embedo=new Embedo(embedTypes),loadEmbed=function(embed){var embedUrl,options,widgetAnchor,widgetScript;(embedsHasPageHash&&$(embed).isElementInView()||!embedsHasPageHash&&window.scrollY>embed.getBoundingClientRect().y-window.outerHeight)&&!$(embed).hasClass("is-scrolled-past")&&(embed.className+=" is-scrolled-past",embedUrl=embed.dataset.url,options={hidecaption:!1},embed.dataset.maxWidth&&(embed.style.maxWidth=embed.dataset.maxWidth+"px",options.maxwidth=embed.dataset.maxWidth),-1<embedUrl.indexOf("gleam.io")?((widgetAnchor=document.createElement("a")).className="e-widget no-button",widgetAnchor.href=embedUrl,widgetAnchor.rel="nofollow",embed.appendChild(widgetAnchor),(widgetScript=document.createElement("script")).src="https://js.gleam.io/e.js",widgetScript.async=!0,embed.appendChild(widgetScript),embed.className+=" is-loaded"):embedo.load(embed,embedUrl,options).done(function(){var request;(request=new XMLHttpRequest).open("GET",embedUrl,!0),request.onreadystatechange=function(){4===request.readyState&&404===request.status?embed.className+=" has-error":embed.className+=" is-loaded"},request.send()}).fail(function(){embed.className+=" has-error"}))},window.externalProcessEmbeds=processEmbeds=function(){return[].forEach.call($embeds,function($embed){loadEmbed($embed)})},processEmbedsMethods=function(){return processEmbeds(),window.addEventListener("scroll",function(){processEmbeds()}),window.addEventListener("resize",function(){processEmbeds()})},embedsHasPageHash?window.addEventListener("load",function(){setTimeout(function(){return processEmbedsMethods()},0)},!1):processEmbedsMethods()})}.call(this),function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof module&&module.exports?module.exports=factory():root&&(root.Embedo=window.Embedo=factory())}(this,function(){function Embedo(options){return this.options=options||Embedo.defaults.OPTIONS,this.requests=[],this.events=[],this.init(this.options),this}function facebookify(parentNode,childNode,options,callback){Embedo.utils.sdkReady("facebook",function(err){if(err)return callback(err);window.FB.XFBML.parse(parentNode),window.FB.Event.subscribe("xfbml.render",function(){childNode.firstChild&&(!1!==options.centerize&&Embedo.utils.centerize(parentNode,childNode,options),
"rendered"===childNode.firstChild.getAttribute("fb-xfbml-state")&&automagic(parentNode,childNode,options,callback))})})}function twitterify(parentNode,childNode,options,callback){Embedo.utils.sdkReady("twitter",function(err){if(err)return callback(err);window.twttr.widgets.load(childNode),window.twttr.events.bind("rendered",function(event){childNode.firstChild&&childNode.firstChild.getAttribute("id")===event.target.getAttribute("id")&&(!1!==options.centerize&&Embedo.utils.centerize(parentNode,childNode,options),automagic(parentNode,childNode,options,callback))})})}function instagramify(parentNode,childNode,options,callback){Embedo.utils.sdkReady("instagram",function(err){function handleInstagramRendered(){if(childNode.firstChild&&childNode.firstChild.className.match(/instagram-media-rendered/))return clearInterval(instagram_embed_timer),!1!==options.centerize&&Embedo.utils.centerize(parentNode,childNode,options),automagic(parentNode,childNode,options,callback)}if(err)return callback(err);if(!window.instgrm.Embeds||!window.instgrm.Embeds)return callback(new Error("instagram_sdk_missing"));window.instgrm.Embeds.process(childNode);var instagram_embed_timer=setInterval(handleInstagramRendered,250)})}function pinterestify(parentNode,childNode,options,callback){Embedo.utils.sdkReady("pinterest",function(err){return err?callback(err):window.PinUtils&&window.PinUtils&&childNode&&childNode.firstChild?void setTimeout(function(){childNode.querySelector("[data-pin-href]")||window.PinUtils.build(childNode);var pinterest_embed_timer_count=0,pinterest_embed_timer=setInterval(function(){return pinterest_embed_timer_count+=1,childNode.querySelector("[data-pin-href]")?(clearInterval(pinterest_embed_timer),!1!==options.centerize&&Embedo.utils.centerize(parentNode,childNode,options),automagic(parentNode,childNode,options,callback)):20<=pinterest_embed_timer_count?(clearInterval(pinterest_embed_timer),callback(new Error("pinterest_embed_failed"))):void 0},250)},750):callback(new Error("pinterest_sdk_missing"))})}function automagic(parentNode,childNode,options,callback){if(Embedo.log("info","automagic",parentNode,childNode,options),options=options||{},callback=callback||function(){},!Embedo.utils.validateElement(parentNode)||!Embedo.utils.validateElement(childNode))return callback(new Error("HTMLElement does not exist in DOM."));Embedo.utils.watcher(options.id||Embedo.utils.uuid(),function(){var parent={width:options.width||Embedo.utils.compute(parentNode,"width"),height:options.height||Embedo.utils.compute(parentNode,"height")},child={width:Embedo.utils.compute(childNode,"width"),height:Embedo.utils.compute(childNode,"height")};if(options.strict)return callback(null,{width:parent.width,height:parent.height});if(options.width&&options.height){var isOverflowing=child.width>parent.width||child.height>parent.height;if(options.width&&(childNode.style.width=options.width+"px"),options.height&&(childNode.style.height=options.height+"px"),isOverflowing){var scale=Math.min(parent.width/child.width,parent.height/child.height);Embedo.utils.transform(childNode,"scale("+scale+")")}}callback(null,{width:parent.width,height:parent.height})},500)}return Object.defineProperty(Embedo,"defaults",{value:{OPTIONS:{facebook:null,twitter:!1,instagram:!1,pinterest:!1},SOURCES:{facebook:{GLOBAL:"FB",SDK:"//connect.facebook.net/${locale}/sdk.js",oEmbed:"//www.facebook.com/plugins/${type}/oembed.json",REGEX:/(?:(?:http|https):\/\/)?(?:www.)?facebook.com\/(?:(?:\w)*#!\/)?(?:pages\/)?([\w\-]*)?/g,PARAMS:{version:"v3.2",cookie:!0,appId:null,xfbml:!0}},twitter:{GLOBAL:"twttr",SDK:"//platform.twitter.com/widgets.js",oEmbed:"//publish.twitter.com/oembed",REGEX:/^http[s]*:\/\/[www.]*twitter(\.[a-z]+).*/i,PARAMS:{}},instagram:{GLOBAL:"instgrm",SDK:"//www.instagram.com/embed.js",oEmbed:"//api.instagram.com/oembed",REGEX:/(http|https)?:\/\/(www\.)?instagram.com\/p\/[a-zA-Z0-9_\/\?\-\=]+/gi,PARAMS:{}},youtube:{GLOBAL:null,SDK:null,oEmbed:"//www.youtube.com/embed/",REGEX:/^(?:(?:https?:)?\/\/)?(?:www\.)?(?:m\.)?(?:youtu(?:be)?\.com\/(?:v\/|embed\/|watch(?:\/|\?v=))|youtu\.be\/)((?:\w|-){11})(?:\S+)?$/,PARAMS:null},pinterest:{GLOBAL:"PinUtils",SDK:"//assets.pinterest.com/js/pinit.js",oEmbed:null,REGEX:/(https?:\/\/(ww.)?)?pinterest(\.[a-z]+).*/i,PARAMS:{}},vimeo:{GLOBAL:null,SDK:null,oEmbed:"//vimeo.com/api/oembed.json",REGEX:/(http|https)?:\/\/(www\.)?vimeo(\.[a-z]+)\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|)(\d+)(?:|\/\?)/,PARAMS:{}},github:{GLOBAL:null,SDK:null,oEmbed:null,REGEX:/(http|https):\/\/gist\.github\.com\/(\w+)\/(\w+)/,PARAMS:{}},soundcloud:{GLOBAL:null,SDK:null,oEmbed:"//soundcloud.com/oembed",REGEX:/^(http|https):\/\/soundcloud\.com\/(\w+)\/.*$/,PARAMS:{}}},RESTRICTED:["url","strict","height","width","centerize","jsonp"]},writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Embedo,"log",{value:function log(type){Embedo.debug&&"undefined"!=typeof console&&"undefined"!=typeof console[type]&&console[type].apply(console,Array.prototype.slice.call(arguments,1))},writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Embedo,"plugins",{value:function load(plugins){plugins&&(plugins instanceof Array?plugins.forEach(function(plugin){"function"==typeof plugin&&plugin(Embedo)}):"fuction"===plugins&&plugins(Embedo))},writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Embedo,"utils",{value:Object.create({uuid:function uuid(){var primary=65536*Math.random()|0,secondary=65536*Math.random()|0;return"embedo_"+(primary=("000"+primary.toString(36)).slice(-3))+(secondary=("000"+secondary.toString(36)).slice(-3))},extend:function extend(obj){obj=obj||{};for(var i=1;i<arguments.length;i++)if(arguments[i])for(var key in arguments[i])arguments[i].hasOwnProperty(key)&&(obj[key]=arguments[i][key]);return obj},merge:function merge(destination,source,preserve){for(var property in preserve=preserve||[],source)-1===preserve.indexOf(property)&&(destination[property]=source[property]);return destination},sequencer:function sequencer(){var args=arguments;return{then:function(done){function callme(){++counter===args.length&&done()}for(var counter=0,i=0;i<args.length;i++)args[i](callme)}}},replacer:function replacer(str,obj){if(str&&obj){if(obj)for(var key in obj)str&&(str=str.split("${"+key+"}").join(obj[key]));return str}},observer:function(){function Deferred(){this.resolved=[],this.rejected=[]}return Deferred.prototype={execute:function(list,args){var i=list.length;for(args=Array.prototype.slice.call(args);i--;)list[i].apply(null,args)},resolve:function(){this.execute(this.resolved,arguments)},reject:function(){this.execute(this.rejected,arguments)},done:function(callback){return this.resolved.push(callback),this},fail:function(callback){return this.rejected.push(callback),this}},Deferred}(),camelToSnake:function camelToSnake(str){return str.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},validateURL:function validateURL(url){return/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(url)},generateElement:function generateElement(type,attributes,html){var el=document.createElement(type);return Object.keys(attributes||{}).forEach(function(type){el.setAttribute(type,attributes[type])}),html&&(el.innerHTML=html),el},generateEmbed:function generateEmbed(id,source,html){id=id||Embedo.utils.uuid();var container=document.createElement("div");return container.setAttribute("id",id),container.setAttribute("data-embedo-id",id),container.setAttribute("data-embedo-source",source),Embedo.utils.validateElement(html)?container.appendChild(html):container.innerHTML=html||"",container},generateScript:function generateScript(source){var script=document.createElement("script");return script.type="text/javascript",script.src=encodeURI(source),script.setAttribute("async",""),script.setAttribute("charset","utf-8"),script},validateElement:function validateElement(obj){return"object"==typeof HTMLElement?obj instanceof window.HTMLElement:obj&&"object"==typeof obj&&null!==obj&&1===obj.nodeType&&"string"==typeof obj.nodeName},sdkReady:function sdkReady(type,callback){if(callback=callback||function(){},!Embedo.defaults.SOURCES[type])return callback(new Error("unsupported_sdk_type"));var counter=0;!function check(){return 15<++counter?callback(new Error(type+":sdk_not_available")):window[Embedo.defaults.SOURCES[type].GLOBAL]?callback(null,window[Embedo.defaults.SOURCES[type].GLOBAL]):void setTimeout(check,10*counter)}()},querystring:function querystring(obj){var parts=[];for(var i in obj)obj.hasOwnProperty(i)&&parts.push(encodeURIComponent(i)+"="+encodeURIComponent(obj[i]));return parts.join("&")},fetch:function fetch(url,options,callback){function clear(jsonpCallback,script){try{delete window[jsonpCallback]}catch(e){window[jsonpCallback]=undefined}script&&(target.removeChild(script),script=undefined)}"function"==typeof options&&(callback=options,options={}),(options=options||{}).callback=options.callback||"callback";var target=document.head||document.getElementsByTagName("head")[0],script=document.createElement("script"),jsonpCallback="jsonp_"+Embedo.utils.uuid();url=(url+=(~url.indexOf("?")?"&":"?")+options.callback+"="+encodeURIComponent(jsonpCallback)).replace("?&","?"),window[jsonpCallback]=function(data){clear(jsonpCallback,script),callback(null,data)},script.type="text/javascript",script.defer=!0,script.charset="UTF-8",script.onerror=function(err){return clear(jsonpCallback,script),callback(err)},target.appendChild(script),script.src=url},ajax:function ajax(url,options,callback){"function"==typeof options&&(callback=options,options={}),callback=callback||function(){};var xhr=new XMLHttpRequest;xhr.onload=function(){if(400<=xhr.status)return callback(new Error(xhr.responseText||xhr.statusText));try{return callback(null,JSON.parse(xhr.responseText))}catch(e){return callback(new Error("invalid_response"))}},xhr.onerror=function(err){return callback(err)},xhr.open("GET",url),xhr.send()},transform:function transform(element,props){Embedo.utils.validateElement(element)&&(element.style.webkitTransform=props,element.style.MozTransform=props,element.style.msTransform=props,element.style.OTransform=props,element.style.transform=props)},compute:function compute(el,prop,is_computed){if(Embedo.utils.validateElement(el)&&prop){var value=el.getBoundingClientRect()[prop];return!is_computed&&value||(document.defaultView&&document.defaultView.getComputedStyle?value=document.defaultView.getComputedStyle(el,"").getPropertyValue(prop):el.currentStyle&&(prop=prop.replace(/\-(\w)/g,function(m,p){return p.toUpperCase()}),value=el.currentStyle[prop])),"string"!=typeof value||/^\d+(\.\d+)?%$/.test(value)||(value=value.replace(/[^\d.-]/g,"")),isNaN(Number(value))?value:Number(value)}},convertToPx:function convertToPx(el,prop,value){function relative_px(type,value){var w=window,d=document,e=d.documentElement,g=d.body,x=w.innerWidth||e.clientWidth||g.clientWidth,y=w.innerHeight||e.clientHeight||g.clientHeight;return"vw"===type?x*parseFloat(value)/100:"vh"===type?y*parseFloat(value)/100:undefined}function percent_px(el,prop,percent){return Embedo.utils.compute(el.parentNode,prop,!0)*((percent=parseFloat(percent))/100)}return isNaN(Number(value))?/^\d+(\.\d+)?%$/.test(value)?percent_px(el,prop,value):value.match(/(vh|vw)/)?relative_px(value.replace(/[0-9]/g,""),value):void 0:Number(value)},watcher:function watcher(id,fn,timer){return window.EMBEDO_WATCHER=window.EMBEDO_WATCHER||{},window.EMBEDO_WATCHER[id]=window.EMBEDO_WATCHER[id]||{id:id,count:0,request:null},0<window.EMBEDO_WATCHER[id].count&&window.EMBEDO_WATCHER[id].request&&(window.EMBEDO_WATCHER[id].count-=1,clearTimeout(window.EMBEDO_WATCHER[id].request)),window.EMBEDO_WATCHER[id].count+=1,window.EMBEDO_WATCHER[id].request=setTimeout(function(){window.EMBEDO_WATCHER[id].count-=1,0===window.EMBEDO_WATCHER[id].count&&fn.call()},timer),null},dimensions:function dimensions(el,width,height){var el_width=Embedo.utils.compute(el,"width");return{width:width=width||(0<el_width?el_width:Embedo.utils.compute(el.parentNode,"width")),height:height=height||(0<el_width?el_width/1.5:Embedo.utils.compute(el.parentNode,"height"))}},centerize:function centerize(parent_el,child_el,options){Embedo.log("info","centerize",parent_el,child_el,options),Embedo.utils.validateElement(parent_el)&&Embedo.utils.validateElement(child_el)&&((options=options||{}).width&&(parent_el.style.width=options.width,parent_el.style.maxWidth=options.width,parent_el.style.marginLeft="auto",parent_el.style.marginRight="auto"),options.height&&(parent_el.style.height=options.height,parent_el.style.maxHeight=options.height),child_el.style.display="-moz-box",child_el.style.display="-ms-flexbox",child_el.style.display="-webkit-flex",child_el.style.display="-webkit-box",child_el.style.display="flex",child_el.style.textAlign="center",child_el.style["justify-content"]="center",child_el.style["align-items"]="center",child_el.style.margin="0 auto")},handleScriptValidation:function handleScriptValidation(url){if(url){url=url.split("#")[0];for(var scripts=document.getElementsByTagName("script"),i=scripts.length;i--;)if(scripts[i].src===url)return!0;return!1}}}),writable:!1,enumerable:!0,configurable:!1}),Object.defineProperties(Embedo.prototype,{on:{value:function(event,listener){"object"!=typeof this.events[event]&&(this.events[event]=[]),this.events[event].push(listener)},writable:!1,configurable:!1},off:{value:function(event,listener){var index;"object"==typeof this.events[event]&&-1<(index=this.events[event].indexOf(listener))&&this.events[event].splice(index,1)},writable:!1,configurable:!1},emit:{value:function(event){var i,listeners,length,args=[].slice.call(arguments,1);if("object"==typeof this.events[event])for(length=(listeners=this.events[event].slice()).length,i=0;i<length;i++)listeners[i].apply(this,args)},writable:!1,configurable:!1},once:{value:function(event,listener){this.on(event,function g(){this.off(event,g),listener.apply(this,arguments)})},writable:!1,configurable:!1}}),Embedo.prototype.init=function(options){function appendSDK(type,props){if(type&&props){var sdk=props.sdk||Embedo.utils.replacer(Embedo.defaults.SOURCES[type.toLowerCase()].SDK,{locale:props.locale||window.navigator.language||"en_US"});Embedo.utils.handleScriptValidation(sdk)||(props&&"object"==typeof props&&(sdk+=("facebook"===type?"#":"?")+Embedo.utils.querystring(props)),document.body.appendChild(Embedo.utils.generateScript(sdk)))}}Embedo.log("info","init",this.requests,options),Object.keys(Embedo.defaults.SOURCES).forEach(function(source){Embedo.defaults.SOURCES[source].SDK&&appendSDK(source,options[source])}),this.domify()},Embedo.prototype.domify=function domify(){var embedos=document.querySelectorAll("[data-embedo-url]");[].forEach.call(embedos,function(embedo_el){var options=Object.keys(embedo_el.dataset||{}).reduce(function(acc,cur){-1!==cur.indexOf("embedo")&&(acc[Embedo.utils.camelToSnake(cur).replace("embedo-","")]=embedo_el.dataset[cur]);return acc},{});this.render(embedo_el,options.url,options)}.bind(this))},Embedo.prototype.facebook=function facebook(id,element,url,options,callback){function handleFacebookEmbed(html){var container=Embedo.utils.generateEmbed(id,"facebook",html.replace('fb-video"','fb-video" data-show-text="true"'));if(element.appendChild(container),facebookify(element,container,{id:id,url:url,strict:options.strict,width:options.width,height:options.height,centerize:options.centerize},function(err,result){if(err)return callback(err);callback(null,{id:id,el:element,width:result.width,height:result.height})}),"video"!==type){var responsiveContainer=Embedo.utils.generateEmbed(id,"facebook",html.replace('data-width="'+(options.maxwidth||552)+'"','data-width="auto"'));element.appendChild(responsiveContainer),facebookify(element,responsiveContainer,{id:id,url:url,strict:options.strict,width:options.width,height:options.height,centerize:options.centerize},function(err,result){if(err)return callback(err);callback(null,{id:id,el:element,width:result.width,height:result.height})})}}var type,fb_html_class;if(/^([^\/?].+\/)?post|photo(s|\.php)[\/?].*$/gm.test(url)?type=url.match(/comment_id|reply_comment_id/)?"comment":"post":/^([^\/?].+\/)?video(s|\.php)[\/?].*$/gm.test(url)&&(type="video"),type&&type.match(/post|video/)){var embed_uri=Embedo.utils.replacer(Embedo.defaults.SOURCES.facebook.oEmbed,{type:type}),query=Embedo.utils.merge({url:encodeURI(url),omitscript:!0},options,Embedo.defaults.RESTRICTED);("width"in options||"maxwidth"in options)&&(query.maxwidth=options.maxwidth||options.width),embed_uri+="?"+Embedo.utils.querystring(query),Embedo.utils.fetch(embed_uri,function(error,content){if(error)return Embedo.log("error","facebook",error),callback(error);handleFacebookEmbed(content.html)})}else{"comment"===type||url.match(/comment_id|reply_comment_id/)?(fb_html_class="fb-comment-embed",options["data-numposts"]=options["data-numposts"]||5):url.match(/plugins\/comments/)?fb_html_class="fb-comments":(fb_html_class="fb-page",options["data-height"]=options["data-height"]||options.maxheight||options.height||500);var fb_html=Embedo.utils.generateElement("div",Embedo.utils.merge({"class":fb_html_class,"data-href":url,"data-width":options["data-width"]||options.maxwidth||options.width||350},options));fb_html.removeAttribute("width"),fb_html.removeAttribute("height"),handleFacebookEmbed(fb_html)}},Embedo.prototype.twitter=function twitter(id,element,url,options,callback){var embed_uri=Embedo.defaults.SOURCES.twitter.oEmbed,query=Embedo.utils.merge({url:encodeURI(url),omit_script:1},options,Embedo.defaults.RESTRICTED);("width"in options||"maxwidth"in options)&&(query.maxwidth=options.maxwidth||options.width),("height"in options||"maxheight"in options)&&(query.maxheight=options.maxheight||options.height),embed_uri+="?"+Embedo.utils.querystring(query),Embedo.utils.fetch(embed_uri,function(error,content){if(error)return Embedo.log("error","twitter",error),callback(error);var container=Embedo.utils.generateEmbed(id,"twitter",content.html);element.appendChild(container),twitterify(element,container,{id:id,url:url,strict:options.strict,width:options.width,height:options.height,centerize:options.centerize},function(err,result){if(err)return callback(err);callback(null,{id:id,el:element,width:result.width,height:result.height})})})},Embedo.prototype.instagram=function(id,element,url,options,callback){var embed_uri=Embedo.defaults.SOURCES.instagram.oEmbed,query=Embedo.utils.merge({url:encodeURI(url),omitscript:!0,hidecaption:!0},options,Embedo.defaults.RESTRICTED);("width"in options||"maxwidth"in options)&&(options.width=options.maxwidth?options.maxwidth:options.width,320<options.width&&(query.maxwidth=options.width)),embed_uri+="?"+Embedo.utils.querystring(query);var method=options.jsonp?"jsonp":"ajax";Embedo.utils[method](embed_uri,function(err,content){if(err){if(Embedo.log("error","instagram",err),options.jsonp!==undefined&&null!==options.jsonp)return callback(err);var extracted_url=url.match(Embedo.defaults.SOURCES.instagram.REGEX);return url=extracted_url&&0<extracted_url.length?extracted_url[0].replace(/\/$/,""):url,this.iframe(id,element,url+"/embed/",options,callback)}var container=Embedo.utils.generateEmbed(id,"instagram",content.html);element.appendChild(container),instagramify(element,container,{id:id,url:url,strict:options.strict,width:options.width,height:options.height,centerize:options.centerize},function(err,result){if(err)return callback(err);callback(null,{id:id,el:element,width:result.width,height:result.height})})}.bind(this))},Embedo.prototype.youtube=function(id,element,url,options,callback){function getYTVideoID(url){var regexp=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i,match=url.match(regexp);return!(!match||2!==match.length)&&match[1]}function getYTVideoStartPos(url){var regexp=/[?&]t=([^&#]*)/i,match=url.match(regexp);return match&&2===match.length?match[1]:0}if(!getYTVideoID(url))return Embedo.log("error","youtube","Unable to detect Youtube video id."),callback("Unable to detect Youtube video id.");var youtube_uri=Embedo.defaults.SOURCES.youtube.oEmbed+getYTVideoID(url);youtube_uri+="?"+Embedo.utils.querystring(Embedo.utils.merge({modestbranding:1,autohide:1,showinfo:0,start:getYTVideoStartPos(url)},options,Embedo.defaults.RESTRICTED)),this.iframe(id,element,youtube_uri,options,callback)},Embedo.prototype.vimeo=function(id,element,url,options,callback){var size=Embedo.utils.dimensions(element,options.width,options.height),embed_options=Embedo.utils.merge({url:url,width:size.width,height:size.height,autohide:1},options,Embedo.defaults.RESTRICTED),embed_uri=Embedo.defaults.SOURCES.vimeo.oEmbed+"?"+Embedo.utils.querystring(embed_options);Embedo.utils.fetch(embed_uri,function(error,content){if(error)return Embedo.log("error","vimeo",error),callback(error);var container=Embedo.utils.generateEmbed(id,"vimeo",content.html);element.appendChild(container),callback(null,{id:id,el:element,width:size.width,height:size.height})})},Embedo.prototype.pinterest=function(id,element,url,options,callback){var size=Embedo.utils.dimensions(element,options.width,options.height),pin_size=600<size.width?"large":size.width<345?"small":"medium",pin_el=Embedo.utils.generateElement("a",Embedo.utils.merge({href:url,"data-pin-do":options["data-pin-do"]||"embedPin","data-pin-lang":options["data-pin-lang"]||"en","data-pin-width":pin_size},options)),container=Embedo.utils.generateEmbed(id,"pinterest",pin_el);element.appendChild(container),pinterestify(element,container,{id:id,url:url,strict:options.strict,width:options.width,height:options.height,centerize:options.centerize},function(err,result){if(err)return Embedo.log("error","pinterest",err),callback(err);callback(null,{id:id,el:element,width:result.width,height:result.height})})},Embedo.prototype.github=function github(id,element,url,options,callback){var size=Embedo.utils.dimensions(element,options.width,options.height),iframe=Embedo.utils.generateElement("iframe",Embedo.utils.merge({width:size.width,height:size.height},options,Embedo.defaults.RESTRICTED)),container=Embedo.utils.generateEmbed(id,"github",iframe);element.appendChild(container),iframe.contentWindow.document.open(),iframe.contentWindow.document.write('<body><style type="text/css">body,html{margin:0;padding:0;border-radius:3px;}.gist .gist-file{margin:0 !important;padding:0;}</style><script src="'+url+'"></script></body>'),iframe.contentWindow.document.close(),iframe.onerror=function(err){callback(err)},iframe.addEventListener("load",function(event){callback(null,{id:id,el:element,event:event,width:Embedo.utils.compute(container,"width"),height:Embedo.utils.compute(container,"height")})})},Embedo.prototype.soundcloud=function(id,element,url,options,callback){options.hasOwnProperty("width")&&options.width&&(options.maxwidth=options.maxwidth||options.width||"100%"),options.hasOwnProperty("height")&&options.height&&(options.maxheight=options.maxheight||options.height);var size=Embedo.utils.dimensions(element,options.maxwidth,options.maxheight),embed_options=Embedo.utils.merge({url:encodeURI(url),format:"js"},options,Embedo.defaults.RESTRICTED),embed_uri=Embedo.defaults.SOURCES.soundcloud.oEmbed+"?"+Embedo.utils.querystring(embed_options);Embedo.utils.fetch(embed_uri,function(error,content){if(error)return Embedo.log("error","soundcloud",error),callback(error);var container=Embedo.utils.generateEmbed(id,"soundcloud",content.html);element.appendChild(container),callback(null,{id:id,el:element,width:size.width,height:size.height})})},Embedo.prototype.iframe=function(id,element,url,options,callback){var fragment=document.createDocumentFragment(),size=Embedo.utils.dimensions(element,options.width,options.height),extension=(url.substr(url.lastIndexOf("."))||"").replace(".","").toLowerCase(),mimes={csv:"text/csv",pdf:"application/pdf",gif:"image/gif",js:"application/javascript",json:"application/json",xhtml:"application/xhtml+xml",pps:"application/vnd.ms-powerpoint",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",xml:"application/xml",ogg:"video/ogg",mp4:"video/mp4",webm:"video/webm",html:"text/html"},mimetype=mimes[extension]||mimes.html,el_type=extension.match(/(mp4|ogg|webm|ogv|ogm)/)?"video":options.tagName||"embed",override=Embedo.utils.merge({},options,Embedo.defaults.RESTRICTED),embed_el=Embedo.utils.generateElement(el_type,Embedo.utils.merge({type:mimetype,src:url,width:size.width,height:size.height},override));fragment.appendChild(Embedo.utils.generateEmbed(id,"iframe",embed_el)),element.appendChild(fragment),"video"===el_type?setTimeout(function(){callback(null,{id:id,el:element,width:Embedo.utils.compute(embed_el,"width"),height:Embedo.utils.compute(embed_el,"height")})},250):(embed_el.onerror=function(err){callback(err)},embed_el.addEventListener("load",function(event){callback(null,{id:id,el:element,event:event,width:Embedo.utils.compute(embed_el,"width"),height:Embedo.utils.compute(embed_el,"height")})}))},Embedo.prototype.render=function(element,url,options,callback){function getURLSource(url){var urlRegExp=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/,sources=Object.keys(Embedo.defaults.SOURCES)||[];if(!urlRegExp.test(url))return null;var matched_source=sources.filter(function(source){if(Embedo.defaults.SOURCES[source]&&url.match(Embedo.defaults.SOURCES[source].REGEX))return source}).filter(Boolean);return matched_source&&matched_source.length?matched_source[0]:"iframe"}if(Embedo.log("info","render",element,url,options),options=options||{},callback=callback||function(){},!element||!Embedo.utils.validateElement(element))return Embedo.log("info","render","`element` is either missing or invalid"),this.emit("error",new Error("element_is_missing"));if("string"!=typeof url)return this.emit("error",new Error("invalid_url_string"));if(!url||!Embedo.utils.validateURL(url))return Embedo.log("info","render","`url` is either missing or invalid"),this.emit("error",new Error("invalid_or_missing_url"));var source=getURLSource(url);if(!source)return Embedo.log("info","render",new Error("Invalid or Unsupported URL")),this.emit("error",new Error("url_not_supported"));if(!this[source])return Embedo.log("info","render",new Error("Requested source is not implemented or missing.")),this.emit("error",new Error("unrecognised_url"));"width"in options&&options.width&&(options.width=Embedo.utils.convertToPx(element,"width",options.width)),"height"in options&&options.height&&(options.height=Embedo.utils.convertToPx(element,"height",options.height));var id=Embedo.utils.uuid(),request={id:id,el:element,source:source,url:url,attributes:options};this.requests.push(request),this.emit("watch","load",request),this[source](id,element,url,options,function(err,data){if(err)return this.emit("error",err),callback(err);data.url=request.url,data.source=request.source,data.options=request.attributes,this.emit("watch","loaded",data),callback(null,data)}.bind(this))},Embedo.prototype.load=function(element,urls,options){Embedo.log("info","load",element,urls,options),options=options||{};var observer=new Embedo.utils.observer;if(element&&Embedo.utils.validateElement(element))if(urls instanceof Array){var reqs={failed:[],finished:[]},jobs=urls.map(function(url){return function(done){this.render(element,url,options,function(err,data){if(err)return reqs.failed.push(err),done(err);reqs.finished.push(data),done(null,data)})}.bind(this)}.bind(this));Embedo.utils.sequencer.apply(this,jobs).then(function(){if(0<reqs.failed.length)return observer.reject(reqs.failed);observer.resolve(reqs.finished)})}else"string"==typeof urls?this.render(element,urls,options,function(err,data){if(err)return observer.reject(err);observer.resolve(data)}):this.emit("error",new Error("invalid_url_string"));else Embedo.log("info","load","`element` is either missing or invalid"),this.emit("error",new Error("element_is_missing"));return observer},Embedo.prototype.refresh=function(element){if(Embedo.log("info","refresh",this.requests,element),0!==this.requests.length)return this.requests.forEach(function(request){if(request.el){if("iframe"===request.source)return this.emit("refresh",request,{width:Embedo.utils.compute(request.el,"width"),height:Embedo.utils.compute(request.el,"height")});if(element){if(!Embedo.utils.validateElement(element))return;element===request.el&&automagic(request.el,document.getElementById(request.id),request.attributes,function(err,data){data&&this.emit("refresh",request,data)}.bind(this))}else automagic(request.el,document.getElementById(request.id),request.attributes,function(err,data){data&&this.emit("refresh",request,data)}.bind(this))}}.bind(this)),this},Embedo.prototype.destroy=function(element){if(Embedo.log("warn","destroy",this.requests,element),0!==this.requests.length){var removed=[];return this.requests.forEach(function(request){if(request.el&&Embedo.utils.validateElement(request.el))if(element){if(!Embedo.utils.validateElement(element))return;element===request.el&&(document.getElementById(request.id)&&document.getElementById(request.id).remove(),removed.push(request.id),this.emit("destroy",request))}else document.getElementById(request.id)&&document.getElementById(request.id).remove(),removed.push(request.id),this.emit("destroy",request)}.bind(this)),this.requests=this.requests.filter(function(request){return removed.indexOf(request.id)<0}),this}},Embedo}),Array.prototype.getUnique=function(){var i,e,o={},a=[];for(i=0;e=this[i];i++)o[e]=1;for(e in o)a.push(e);return a},
/*!
 * jQuery.filer
 * Copyright (c) 2015 CreativeDream
 * Website: https://github.com/CreativeDream/jquery.filer
 * Version: 1.0.5 (19-Nov-2015)
 * Requires: jQuery v1.7.1 or later
 */
function($){"use strict";$.fn.filer=function(q){return this.each(function(t,r){var s=$(r),b=".jFiler",p=$(),o=$(),l=$(),sl=[],n_f=$.isFunction(q)?q(s,$.fn.filer.defaults):q,n=n_f&&$.isPlainObject(n_f)?$.extend(!0,{},$.fn.filer.defaults,n_f):$.fn.filer.defaults,f={init:function(){s.wrap('<div class="jFiler"></div>'),f._set("props"),s.prop("jFiler").boxEl=p=s.closest(b),f._changeInput()},_bindInput:function(){n.changeInput&&0<o.length&&o.bind("click",f._clickHandler),s.on({focus:function(){o.addClass("focused")},blur:function(){o.removeClass("focused")},change:function(){f._onChange()}}),n.dragDrop&&(0<o.length?o:s).bind("drop",f._dragDrop.drop).bind("dragover",f._dragDrop.dragEnter).bind("dragleave",f._dragDrop.dragLeave),n.uploadFile&&n.clipBoardPaste&&$(window).on("paste",f._clipboardPaste)},_unbindInput:function(){n.changeInput&&0<o.length&&o.unbind("click",f._clickHandler)},_clickHandler:function(){s.click()},_applyAttrSettings:function(){var d=["name","limit","maxSize","extensions","changeInput","showThumbs","allowDuplicates","appendTo","theme","addMore","excludeName","files","uploadUrl","uploadData","options"];for(var k in d){var j="data-jfiler-"+d[k];if(f._assets.hasAttr(j)){switch(d[k]){case"changeInput":case"showThumbs":case"allowDuplicates":case"addMore":n[d[k]]=-1<["true","false"].indexOf(s.attr(j))?"true"==s.attr(j):s.attr(j);break;case"extensions":n[d[k]]=s.attr(j).replace(/ /g,"").split(",");break;case"uploadUrl":n.uploadFile&&(n.uploadFile.url=s.attr(j));break;case"uploadData":n.uploadFile&&(n.uploadFile.data=JSON.parse(s.attr(j)));break;case"files":case"options":n[d[k]]=JSON.parse(s.attr(j));break;default:n[d[k]]=s.attr(j)}s.removeAttr(j)}}},_changeInput:function(){if(f._applyAttrSettings(),null!=n.beforeRender&&"function"==typeof n.beforeRender&&n.beforeRender(p,s),n.theme&&p.addClass("jFiler-theme-"+n.theme),"input"!=s.get(0).tagName.toLowerCase()&&"file"!=s.get(0).type)o=s,(s=$('<input type="file" name="'+n.name+'" />')).css({position:"absolute",left:"-9999px",top:"-9999px","z-index":"-9999"}),p.prepend(s),f._isGn=s;else if(n.changeInput){switch(typeof n.changeInput){case"boolean":o=$('<div class="jFiler-input"><div class="jFiler-input-caption"><span>'+n.captions.feedback+'</span></div><div class="jFiler-input-button">'+n.captions.button+'</div></div>"');break;case"string":case"object":o=$(n.changeInput);break;case"function":o=$(n.changeInput(p,s,n))}s.after(o),s.css({position:"absolute",left:"-9999px",top:"-9999px","z-index":"-9999"})}s.prop("jFiler").newInputEl=o,f._bindInput(),n.files&&f._append(!1,{files:n.files}),null!=n.afterRender&&"function"==typeof n.afterRender&&n.afterRender(l,p,o,s)},_clear:function(){f.files=null,s.prop("jFiler").files=null,n.uploadFile||n.addMore||f._reset(),f._set("feedback",f._itFl&&0<f._itFl.length?f._itFl.length+" "+n.captions.feedback2:n.captions.feedback),null!=n.onEmpty&&"function"==typeof n.onEmpty&&n.onEmpty(p,o,s)},_reset:function(a){if(!a){if(!n.uploadFile&&n.addMore){for(var i=0;i<sl.length;i++)sl[i].remove();sl=[],f._unbindInput(),s=f._isGn?f._isGn:$(r),f._bindInput()}f._set("input","")}f._itFl=[],f._itFc=null,f._ajFc=0,f._set("props"),s.prop("jFiler").files_list=f._itFl,s.prop("jFiler").current_file=f._itFc,f._prEr||(f._itFr=[],p.find("input[name^='jfiler-items-exclude-']:hidden").remove()),l.fadeOut("fast",function(){$(this).remove()}),s.prop("jFiler").listEl=l=$()},_set:function(element,value){switch(element){case"input":s.val("");break;case"feedback":0<o.length&&o.find(".jFiler-input-caption span").html(value);break;case"props":s.prop("jFiler")||s.prop("jFiler",{options:n,listEl:l,boxEl:p,newInputEl:o,inputEl:s,files:f.files,files_list:f._itFl,current_file:f._itFc,append:function(data){return f._append(!1,{files:[data]})},remove:function(id){return f._remove(null,{binded:!0,data:{id:id}}),!0},reset:function(){return f._reset(),f._clear(),!0},retry:function(data){return f._retryUpload(data)}})}},_filesCheck:function(){var s=0;if(n.limit&&f.files.length+f._itFl.length>n.limit)return alert(f._assets.textParse(n.captions.errors.filesLimit)),!1;for(var t=0;t<f.files.length;t++){var x=f.files[t].name.split(".").pop().toLowerCase(),file=f.files[t],m={name:file.name,size:file.size,size2:f._assets.bytesToSize(file.size),type:file.type,ext:x};if(null!=n.extensions&&-1==$.inArray(x,n.extensions))return alert(f._assets.textParse(n.captions.errors.filesType,m)),!1;if(null!=n.maxSize&&f.files[t].size>1048576*n.maxSize)return alert(f._assets.textParse(n.captions.errors.filesSize,m)),!1;if(4096==file.size&&0==file.type.length)return!1;if(n.addMore||n.uploadFile)if(!n.allowDuplicates)if(0<(m=f._itFl.filter(function(a){if(a.file.name==file.name&&a.file.size==file.size&&a.file.type==file.type&&(!file.lastModified||a.file.lastModified==file.lastModified))return!0})).length)return!1;s+=f.files[t].size}return!(null!=n.maxSize&&s>=Math.round(1048576*n.maxSize))||(alert(f._assets.textParse(n.captions.errors.filesSizeAll)),!1)},_thumbCreator:{create:function(i){var file=f.files[i],id=f._itFc?f._itFc.id:i,name=file.name,size=file.size,type=file.type.split("/",1).toString().toLowerCase(),ext=-1!=name.indexOf(".")?name.split(".").pop().toLowerCase():"",progressBar=n.uploadFile?'<div class="jFiler-jProgressBar">'+n.templates.progressBar+"</div>":"",opts={id:id,name:name,size:size,size2:f._assets.bytesToSize(size),type:type,extension:ext,icon:f._assets.getIcon(ext,type),icon2:f._thumbCreator.generateIcon({type:type,extension:ext}),image:'<div class="jFiler-item-thumb-image fi-loading"></div>',progressBar:progressBar,_appended:file._appended},html="";if(file.opts&&(opts=$.extend({},file.opts,opts)),(html=$(f._thumbCreator.renderContent(opts)).attr("data-jfiler-index",id)).get(0).jfiler_id=id,f._thumbCreator.renderFile(file,html,opts),file.forList)return html;(f._itFc.html=html).hide()[n.templates.itemAppendToEnd?"appendTo":"prependTo"](l.find(n.templates._selectors.list)).show(),file._appended||f._onSelect(i)},renderContent:function(opts){return f._assets.textParse(opts._appended?n.templates.itemAppend:n.templates.item,opts)},renderFile:function(file,html,opts){if(0==html.find(".jFiler-item-thumb-image").length)return!1;if(file.file&&"image"==opts.type){var g=$("<div>").append($("<img>").attr("src",file.file).attr("draggable","false")).html(),m=html.find(".jFiler-item-thumb-image.fi-loading");return $(g).on("error",function(){g=f._thumbCreator.generateIcon(opts),html.addClass("jFiler-no-thumbnail"),m.removeClass("fi-loading").html(g)}).on("load",function(){m.removeClass("fi-loading").html(g)}),!0}if(window.File&&window.FileList&&window.FileReader&&"image"==opts.type&&opts.size<6e6){var y=new FileReader;y.onload=function(e){var g=$("<div>").append($("<img>").attr("src",e.target.result).attr("draggable","false")).html(),m=html.find(".jFiler-item-thumb-image.fi-loading");$(g).on("error",function(){g=f._thumbCreator.generateIcon(opts),html.addClass("jFiler-no-thumbnail"),m.removeClass("fi-loading").html(g)}).on("load",function(){m.removeClass("fi-loading").html(g)})},y.readAsDataURL(file)}else{g=f._thumbCreator.generateIcon(opts),m=html.find(".jFiler-item-thumb-image.fi-loading");html.addClass("jFiler-no-thumbnail"),m.removeClass("fi-loading").html(g)}},generateIcon:function(obj){var m=new Array(3);if(obj&&obj.type&&obj.extension)switch(obj.type){case"image":m[0]="f-image",m[1]=$('<i class="far fa-file-image"></i>');break;case"video":m[0]="f-video",m[1]=$('<i class="far fa-file-video"></i>');break;case"audio":m[0]="f-audio",m[1]=$('<i class="far fa-file-audio"></i>');break;default:m[0]="f-file f-file-ext-"+obj.extension,m[1]=document.createTextNode(0<obj.extension.length?"."+obj.extension:""),m[2]=1}else m[0]="f-file",m[1]=document.createTextNode(obj.extension&&0<obj.extension.length?"."+obj.extension:""),m[2]=1;var el=$("<span>").addClass("jFiler-icon-file "+m[0]).append(m[1]);if(1==m[2]){var c=f._assets.text2Color(obj.extension);if(c){var j=$(el).appendTo("body"),h=j.css("box-shadow");h=c+h.substring(h.replace(/^.*(rgba?\([^)]+\)).*$/,"$1").length,h.length),j.css({"-webkit-box-shadow":h,"-moz-box-shadow":h,"box-shadow":h}).attr("style","-webkit-box-shadow: "+h+"; -moz-box-shadow: "+h+"; box-shadow: "+h+";"),el=j.prop("outerHTML"),j.remove()}}return el},_box:function(params){if(null!=n.beforeShow&&"function"==typeof n.beforeShow&&!n.beforeShow(f.files,l,p,o,s))return!1;if(l.length<1){if(n.appendTo)var appendTo=$(n.appendTo);else appendTo=p;appendTo.find(".jFiler-items").remove(),l=$('<div class="jFiler-items jFiler-row"></div>'),(s.prop("jFiler").listEl=l).append(f._assets.textParse(n.templates.box)).appendTo(appendTo),l.on("click",n.templates._selectors.remove,function(e){e.preventDefault(),(!n.templates.removeConfirmation||confirm(n.captions.removeConfirmation))&&f._remove(params?params.remove.event:e,params?params.remove.el:$(this).closest(n.templates._selectors.item))})}if(f.files)for(var i=0;i<f.files.length;i++)f.files[i]._appended||(f.files[i]._choosed=!0),f._addToMemory(i),f._thumbCreator.create(i)}},_upload:function(){var el=f._itFc.html,formData=new FormData,c=f._itFc,onSend=function(){if(null!=n.uploadFile.data&&$.isPlainObject(n.uploadFile.data))for(var k in n.uploadFile.data)formData.append(k,n.uploadFile.data[k]);formData.append(s.attr("name"),c.file,!!c.file.name&&c.file.name),f._ajax.send(el,formData,c)};null!=n.beforeSendDeferred&&"function"==typeof n.beforeSendDeferred?n.beforeSendDeferred(c.id,n.uploadFile.data).done(function(){onSend()}):onSend()},_ajax:{send:function(el,formData,c){return c.ajax=$.ajax({url:n.uploadFile.url,data:formData,type:n.uploadFile.type,enctype:n.uploadFile.enctype,xhr:function(){var myXhr=$.ajaxSettings.xhr();return myXhr.upload&&myXhr.upload.addEventListener("progress",function(e){f._ajax.progressHandling(e,el)},!1),myXhr},complete:function(jqXHR,textStatus){c.ajax=!1,f._ajFc++,f.files&&f._ajFc>=f.files.length&&(f._ajFc=0,null!=n.uploadFile.onComplete&&"function"==typeof n.uploadFile.onComplete&&n.uploadFile.onComplete(l,p,o,s,jqXHR,textStatus))},beforeSend:function(jqXHR,settings){return null==n.uploadFile.beforeSend||"function"!=typeof n.uploadFile.beforeSend||n.uploadFile.beforeSend(el,l,p,o,s,c.id,jqXHR,settings)},success:function(data,textStatus,jqXHR){c.uploaded=!0,null!=n.uploadFile.success&&"function"==typeof n.uploadFile.success&&n.uploadFile.success(data,el,l,p,o,s,c.id,textStatus,jqXHR),null!=n.uploadFile.done&&"function"==typeof n.uploadFile.done&&n.uploadFile.done(data,el,l,p,o,s,c.id,textStatus,jqXHR)},error:function(jqXHR,textStatus,errorThrown){c.uploaded=!1,null!=n.uploadFile.error&&"function"==typeof n.uploadFile.error&&n.uploadFile.error(el,l,p,o,s,c.id,jqXHR,textStatus,errorThrown),null!=n.uploadFile.fail&&"function"==typeof n.uploadFile.fail&&n.uploadFile.fail(el,l,p,o,s,c.id,jqXHR,textStatus,errorThrown)},statusCode:n.uploadFile.statusCode,cache:!1,contentType:!1,processData:!1}),c.ajax},progressHandling:function(e,el){if(e.lengthComputable){var t=Math.round(100*e.loaded/e.total).toString();null!=n.uploadFile.onProgress&&"function"==typeof n.uploadFile.onProgress&&n.uploadFile.onProgress(t,el,l,p,o,s),el.find(".jFiler-jProgressBar").find(n.templates._selectors.progressBar).css("width",t+"%")}}},_dragDrop:{dragEnter:function(e){e.preventDefault(),e.stopPropagation(),p.addClass("dragged"),f._set("feedback",n.captions.drop),null!=n.dragDrop.dragEnter&&"function"==typeof n.dragDrop.dragEnter&&n.dragDrop.dragEnter(e,o,s,p)},dragLeave:function(e){if(e.preventDefault(),e.stopPropagation(),!f._dragDrop._dragLeaveCheck(e))return!1;p.removeClass("dragged"),f._set("feedback",n.captions.feedback),null!=n.dragDrop.dragLeave&&"function"==typeof n.dragDrop.dragLeave&&n.dragDrop.dragLeave(e,o,s,p)},drop:function(e){e.preventDefault(),p.removeClass("dragged"),f._set("feedback",n.captions.feedback),e&&e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files&&0<e.originalEvent.dataTransfer.files.length&&f._onChange(e,e.originalEvent.dataTransfer.files),null!=n.dragDrop.drop&&"function"==typeof n.dragDrop.drop&&n.dragDrop.drop(e.originalEvent.dataTransfer.files,e,o,s,p)},_dragLeaveCheck:function(e){var related=e.relatedTarget,inside=!1;return related===o||(related&&(inside=$.contains(o,related)),!inside)}},_clipboardPaste:function(e,fromDrop){if((fromDrop||e.originalEvent.clipboardData||e.originalEvent.clipboardData.items)&&(!fromDrop||e.originalEvent.dataTransfer||e.originalEvent.dataTransfer.items)&&!f._clPsePre){var items=fromDrop?e.originalEvent.dataTransfer.items:e.originalEvent.clipboardData.items,b64toBlob=function(b64Data,contentType,sliceSize){contentType=contentType||"",sliceSize=sliceSize||512;for(var byteCharacters=atob(b64Data),byteArrays=[],offset=0;offset<byteCharacters.length;offset+=sliceSize){for(var slice=byteCharacters.slice(offset,offset+sliceSize),byteNumbers=new Array(slice.length),i=0;i<slice.length;i++)byteNumbers[i]=slice.charCodeAt(i);var byteArray=new Uint8Array(byteNumbers);byteArrays.push(byteArray)}return new Blob(byteArrays,{type:contentType})};if(items)for(var i=0;i<items.length;i++)if(-1!==items[i].type.indexOf("image")||-1!==items[i].type.indexOf("text/uri-list")){if(fromDrop)try{window.atob(e.originalEvent.dataTransfer.getData("text/uri-list").toString().split(",")[1])}catch(e){return}var blob=fromDrop?b64toBlob(e.originalEvent.dataTransfer.getData("text/uri-list").toString().split(",")[1],"image/png"):items[i].getAsFile();blob.name=Math.random().toString(36).substring(5),blob.name+=-1!=blob.type.indexOf("/")?"."+blob.type.split("/")[1].toString().toLowerCase():".png",f._onChange(e,[blob]),f._clPsePre=setTimeout(function(){delete f._clPsePre},1e3)}}},_onSelect:function(i){n.uploadFile&&!$.isEmptyObject(n.uploadFile)&&f._upload(i),null!=n.onSelect&&"function"==typeof n.onSelect&&n.onSelect(f.files[i],f._itFc.html,l,p,o,s),i+1>=f.files.length&&null!=n.afterShow&&"function"==typeof n.afterShow&&n.afterShow(l,p,o,s)},_onChange:function(e,d){if(d){if(!d||0==d.length)return f._set("input",""),f._clear(),!1;f.files=d}else{if(!s.get(0).files||"undefined"==typeof s.get(0).files||0==s.get(0).files.length)return n.uploadFile||n.addMore||(f._set("input",""),f._clear()),!1;f.files=s.get(0).files}if(n.uploadFile||n.addMore||f._reset(!0),s.prop("jFiler").files=f.files,!f._filesCheck()||null!=n.beforeSelect&&"function"==typeof n.beforeSelect&&!n.beforeSelect(f.files,l,p,o,s))return f._set("input",""),f._clear(),!1;if(f._set("feedback",f.files.length+f._itFl.length+" "+n.captions.feedback2),n.showThumbs)f._thumbCreator._box();else for(var i=0;i<f.files.length;i++)f.files[i]._choosed=!0,f._addToMemory(i),f._onSelect(i);if(!n.uploadFile&&n.addMore){var elem=$('<input type="file" />'),attributes=s.prop("attributes");$.each(attributes,function(){elem.attr(this.name,this.value)}),s.after(elem),f._unbindInput(),sl.push(elem),s=elem,f._bindInput(),f._set("props")}},_append:function(e,data){var files=!!data&&data.files;if(files&&!(files.length<=0)&&(f.files=files,s.prop("jFiler").files=f.files,n.showThumbs)){for(var i=0;i<f.files.length;i++)f.files[i]._appended=!0;f._thumbCreator._box()}},_getList:function(e,data){var files=!!data&&data.files;if(files&&!(files.length<=0)&&(f.files=files,s.prop("jFiler").files=f.files,n.showThumbs)){for(var returnData=[],i=0;i<f.files.length;i++)f.files[i].forList=!0,returnData.push(f._thumbCreator.create(i));data.callback&&data.callback(returnData,l,p,o,s)}},_retryUpload:function(e,data){var id=parseInt("object"==typeof data?data.attr("data-jfiler-index"):data),obj=f._itFl.filter(function(value){return value.id==id});return 0<obj.length&&(!n.uploadFile||$.isEmptyObject(n.uploadFile)||obj[0].uploaded?void 0:(f._itFc=obj[0],s.prop("jFiler").current_file=f._itFc,f._upload(id),!0))},_remove:function(e,el){if(el.binded){if("undefined"!=typeof el.data.id&&0==(el=l.find(n.templates._selectors.item+"[data-jfiler-index='"+el.data.id+"']")).length)return!1;el.data.el&&(el=el.data.el)}var attrId=el.get(0).jfiler_id||el.attr("data-jfiler-index"),id=null,excl_input=function(id){var input=p.find("input[name^='jfiler-items-exclude-']:hidden").first(),item=f._itFl[id],val=[];if(0==input.length&&(input=$('<input type="hidden" name="jfiler-items-exclude-'+(n.excludeName?n.excludeName:("[]"!=s.attr("name").slice(-2)?s.attr("name"):s.attr("name").substring(0,s.attr("name").length-2))+"-"+t)+'">')).appendTo(p),item.file._choosed||item.file._appended||item.uploaded){if(f._prEr=!0,f._itFr.push(item),n.addMore){var current_input=item.input,count_same_input=0;f._itFl.filter(function(val){val.file._choosed&&val.input.get(0)==current_input.get(0)&&count_same_input++}),1==count_same_input&&(f._itFr=f._itFr.filter(function(val){return!val.file._choosed||val.input.get(0)!=current_input.get(0)}),current_input.val(""),f._prEr=!1)}for(var i=0;i<f._itFr.length;i++)val.push(f._itFr[i].file.name);val=JSON.stringify(val),input.val(val)}},callback=function(el,id){excl_input(id),f._itFl.splice(id,1),f._itFl.length<1?(f._reset(),f._clear()):f._set("feedback",f._itFl.length+" "+n.captions.feedback2),el.fadeOut("fast",function(){$(this).remove()})};for(var key in f._itFl)"length"!==key&&f._itFl.hasOwnProperty(key)&&f._itFl[key].id==attrId&&(id=key);return!!f._itFl.hasOwnProperty(id)&&(f._itFl[id].ajax?(f._itFl[id].ajax.abort(),void callback(el,id)):(null!=n.onRemove&&"function"==typeof n.onRemove&&n.onRemove(el,f._itFl[id].file,id,l,p,o,s),callback(el,id),void(null!=n.afterRemove&&"function"==typeof n.afterRemove&&n.afterRemove(el,l,p,o,s))))},_addToMemory:function(i){f._itFl.push({id:f._itFl.length,file:f.files[i],html:$(),ajax:!1,uploaded:!1}),n.addMore&&!f.files[i]._appended&&(f._itFl[f._itFl.length-1].input=s),f._itFc=f._itFl[f._itFl.length-1],s.prop("jFiler").files_list=f._itFl,s.prop("jFiler").current_file=f._itFc},_assets:{bytesToSize:function(bytes){if(0==bytes)return"";var k=1e3,sizes=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(bytes)/Math.log(k));return(bytes/Math.pow(k,i)).toPrecision(3)+" "+sizes[i]},hasAttr:function(attr,el){var a=(el=el||s).attr(attr);return!(!a||void 0===a)},getIcon:function(ext,type){var types=["audio","image","text","video"],el=$("<i></i>");return-1<$.inArray(type,types)?el.addClass("far fa-file-"+type+" jfi-file-ext-"+ext):el.addClass("far fa-file jfi-file-type-"+type+" jfi-file-ext-"+ext),$("<div>").append(el).html()},textParse:function(text,opts){var escapeHtml=function(string){return $("<div>").text(string).html().replace(/'/g,"&apos;").replace(/"/g,"&quot;")};switch(opts=$.extend({},{limit:n.limit,maxSize:n.maxSize,extensions:n.extensions?n.extensions.join(","):null},opts&&$.isPlainObject(opts)?opts:{},n.options),typeof text){case"string":return text.replace(/\{\{\{fi-(.*?)\}\}\}/g,function(match,a){return(a=a.replace(/ /g,"")).match(/(.*?)\|limitTo\:(\d+)/)?a.replace(/(.*?)\|limitTo\:(\d+)/,function(match,a,b){var str=(a=opts[a]?escapeHtml(opts[a]):"").substring(0,b);return str=a.length>str.length?str.substring(0,str.length-3)+"...":str}):opts[a]?escapeHtml(opts[a]):""}).replace(/\{\{fi-(.*?)\}\}/g,function(match,a){return a=a.replace(/ /g,""),opts[a]?opts[a]:""});case"function":return text(opts);default:return text}},text2Color:function(str){if(!str||0==str.length)return!1;for(var i=0,hash=0;i<str.length;hash=str.charCodeAt(i++)+((hash<<5)-hash));i=0;for(var colour="#";i<3;colour+=("00"+(hash>>2*i++&255).toString(16)).slice(-2));return colour}},files:null,_itFl:[],_itFc:null,_itFr:[],_ajFc:0,_prEr:!1};return s.on("filer.append",function(e,data){f._append(e,data)}).on("filer.remove",function(e,data){data.binded=!0,f._remove(e,data)}).on("filer.reset",function(){return f._reset(),f._clear(),!0}).on("filer.generateList",function(e,data){return f._getList(e,data)}).on("filer.retry",function(e,data){return f._retryUpload(e,data)}),f.init(),this})},$.fn.filer.defaults={limit:null,maxSize:null,extensions:null,changeInput:!0,showThumbs:!1,allowDuplicates:!1,appendTo:null,theme:"default",templates:{box:'<ul class="jFiler-items-list jFiler-items-default"></ul>',item:'<li class="jFiler-item"><div class="jFiler-item-container"><div class="jFiler-item-inner"><div class="jFiler-item-icon pull-left">{{fi-icon}}</div><div class="jFiler-item-info pull-left"><div class="jFiler-item-title" title="{{fi-name}}">{{fi-name | limitTo:30}}</div><div class="jFiler-item-others"><span>size: {{fi-size2}}</span><span>type: {{fi-extension}}</span><span class="jFiler-item-status">{{fi-progressBar}}</span></div><div class="jFiler-item-assets"><ul class="list-inline"><li><a class="far fa-trash-alt jFiler-item-trash-action"></a></li></ul></div></div></div></div></li>',itemAppend:'<li class="jFiler-item"><div class="jFiler-item-container"><div class="jFiler-item-inner"><div class="jFiler-item-icon pull-left">{{fi-icon}}</div><div class="jFiler-item-info pull-left"><div class="jFiler-item-title">{{fi-name | limitTo:35}}</div><div class="jFiler-item-others"><span>size: {{fi-size2}}</span><span>type: {{fi-extension}}</span><span class="jFiler-item-status"></span></div><div class="jFiler-item-assets"><ul class="list-inline"><li><a class="far fa-trash-alt jFiler-item-trash-action"></a></li></ul></div></div></div></div></li>',progressBar:'<div class="bar"></div>',itemAppendToEnd:!1,removeConfirmation:!0,_selectors:{list:".jFiler-items-list",item:".jFiler-item",progressBar:".bar",remove:".jFiler-item-trash-action"}},files:null,uploadFile:null,dragDrop:null,addMore:!1,clipBoardPaste:!0,excludeName:null,beforeRender:null,afterRender:null,beforeShow:null,beforeSelect:null,onSelect:null,afterShow:null,onRemove:null,afterRemove:null,beforeSendDeferred:null,onEmpty:null,options:null,captions:{button:"Choose Files",feedback:"Choose files To Upload",feedback2:"files were chosen",drop:"Drop file here to Upload",removeConfirmation:"Are you sure you want to remove this file?",errors:{filesLimit:"Only {{fi-limit}} files are allowed to be uploaded.",filesType:"Only Images are allowed to be uploaded.",filesSize:"{{fi-name}} is too large! Please upload file up to {{fi-maxSize}} MB.",filesSizeAll:"Files you've choosed are too large! Please upload files up to {{fi-maxSize}} MB."}}}}(jQuery),
/*!
 * jQuery Placeholder Plugin v2.3.1
 * https://github.com/mathiasbynens/jquery-placeholder
 *
 * Copyright 2011, 2015 Mathias Bynens
 * Released under the MIT license
 */
function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?factory(require("jquery")):factory(jQuery)}(function($){function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;return $.each(elem.attributes,function(i,attr){attr.specified&&!rinlinejQuery.test(attr.name)&&(newAttrs[attr.name]=attr.value)}),newAttrs}function clearPlaceholder(event,value){var input=this,$input=$(this);if(input.value===$input.attr(debugMode?"placeholder-x":"placeholder")&&$input.hasClass(settings.customClass))if(input.value="",$input.removeClass(settings.customClass),$input.data("placeholder-password")){if($input=$input.hide().nextAll('input[type="password"]:first').show().attr("id",$input.removeAttr("id").data("placeholder-id")),!0===event)return $input[0].value=value;$input.focus()}else input==safeActiveElement()&&input.select()}function setPlaceholder(event){var $replacement,input=this,$input=$(this),id=input.id;if(!event||"blur"!==event.type||!$input.hasClass(settings.customClass))if(""===input.value){if("password"===input.type){if(!$input.data("placeholder-textinput")){try{$replacement=$input.clone().prop({type:"text"})}catch(e){$replacement=$("<input>").attr($.extend(args(this),{type:"text"}))}$replacement.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":$input,"placeholder-id":id}).bind("focus.placeholder",clearPlaceholder),$input.data({"placeholder-textinput":$replacement,"placeholder-id":id}).before($replacement)}input.value="",$input=$input.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",$input.data("placeholder-id")).show()}else{var $passwordInput=$input.data("placeholder-password");$passwordInput&&($passwordInput[0].value="",$input.attr("id",$input.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}$input.addClass(settings.customClass),$input[0].value=$input.attr(debugMode?"placeholder-x":"placeholder")}else $input.removeClass(settings.customClass)}function safeActiveElement(){try{return document.activeElement}catch(exception){}}var hooks,placeholder,debugMode=!1,isOperaMini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),isInputSupported="placeholder"in document.createElement("input")&&!isOperaMini&&!debugMode,isTextareaSupported="placeholder"in document.createElement("textarea")&&!isOperaMini&&!debugMode,valHooks=$.valHooks,propHooks=$.propHooks,settings={};isInputSupported&&isTextareaSupported?((placeholder=$.fn.placeholder=function(){return this}).input=!0,placeholder.textarea=!0):((placeholder=$.fn.placeholder=function(options){var defaults={customClass:"placeholder"};return settings=$.extend({},defaults,options),this.filter((isInputSupported?"textarea":":input")+"["+(debugMode?"placeholder-x":"placeholder")+"]").not("."+settings.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":clearPlaceholder,"blur.placeholder":setPlaceholder}).data("placeholder-enabled",!0).trigger("blur.placeholder")}).input=isInputSupported,placeholder.textarea=isTextareaSupported,hooks={get:function(element){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value:$element.data("placeholder-enabled")&&$element.hasClass(settings.customClass)?"":element.value},set:function(element,value){var $replacement,$passwordInput,$element=$(element);return""!==value&&($replacement=$element.data("placeholder-textinput"),$passwordInput=$element.data("placeholder-password"),$replacement?(clearPlaceholder.call($replacement[0],!0,value)||(element.value=value),$replacement[0].value=value):$passwordInput&&(clearPlaceholder.call(element,!0,value)||($passwordInput[0].value=value),element.value=value)),$element.data("placeholder-enabled")?""===value?(element.value=value,element!=safeActiveElement()&&setPlaceholder.call(element)):($element.hasClass(settings.customClass)&&clearPlaceholder.call(element),element.value=value):element.value=value,$element}},isInputSupported||(valHooks.input=hooks,propHooks.value=hooks),isTextareaSupported||(valHooks.textarea=hooks,propHooks.value=hooks),$(function(){$(document).delegate("form","submit.placeholder",function(){var $inputs=$("."+settings.customClass,this).each(function(){clearPlaceholder.call(this,!0,"")});setTimeout(function(){$inputs.each(setPlaceholder)},10)})}),$(window).bind("beforeunload.placeholder",function(){var clearPlaceholders=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(clearPlaceholders=!1)}catch(exception){}clearPlaceholders&&$("."+settings.customClass).each(function(){this.value=""})}))}),$.extend({inspect:function(obj,n){for(var p in n=n||"this",obj){if($.isPlainObject(obj[p]))return void $.inspect(obj[p],n+"."+p);console.log(n+"."+p.toString()+" = "+obj[p])}}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function assign(target){"use strict";if(null==target)throw new TypeError("Cannot convert undefined or null to object");for(var to=Object(target),index=1;index<arguments.length;index++){var nextSource=arguments[index];if(null!=nextSource)for(var nextKey in nextSource)Object.prototype.hasOwnProperty.call(nextSource,nextKey)&&(to[nextKey]=nextSource[nextKey])}return to},writable:!0,configurable:!0}),function($){function parseParam(url,paramName){var p=paramName.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),results=new RegExp("[\\?&]"+p+"=([^&#]*)").exec(url);return null===results?null:decodeURIComponent(results[1].replace(/\+/g," "))}$.getParam=function(paramName){return parseParam(location.search,paramName)},$.withParam=function(url,paramName,value){var s=url.split(/#/,2);return parseParam(url,paramName)===value?url:s[0]+(s[0].match(/\?/)?"&":"?")+encodeURIComponent(paramName)+"="+encodeURIComponent(value)+(s[1]?"#"+s[1]:"")}}(jQuery),navigator.userAgent.match(/Windows/)&&$("html").addClass("windows"),navigator.userAgent.match(/Safari/)&&!navigator.userAgent.match(/Chrome/)&&$("html").addClass("safari"),navigator.userAgent.match(/Firefox/)&&$("html").addClass("firefox"),navigator.userAgent.match(/Chrome/)&&$("html").addClass("chrome"),function(){$(document).on("click focus mouseover",".user-fragment a, .user-links a, .email-container a",function(){var href;if($(this).attr("target","_blank").attr("rel","noopener"),(href=$(this).attr("href"))&&!href.match(/^[a-z]+?:/i))return $(this).attr("href","http://"+$(this).attr("href"))})}.call(this),function(exports){function extend(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}function getOverrides(eventType,options){if("KeyboardEvent"===eventType&&options)return{keyCode:options.keyCode||0,key:options.key||0,which:options.which||options.keyCode||0}}var hasOwnProperty=Object.prototype.hasOwnProperty,eventOptions={UIEvent:function(){return{view:document.defaultView}},FocusEvent:function(){return eventOptions.UIEvent.apply(this,arguments)},MouseEvent:function(type){return{button:0,bubbles:"mouseenter"!==type&&"mouseleave"!==type,cancelable:"mouseenter"!==type&&"mouseleave"!==type,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,clientX:1,clientY:1,screenX:0,screenY:0,view:document.defaultView,relatedTarget:document.documentElement}},WheelEvent:function(){return eventOptions.MouseEvent.apply(this,arguments)},KeyboardEvent:function(){return{view:document.defaultView,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0}}},eventTypes={beforeprint:"Event",afterprint:"Event",beforeunload:"Event",abort:"Event",error:"Event",change:"Event",submit:"Event",reset:"Event",cached:"Event",canplay:"Event",canplaythrough:"Event",chargingchange:"Event",chargingtimechange:"Event",checking:"Event",close:"Event",downloading:"Event",durationchange:"Event",emptied:"Event",ended:"Event",fullscreenchange:"Event",fullscreenerror:"Event",invalid:"Event",levelchange:"Event",loadeddata:"Event",loadedmetadata:"Event",noupdate:"Event",obsolete:"Event",offline:"Event",online:"Event",open:"Event",orientationchange:"Event",pause:"Event",pointerlockchange:"Event",pointerlockerror:"Event",copy:"Event",cut:"Event",paste:"Event",play:"Event",playing:"Event",ratechange:"Event",readystatechange:"Event",seeked:"Event",seeking:"Event",stalled:"Event",success:"Event",suspend:"Event",timeupdate:"Event",updateready:"Event",visibilitychange:"Event",volumechange:"Event",waiting:"Event",load:"UIEvent",unload:"UIEvent",resize:"UIEvent",scroll:"UIEvent",select:"UIEvent",drag:"MouseEvent",dragenter:"MouseEvent",dragleave:"MouseEvent",dragover:"MouseEvent",dragstart:"MouseEvent",dragend:"MouseEvent",drop:"MouseEvent",touchcancel:"UIEvent",touchend:"UIEvent",touchenter:"UIEvent",touchleave:"UIEvent",touchmove:"UIEvent",touchstart:"UIEvent",blur:"UIEvent",focus:"UIEvent",focusin:"UIEvent",focusout:"UIEvent",input:"UIEvent",show:"MouseEvent",click:"MouseEvent",dblclick:"MouseEvent",mouseenter:"MouseEvent",mouseleave:"MouseEvent",mousedown:"MouseEvent",mouseup:"MouseEvent",mouseover:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",contextmenu:"MouseEvent",wheel:"WheelEvent",message:"MessageEvent",storage:"StorageEvent",timeout:"StorageEvent",keydown:"KeyboardEvent",keypress:"KeyboardEvent",keyup:"KeyboardEvent",progress:"ProgressEvent",loadend:"ProgressEvent",loadstart:"ProgressEvent",popstate:"PopStateEvent",hashchange:"HashChangeEvent",transitionend:"TransitionEvent",compositionend:"CompositionEvent",compositionstart:"CompositionEvent",compositionupdate:"CompositionEvent",pagehide:"PageTransitionEvent",pageshow:"PageTransitionEvent"},eventInit={Event:"initEvent",UIEvent:"initUIEvent",FocusEvent:"initUIEvent",MouseEvent:"initMouseEvent",WheelEvent:"initMouseEvent",MessageEvent:"initMessageEvent",StorageEvent:"initStorageEvent",KeyboardEvent:"initKeyboardEvent",ProgressEvent:"initEvent",PopStateEvent:"initEvent",TransitionEvent:"initEvent",HashChangeEvent:"initHashChangeEvent",CompositionEvent:"initCompositionEvent",DeviceMotionEvent:"initDeviceMotionEvent",PageTransitionEvent:"initEvent",DeviceOrientationEvent:"initDeviceOrientationEvent"},eventParameters={initEvent:[],initUIEvent:["view","detail"],initKeyboardEvent:["view","char","key","location","modifiersList","repeat","locale"],initKeyEvent:["view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initMouseEvent:["view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initHashChangeEvent:["oldURL","newURL"],initCompositionEvent:["view","data","locale"],initDeviceMotionEvent:["acceleration","accelerationIncludingGravity","rotationRate","interval"],initDeviceOrientationEvent:["alpha","beta","gamma","absolute"],initMessageEvent:["data","origin","lastEventId","source"],initStorageEvent:["key","oldValue","newValue","url","storageArea"]},eventConstructors={UIEvent:window.UIEvent,FocusEvent:window.FocusEvent,MouseEvent:window.MouseEvent,WheelEvent:window.MouseEvent,KeyboardEvent:window.KeyboardEvent};exports.generate=function(type,options){if(!eventTypes.hasOwnProperty(type))throw new SyntaxError("Unsupported event type");var event,key,eventType=eventTypes[type],overrides=getOverrides(eventType,options);options instanceof window.Event||(options=eventType in eventOptions?extend({bubbles:!0,cancelable:!0},eventOptions[eventType](type,options),options):extend({bubbles:!0,cancelable:!0},options));var Constructor=eventConstructors[eventType]||window.Event;try{for(key in event=new Constructor(type,options),overrides)Object.defineProperty(event,key,{value:overrides[key]});return event}catch(e){}var ua=window.navigator.userAgent.toLowerCase();0<=Math.max(ua.indexOf("msie"),ua.indexOf("trident"))&&"KeyboardEvent"===eventType&&(eventType="UIEvent");var initEvent=eventInit[eventType];if(!document.createEvent){for(key in event=extend(document.createEventObject(),options),overrides)Object.defineProperty(event,key,{value:overrides[key]});return event}if(event=extend(document.createEvent(eventType),options),"initKeyboardEvent"===initEvent)if(void 0===event[initEvent])initEvent="initKeyEvent";else if(!("modifiersList"in options)){var mods=[];options.metaKey&&mods.push("Meta"),options.altKey&&mods.push("Alt"),options.shiftKey&&mods.push("Shift"),options.ctrlKey&&mods.push("Control"),options.modifiersList=mods.join(" ")}var args=eventParameters[initEvent].map(function(parameter){return options[parameter]});for(key in event[initEvent].apply(event,[type,options.bubbles,options.cancelable].concat(args)),overrides)Object.defineProperty(event,key,{value:overrides[key]});return event},exports.simulate=function(element,type,options){var event=exports.generate(type,options);return document.createEvent?element.dispatchEvent(event):element.fireEvent("on"+type,event)}}(window.simulateEvent={}),String.prototype.toProperCase||(String.prototype.toProperCase=function(){return this.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})}),String.prototype.toCapitalStart||(String.prototype.toCapitalStart=function(){return this.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1)})}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.toPermalink||(String.prototype.toPermalink=function(){return this.replace(/[^a-z0-9 ]/,"").gsub(/ +/,"-")}),String.prototype.getParameter||(String.prototype.getParameter=function(name){var i,val,params=this.split("&");for(i=0;i<params.length;i++)if((val=params[i].split("="))[0]===name)return decodeURIComponent(val[1]);return null}),String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value:function(search,start){return"number"!=typeof start&&(start=0),!(start+search.length>this.length)&&-1!==this.indexOf(search,start)},configurable:!0,writable:!0});
/*!
 *  2014 Second Street, MIT License <http://opensource.org/licenses/MIT>
 * Talker.js 1.0.1 <http://github.com/secondstreet/talker.js>
 */
var TALKER_TYPE="application/x-talkerjs-v1+json",TALKER_ERR_TIMEOUT="timeout",objectCreate=function(proto){function ctor(){}return ctor.prototype=proto,new ctor},defer=function(){var deferred={};return deferred.promise=new window.Promise(function(resolve,reject){deferred.resolve=resolve,deferred.reject=reject}),deferred},Talker=function(remoteWindow,remoteOrigin){return this.remoteWindow=remoteWindow,this.remoteOrigin=remoteOrigin,this.timeout=3e3,this.handshaken=!1,this.defferedHandhake=defer(),this.handshake=this.defferedHandhake.promise,this._id=0,this._queue=[],this._sent={},this._listener=this._receiveMessage.bind(this),window.addEventListener("message",this._listener,!1),this._sendHandshake(),this};Talker.prototype.destroy=function(){window.removeEventListener("message",this._listener)},Talker.prototype.send=function(namespace,data,responseToId){var message=new Talker.OutgoingMessage(this,namespace,data,responseToId),self=this;return new window.Promise(function(resolve,reject){self._sent[message.id]=resolve,self._queue.push(message),self._flushQueue(),setTimeout(function(){reject(new Error(TALKER_ERR_TIMEOUT))},self.timeout)})},Talker.prototype.emit=function(namespace,data,responseToId){var message=new Talker.OutgoingMessage(this,namespace,data,responseToId);this._queue.push(message),this._flushQueue()},Talker.prototype._receiveMessage=function(messageEvent){var object;try{object=JSON.parse(messageEvent.data)}catch(_e){object={}}return!!this._isSafeMessage(messageEvent.source,messageEvent.origin,object.type)&&(object.handshake||object.handshakeConfirmation?this._handleHandshake(object):this._handleMessage(object))},Talker.prototype._isSafeMessage=function(source,origin,type){var safeSource,safeOrigin;return safeSource=source===this.remoteWindow,safeOrigin="*"===this.remoteOrigin||origin===this.remoteOrigin,safeSource&&safeOrigin&&type===TALKER_TYPE},Talker.prototype._handleHandshake=function(object){object.handshake&&this._sendHandshake(this.handshaken),this.handshaken=!0,this.defferedHandhake.resolve(this.handshaken),this._flushQueue()},Talker.prototype._handleMessage=function(rawObject){var message=new Talker.IncomingMessage(this,rawObject.namespace,rawObject.data,rawObject.id),responseId=rawObject.responseToId;return responseId?this._respondToMessage(responseId,message):this._broadcastMessage(message)},Talker.prototype._respondToMessage=function(id,message){this._sent[id]&&(this._sent[id](message),delete this._sent[id])},Talker.prototype._broadcastMessage=function(message){this.onMessage&&this.onMessage.call(this,message)},Talker.prototype._sendHandshake=function(confirmation){var message={type:TALKER_TYPE};message[confirmation?"handshakeConfirmation":"handshake"]=!0,this._postMessage(message)},Talker.prototype._nextId=function(){return this._id+=1},Talker.prototype._postMessage=function(data){this.remoteWindow&&this.remoteOrigin&&this.remoteWindow.postMessage(JSON.stringify(data),this.remoteOrigin)},Talker.prototype._flushQueue=function(){if(this.handshaken){var message=this._queue.shift();if(!message)return this._queue;if(this._postMessage(message),0<this._queue.length)return this._flushQueue()}return this._queue},Talker.Message=function(talker,namespace,data){return this.talker=talker,this.namespace=namespace,this.data=data,this.type=TALKER_TYPE,this},Talker.OutgoingMessage=function(talker,namespace,data,responseToId){Talker.Message.call(this,talker,namespace,data),this.responseToId=responseToId||null,this.id=this.talker._nextId()},Talker.OutgoingMessage.prototype=objectCreate(Talker.Message.prototype),Talker.OutgoingMessage.prototype.constructor=Talker.Message,Talker.OutgoingMessage.prototype.toJSON=function(){return{id:this.id,responseToId:this.responseToId,namespace:this.namespace,data:this.data,type:this.type}},Talker.IncomingMessage=function(talker,namespace,data,id){Talker.Message.call(this,talker,namespace,data),this.id=id},Talker.IncomingMessage.prototype=objectCreate(Talker.Message.prototype),Talker.IncomingMessage.prototype.constructor=Talker.Message,Talker.IncomingMessage.prototype.respond=function(data){return this.talker.send(null,data,this.id)},Talker.IncomingMessage.prototype.terminate=function(data){return this.talker.emit(null,data,this.id)},"object"==typeof exports&&"undefined"!=typeof module?module.exports=Talker:window.Talker=Talker,function(){$(document).on("click",'.user-fragment a[href="http://#terms"], .user-fragment a[href="#terms"], .user-links a[href="http://#terms"], .user-links a[href="#terms"]',function(e){var scope;return(scope=$(this).closest("[ng-controller]").scope()).toggleTermsAndConditions(),scope.$apply(),e.preventDefault()})}.call(this),function(){window.trackEvent=function(dataStr){var eventParams,extras,i,j,len,len1,name,parts,position,ref,ref1,replaced,s;for(parts=(replaced=dataStr.replace(/###APP_NAME###/i,window.actionMarketingAppName)).split(/\|/),eventParams={},position=i=0,len=(ref={event_category:1,event_label:2,value:3}).length;i<len;position=++i)name=ref[position],parts.length>position&&(eventParams[name]=parts[position]);if("undefined"!=typeof gtag&&null!==gtag)return gtag("event",event,eventParams);if("undefined"!=typeof ga&&null!==ga){for(extras=[],j=0,len1=(ref1=replaced.split(/\|/)).length;j<len1;j++)s=ref1[j],extras.push(s.toProperCase());return ga.apply(window,["send","event"].concat(extras))}},window.trackPageview=function(dataStr){return"undefined"!=typeof gtag&&null!==gtag?gtag("event","page_view",{page_path:dataStr,page_location:window.location.origin+dataStr}):"undefined"!=typeof ga&&null!==ga?ga.apply(window,["send","pageview"].concat(dataStr.split(/\|/))):void 0},$(document).on("click","[data-track-event]",function(){return trackEvent($(this).data("track-event"))}).on("click mouseenter focus","a[data-expid]",function(){var experiment,hrefWithParam;return experiment=$(this).data("expid"),hrefWithParam=$.withParam($(this).attr("href"),"expid",experiment),$(this).attr("href",hrefWithParam)}).on("click","[data-track-pageview]",function(){if(!window.newDashboardEnabled)return trackPageview($(this).data("track-pageview"))}).on("click","[data-track-ahoy-name]",function(){return ahoy.track($(this).data("track-ahoy-name"),$(this).data("track-ahoy-props")||{})})}.call(this),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function isObjectEmpty(obj){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(obj).length;var k;for(k in obj)if(hasOwnProp(obj,k))return!1;return!0}function isUndefined(input){return void 0===input}function isNumber(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidEra&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.weekdayMismatch&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&flags.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),0<momentProperties.length)for(i=0;i<momentProperties.length;i++)isUndefined(val=from[prop=momentProperties[i]])||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function warn(msg){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(argument_0){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){var arg,i,key,args=[];for(i=0;i<arguments.length;i++){if(arg="","object"==typeof arguments[i]){for(key in arg+="\n["+i+"] ",argument_0)hasOwnProp(arguments[0],key)&&(arg+=key+": "+arguments[0][key]+", ");arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack),firstTime=!1}return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return"undefined"!=typeof Function&&input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function set(config){var prop,i;for(i in config)hasOwnProp(config,i)&&(isFunction(prop=config[i])?this[i]=prop:this["_"+i]=prop);this._config=config,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}function calendar(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length;return(0<=number?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var i,output="";for(i=0;i<length;i++)output+=isFunction(array[i])?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;0<=i&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.match(formattingTokens).map(function(tok){return"MMMM"===tok||"MM"===tok||"DD"===tok||"dddd"===tok?tok.slice(1):tok}).join(""),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[0<diff?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:undefined}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var u,units=[];for(u in unitsObj)hasOwnProp(unitsObj,u)&&units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&!isNaN(value)&&("FullYear"===unit&&isLeapYear(mom.year())&&1===mom.month()&&29===mom.date()?(value=toInt(value),mom._d["set"+(mom._isUTC?"UTC":"")+unit](value,mom.month(),daysInMonth(value,mom.month()))):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value))}function stringGet(units){return isFunction(this[units=normalizeUnits(units)])?this[units]():this}function stringSet(units,value){if("object"==typeof units){var i,prioritized=getPrioritizedUnits(units=normalizeObjectUnits(units));for(i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit])}else if(isFunction(this[units=normalizeUnits(units)]))return this[units](value);return this}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function mod(n,x){return(n%x+x)%x}function daysInMonth(year,month){if(isNaN(year)||isNaN(month))return NaN;var modMonth=mod(month,12);return year+=(month-modMonth)/12,1===modMonth?isLeapYear(year)?29:28:31-modMonth%7%2}function localeMonths(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:null:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:null:"MMM"===format?-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:null:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:null}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return handleStrictParse.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(!isNumber(value=mom.localeData().monthsParse(value)))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function daysInYear(year){return isLeapYear(year)?366:365}function getIsLeapYear(){return isLeapYear(this.year())}function createDate(y,m,d,h,M,s,ms){var date;return y<100&&0<=y?(date=new Date(y+400,m,d,h,M,s,ms),isFinite(date.getFullYear())&&date.setFullYear(y)):date=new Date(y,m,d,h,M,s,ms),date}function createUTCDate(y){var date,args;return y<100&&0<=y?((args=Array.prototype.slice.call(arguments))[0]=y+400,date=new Date(Date.UTC.apply(null,args)),isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y)):date=new Date(Date.UTC.apply(null,arguments)),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;return-((7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7)+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+firstWeekOffset(year,dow,doy);return dayOfYear<=0?resDayOfYear=daysInYear(resYear=year-1)+dayOfYear:dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?resWeek=week+weeksInYear(resYear=mom.year()-1,dow,doy):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?"number"==typeof(input=locale.weekdaysParse(input))?input:null:parseInt(input,10)}function parseIsoWeekday(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}function shiftWeekdays(ws,n){return ws.slice(n,7).concat(ws.slice(0,n))}function localeWeekdays(m,format){var weekdays=isArray(this._weekdays)?this._weekdays:this._weekdays[m&&!0!==m&&this._weekdays.isFormat.test(format)?"format":"standalone"];return!0===m?shiftWeekdays(weekdays,this._week.dow):m?weekdays[m.day()]:weekdays}function localeWeekdaysShort(m){return!0===m?shiftWeekdays(this._weekdaysShort,this._week.dow):m?this._weekdaysShort[m.day()]:this._weekdaysShort}function localeWeekdaysMin(m){return!0===m?shiftWeekdays(this._weekdaysMin,this._week.dow):m?this._weekdaysMin[m.day()]:this._weekdaysMin}function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:"dddd"===format?-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:null}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}}function getSetDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;if(null==input)return this.day()||7;var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}function weekdaysRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=createUTC([2e3,1]).day(i),minp=regexEscape(this.weekdaysMin(mom,"")),shortp=regexEscape(this.weekdaysShort(mom,"")),longp=regexEscape(this.weekdays(mom,"")),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return 11<hours?isLower?"pm":"PM":isLower?"am":"AM"}function commonPrefix(arr1,arr2){var i,minl=Math.min(arr1.length,arr2.length);for(i=0;i<minl;i+=1)if(arr1[i]!==arr2[i])return i;return minl}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(j=(split=normalizeLocale(names[i]).split("-")).length,next=(next=normalizeLocale(names[i+1]))?next.split("-"):null;0<j;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&commonPrefix(split,next)>=j-1)break;j--}i++}return globalLocale}function loadLocale(name){var oldLocale=null;if(locales[name]===undefined&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),getSetGlobalLocale(oldLocale)}catch(e){locales[name]=null}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&((data=isUndefined(values)?getLocale(key):defineLocale(key,values))?globalLocale=data:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+key+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(name,config){if(null===config)return delete locales[name],null;var locale,parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale)if(null!=locales[config.parentLocale])parentConfig=locales[config.parentLocale]._config;else{if(null==(locale=loadLocale(config.parentLocale)))return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locale._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}function updateLocale(name,config){if(null!=config){var locale,tmpLocale,parentConfig=baseConfig
;null!=locales[name]&&null!=locales[name].parentLocale?locales[name].set(mergeConfigs(locales[name]._config,config)):(null!=(tmpLocale=loadLocale(name))&&(parentConfig=tmpLocale._config),config=mergeConfigs(parentConfig,config),null==tmpLocale&&(config.abbr=name),(locale=new Locale(config)).parentLocale=locales[name],locales[name]=locale),getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?(locales[name]=locales[name].parentLocale,name===getSetGlobalLocale()&&getSetGlobalLocale(name)):null!=locales[name]&&delete locales[name]);return locales[name]}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function listLocales(){return keys(locales)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||11<a[MONTH]?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||24<a[HOUR]||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||59<a[MINUTE]?MINUTE:a[SECOND]<0||59<a[SECOND]?SECOND:a[MILLISECOND]<0||999<a[MILLISECOND]?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||DATE<overflow)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function extractFromRFC2822Strings(yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result=[untruncateYear(yearStr),defaultLocaleMonthsShort.indexOf(monthStr),parseInt(dayStr,10),parseInt(hourStr,10),parseInt(minuteStr,10)];return secondStr&&result.push(parseInt(secondStr,10)),result}function untruncateYear(yearStr){var year=parseInt(yearStr,10);return year<=49?2e3+year:year<=999?1900+year:year}function preprocessRFC2822(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(weekdayStr,parsedInput,config){if(weekdayStr&&defaultLocaleWeekdaysShort.indexOf(weekdayStr)!==new Date(parsedInput[0],parsedInput[1],parsedInput[2]).getDay())return getParsingFlags(config).weekdayMismatch=!0,config._isValid=!1;return!0}function calculateOffset(obsOffset,militaryOffset,numOffset){if(obsOffset)return obsOffsets[obsOffset];if(militaryOffset)return 0;var hm=parseInt(numOffset,10),m=hm%100;return 60*((hm-m)/100)+m}function configFromRFC2822(config){var parsedArray,match=rfc2822.exec(preprocessRFC2822(config._i));if(match){if(parsedArray=extractFromRFC2822Strings(match[4],match[3],match[2],match[5],match[6],match[7]),!checkWeekday(match[1],parsedArray,config))return;config._a=parsedArray,config._tzm=calculateOffset(match[8],match[9],match[10]),config._d=createUTCDate.apply(null,config._a),config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),getParsingFlags(config).rfc2822=!0}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);null===matched?(configFromISO(config),!1===config._isValid&&(delete config._isValid,configFromRFC2822(config),!1===config._isValid&&(delete config._isValid,config._strict?config._isValid=!1:hooks.createFromInputFallback(config)))):config._d=new Date(+matched[1])}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,expectedWeekday,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),null!=config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),(config._dayOfYear>daysInYear(yearToUse)||0===config._dayOfYear)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),expectedWeekday=config._useUTC?config._d.getUTCDay():config._d.getDay(),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24),config._w&&"undefined"!=typeof config._w.d&&config._w.d!==expectedWeekday&&(getParsingFlags(config).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow,curWeek;null!=(w=config._w).GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),((weekday=defaults(w.E,1))<1||7<weekday)&&(weekdayOverflow=!0)):(dow=config._locale._week.dow,doy=config._locale._week.doy,curWeek=weekOfYear(createLocal(),dow,doy),weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?((weekday=w.d)<0||6<weekday)&&(weekdayOverflow=!0):null!=w.e?(weekday=w.e+dow,(w.e<0||6<w.e)&&(weekdayOverflow=!0)):weekday=dow),week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}function configFromStringAndFormat(config){if(config._f!==hooks.ISO_8601)if(config._f!==hooks.RFC_2822){config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,era,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],(parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0])&&(0<(skipped=string.substr(0,string.indexOf(parsedInput))).length&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,0<string.length&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&!0===getParsingFlags(config).bigHour&&0<config._a[HOUR]&&(getParsingFlags(config).bigHour=undefined),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),null!==(era=getParsingFlags(config).era)&&(config._a[YEAR]=config._locale.erasConvertYear(era,config._a[YEAR])),configFromArray(config),checkOverflow(config)}else configFromRFC2822(config);else configFromISO(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):(null!=locale.isPM&&((isPm=locale.isPM(meridiem))&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0)),hour)}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore,validFormatFound,bestFormatIsValid=!1;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,validFormatFound=!1,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(validFormatFound=!0),currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,bestFormatIsValid?currentScore<scoreToBeat&&(scoreToBeat=currentScore,bestMoment=tempConfig):(null==scoreToBeat||currentScore<scoreToBeat||validFormatFound)&&(scoreToBeat=currentScore,bestMoment=tempConfig,validFormatFound&&(bestFormatIsValid=!0));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i),dayOrDate=i.day===undefined?i.date:i.day;config._a=map([i.year,i.month,dayOrDate,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=undefined),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||format===undefined&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):configFromInput(config),isValid(config)||(config._d=null),config))}function configFromInput(config){var input=config._i;isUndefined(input)?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):isObject(input)?configFromObject(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return!0!==format&&!1!==format||(strict=format,format=undefined),!0!==locale&&!1!==locale||(strict=locale,locale=undefined),(isObject(input)&&isObjectEmpty(input)||isArray(input)&&0===input.length)&&(input=undefined),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function min(){return pickBy("isBefore",[].slice.call(arguments,0))}function max(){return pickBy("isAfter",[].slice.call(arguments,0))}function isDurationValid(m){var key,i,unitHasDecimal=!1;for(key in m)if(hasOwnProp(m,key)&&(-1===indexOf.call(ordering,key)||null!=m[key]&&isNaN(m[key])))return!1;for(i=0;i<ordering.length;++i)if(m[ordering[i]]){if(unitHasDecimal)return!1;parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])&&(unitHasDecimal=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||normalizedInput.isoWeek||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=isDurationValid(normalizedInput),this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return number<0?-1*Math.round(-1*number):Math.round(number)}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var parts,minutes,matches=(string||"").match(matcher);return null===matches?null:0===(minutes=60*(parts=((matches[matches.length-1]||[])+"").match(chunkOffset)||["-",0,0])[1]+toInt(parts[2]))?0:"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset())}function getSetOffset(input,keepLocalTime,keepMinutes){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null==input)return this._isUTC?offset:getDateOffset(this);if("string"==typeof input){if(null===(input=offsetFromString(matchShortOffset,input)))return this}else Math.abs(input)<16&&!keepMinutes&&(input*=60);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60==0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var other,c={};return copyConfig(c,this),(c=prepareConfig(c))._a?(other=c._isUTC?createUTC(c._a):createLocal(c._a),this._isDSTShifted=this.isValid()&&0<compareArrays(c._a,other.toArray())):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)||!isNaN(+input)?(duration={},key?duration[key]=+input:duration.milliseconds=+input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to)),(duration={}).ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),isDuration(input)&&hasOwnProp(input,"_isValid")&&(ret._isValid=input._isValid),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):((res=positiveMomentsDifference(other,base)).milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function createAdder(direction,name){return function(val,period){var tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),addSubtract(this,createDuration(val,period),direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,months&&setMonth(mom,get(mom,"Month")+months*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}function isString(input){return"string"==typeof input||input instanceof String}function isMomentInput(input){return isMoment(input)||isDate(input)||isString(input)||isNumber(input)||isNumberOrStringArray(input)||isMomentInputObject(input)||null===input||input===undefined}function isMomentInputObject(input){var i,property,objectTest=isObject(input)&&!isObjectEmpty(input),propertyTest=!1,properties=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(i=0;i<properties.length;i+=1)property=properties[i],propertyTest=propertyTest||hasOwnProp(input,property);return objectTest&&propertyTest}function isNumberOrStringArray(input){var arrayTest=isArray(input),dataTypeTest=!1;return arrayTest&&(dataTypeTest=0===input.filter(function(item){return!isNumber(item)&&isString(input)}).length),arrayTest&&dataTypeTest}function isCalendarSpec(input){var i,property,objectTest=isObject(input)&&!isObjectEmpty(input),propertyTest=!1,properties=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(i=0;i<properties.length;i+=1)property=properties[i],propertyTest=propertyTest||hasOwnProp(input,property);return objectTest&&propertyTest}function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"}function calendar$1(time,formats){1===arguments.length&&(isMomentInput(arguments[0])?(time=arguments[0],formats=undefined):isCalendarSpec(arguments[0])&&(formats=arguments[0],time=undefined));var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units)||"millisecond")?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())}function isBefore(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units)||"millisecond")?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())}function isBetween(from,to,units,inclusivity){var localFrom=isMoment(from)?from:createLocal(from),localTo=isMoment(to)?to:createLocal(to);return!!(this.isValid()&&localFrom.isValid()&&localTo.isValid())&&(("("===(inclusivity=inclusivity||"()")[0]?this.isAfter(localFrom,units):!this.isBefore(localFrom,units))&&(")"===inclusivity[1]?this.isBefore(localTo,units):!this.isAfter(localTo,units)))}function isSame(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units)||"millisecond")?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,output;if(!this.isValid())return NaN;if(!(that=cloneWithOffset(input,this)).isValid())return NaN;switch(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units)){case"year":output=monthDiff(this,that)/12;break;case"month":output=monthDiff(this,that);break;case"quarter":output=monthDiff(this,that)/3;break;case"second":output=(this-that)/1e3;break;case"minute":output=(this-that)/6e4;break;case"hour":output=(this-that)/36e5;break;case"day":output=(this-that-zoneDelta)/864e5;break;case"week":output=(this-that-zoneDelta)/6048e5;break;default:output=this-that}return asFloat?output:absFloor(output)}function monthDiff(a,b){if(a.date()<b.date())return-monthDiff(b,a);var wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return-(wholeMonthDiff+(b-anchor<0?(b-anchor)/(anchor-a.clone().add(wholeMonthDiff-1,"months")):(b-anchor)/(a.clone().add(wholeMonthDiff+1,"months")-anchor)))||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(keepOffset){if(!this.isValid())return null;var utc=!0!==keepOffset,m=utc?this.clone().utc():this;return m.year()<0||9999<m.year()?formatMoment(m,utc?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?utc?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",formatMoment(m,"Z")):formatMoment(m,utc?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var prefix,year,datetime,suffix,func="moment",zone="";return this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z"),prefix="["+func+'("]',year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",datetime="-MM-DD[T]HH:mm:ss.SSS",suffix=zone+'[")]',this.format(prefix+year+datetime+suffix)}function format(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return key===undefined?this._locale._abbr:(null!=(newLocaleData=getLocale(key))&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function mod$1(dividend,divisor){return(dividend%divisor+divisor)%divisor}function localStartOfDate(y,m,d){return y<100&&0<=y?new Date(y+400,m,d)-MS_PER_400_YEARS:new Date(y,m,d).valueOf()}function utcStartOfDate(y,m,d){return y<100&&0<=y?Date.UTC(y+400,m,d)-MS_PER_400_YEARS:Date.UTC(y,m,d)}function startOf(units){var time,startOfDate;if((units=normalizeUnits(units))===undefined||"millisecond"===units||!this.isValid())return this;switch(startOfDate=this._isUTC?utcStartOfDate:localStartOfDate,units){case"year":time=startOfDate(this.year(),0,1);break;case"quarter":time=startOfDate(this.year(),this.month()-this.month()%3,1);break;case"month":time=startOfDate(this.year(),this.month(),1);break;case"week":time=startOfDate(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":time=startOfDate(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":time=startOfDate(this.year(),this.month(),this.date());break;case"hour":time=this._d.valueOf(),time-=mod$1(time+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":time=this._d.valueOf(),time-=mod$1(time,MS_PER_MINUTE);break;case"second":time=this._d.valueOf(),time-=mod$1(time,MS_PER_SECOND)}return this._d.setTime(time),hooks.updateOffset(this,!0),this}function endOf(units){var time,startOfDate;if((units=normalizeUnits(units))===undefined||"millisecond"===units||!this.isValid())return this;switch(startOfDate=this._isUTC?utcStartOfDate:localStartOfDate,units){case"year":time=startOfDate(this.year()+1,0,1)-1;break;case"quarter":time=startOfDate(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":time=startOfDate(this.year(),this.month()+1,1)-1;break;case"week":time=startOfDate(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":time=startOfDate(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":time=startOfDate(this.year(),this.month(),this.date()+1)-1;break;case"hour":time=this._d.valueOf(),time+=MS_PER_HOUR-mod$1(time+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":time=this._d.valueOf(),time+=MS_PER_MINUTE-mod$1(time,MS_PER_MINUTE)-1;break;case"second":time=this._d.valueOf(),time+=MS_PER_SECOND-mod$1(time,MS_PER_SECOND)-1}return this._d.setTime(time),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function localeEras(){var i,l,date,eras=this._eras||getLocale("en")._eras;for(i=0,l=eras.length;i<l;++i){switch(typeof eras[i].since){case"string":date=hooks(eras[i].since).startOf("day"),eras[i].since=date.valueOf()}switch(typeof eras[i].until){case"undefined":eras[i].until=+Infinity;break;case"string":date=hooks(eras[i].until).startOf("day").valueOf(),eras[i].until=date.valueOf()}}return eras}function localeErasParse(eraName,format,strict){var i,l,name,abbr,narrow,eras=this.eras();for(eraName=eraName.toUpperCase(),i=0,l=eras.length;i<l;++i)if(name=eras[i].name.toUpperCase(),abbr=eras[i].abbr.toUpperCase(),narrow=eras[i].narrow.toUpperCase(),strict)switch(format){case"N":case"NN":case"NNN":if(abbr===eraName)return eras[i];break;case"NNNN":if(name===eraName)return eras[i];break;case"NNNNN":if(narrow===eraName)return eras[i]}else if(0<=[name,abbr,narrow].indexOf(eraName))return eras[i]}function localeErasConvertYear(era,year){var dir=era.since<=era.until?1:-1;return year===undefined?hooks(era.since).year():hooks(era.since).year()+(year-era.offset)*dir}function getEraName(){var i,l,val,eras=this.localeData().eras();for(i=0,l=eras.length;i<l;++i){if(val=this.clone().startOf("day").valueOf(),eras[i].since<=val&&val<=eras[i].until)return eras[i].name;if(eras[i].until<=val&&val<=eras[i].since)return eras[i].name}return""}function getEraNarrow(){var i,l,val,eras=this.localeData().eras();for(i=0,l=eras.length;i<l;++i){if(val=this.clone().startOf("day").valueOf(),eras[i].since<=val&&val<=eras[i].until)return eras[i].narrow;if(eras[i].until<=val&&val<=eras[i].since)return eras[i].narrow}return""}function getEraAbbr(){var i,l,val,eras=this.localeData().eras();for(i=0,l=eras.length;i<l;++i){if(val=this.clone().startOf("day").valueOf(),eras[i].since<=val&&val<=eras[i].until)return eras[i].abbr;if(eras[i].until<=val&&val<=eras[i].since)return eras[i].abbr}return""}function getEraYear(){var i,l,dir,val,eras=this.localeData().eras();for(i=0,l=eras.length;i<l;++i)if(dir=eras[i].since<=eras[i].until?1:-1,val=this.clone().startOf("day").valueOf(),eras[i].since<=val&&val<=eras[i].until||eras[i].until<=val&&val<=eras[i].since)return(this.year()-hooks(eras[i].since).year())*dir+eras[i].offset;return this.year()}function erasNameRegex(isStrict){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),isStrict?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(isStrict){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),isStrict?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(isStrict){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),isStrict?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(isStrict,locale){return locale.erasAbbrRegex(isStrict)}function matchEraName(isStrict,locale){return locale.erasNameRegex(isStrict)}function matchEraNarrow(isStrict,locale){return locale.erasNarrowRegex(isStrict)}function matchEraYearOrdinal(isStrict,locale){return locale._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var i,l,abbrPieces=[],namePieces=[],narrowPieces=[],mixedPieces=[],eras=this.eras();for(i=0,l=eras.length;i<l;++i)namePieces.push(regexEscape(eras[i].name)),abbrPieces.push(regexEscape(eras[i].abbr)),narrowPieces.push(regexEscape(eras[i].narrow)),mixedPieces.push(regexEscape(eras[i].name)),mixedPieces.push(regexEscape(eras[i].abbr)),mixedPieces.push(regexEscape(eras[i].narrow));this._erasRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+namePieces.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+abbrPieces.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+narrowPieces.join("|")+")","i")}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}
function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getWeeksInWeekYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.weekYear(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:((weeksTarget=weeksInYear(input,dow,doy))<week&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function createUnix(input){return createLocal(1e3*input)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)&&(index=format,format=undefined),format=format||"",null!=index)return get$1(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?isNumber(format)&&(index=format,format=undefined):(format=localeSorted,localeSorted=!1,isNumber(index=format)&&(index=format,format=undefined)),format=format||"";var i,locale=getLocale(),shift=localeSorted?locale._week.dow:0,out=[];if(null!=index)return get$1(format,(index+shift)%7,field,"day");for(i=0;i<7;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}function listMonths(format,index){return listMonthsImpl(format,index,"months")}function listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}function abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function add$1(input,value){return addSubtract$1(this,input,value,1)}function subtract$1(input,value){return addSubtract$1(this,input,value,-1)}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return 0<=milliseconds&&0<=days&&0<=months||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),months=days=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,months+=monthsFromDays=absFloor(daysToMonths(days+=absFloor(hours/24))),days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"quarter"===units||"year"===units)switch(days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),units){case"month":return months;case"quarter":return months/3;case"year":return months/12}else switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function valueOf$1(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN}function makeAs(alias){return function(){return this.as(alias)}}function clone$1(){return createDuration(this)}function get$2(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN}function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime$1(posNegDuration,withoutSuffix,thresholds,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),weeks=round(duration.as("w")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days];return null!=thresholds.w&&(a=a||weeks<=1&&["w"]||weeks<thresholds.w&&["ww",weeks]),(a=a||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years])[2]=withoutSuffix,a[3]=0<+posNegDuration,a[4]=locale,substituteTimeAgo.apply(null,a)}function getSetRelativeTimeRounding(roundingFunction){return roundingFunction===undefined?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)}function getSetRelativeTimeThreshold(threshold,limit){return thresholds[threshold]!==undefined&&(limit===undefined?thresholds[threshold]:(thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1),!0))}function humanize(argWithSuffix,argThresholds){if(!this.isValid())return this.localeData().invalidDate();var locale,output,withSuffix=!1,th=thresholds;return"object"==typeof argWithSuffix&&(argThresholds=argWithSuffix,argWithSuffix=!1),"boolean"==typeof argWithSuffix&&(withSuffix=argWithSuffix),"object"==typeof argThresholds&&(th=Object.assign({},thresholds,argThresholds),null!=argThresholds.s&&null==argThresholds.ss&&(th.ss=argThresholds.s-1)),output=relativeTime$1(this,!withSuffix,th,locale=this.localeData()),withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function sign(x){return(0<x)-(x<0)||+x}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var minutes,hours,years,s,totalSign,ymSign,daysSign,hmsSign,seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months),total=this.asSeconds();return total?(hours=absFloor((minutes=absFloor(seconds/60))/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12,s=seconds?seconds.toFixed(3).replace(/\.?0+$/,""):"",totalSign=total<0?"-":"",ymSign=sign(this._months)!==sign(total)?"-":"",daysSign=sign(this._days)!==sign(total)?"-":"",hmsSign=sign(this._milliseconds)!==sign(total)?"-":"",totalSign+"P"+(years?ymSign+years+"Y":"")+(months?ymSign+months+"M":"")+(days?daysSign+days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hmsSign+hours+"H":"")+(minutes?hmsSign+minutes+"M":"")+(seconds?hmsSign+s+"S":"")):"P0D"}var hookCallback,some;some=Array.prototype.some?Array.prototype.some:function(fun){var i,t=Object(this),len=t.length>>>0;for(i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};var keys,momentProperties=hooks.momentProperties=[],updateInProgress=!1,deprecations={};hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var regexes,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},aliases={},priorities={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;regexes={};var indexOf,tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?zeroFill(y,4):"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(68<toInt(input)?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array){var kInput=toInt(input);array[HOUR]=24===kInput?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?this<other?this:other:createInvalid()}),now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;hooks.updateOffset=function(){};var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return key===undefined?this.localeData():this.locale(key)}),MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=3506328*MS_PER_HOUR;addFormatToken("N",0,0,"eraAbbr"),addFormatToken("NN",0,0,"eraAbbr"),addFormatToken("NNN",0,0,"eraAbbr"),addFormatToken("NNNN",0,0,"eraName"),addFormatToken("NNNNN",0,0,"eraNarrow"),addFormatToken("y",["y",1],"yo","eraYear"),addFormatToken("y",["yy",2],0,"eraYear"),addFormatToken("y",["yyy",3],0,"eraYear"),addFormatToken("y",["yyyy",4],0,"eraYear"),addRegexToken("N",matchEraAbbr),addRegexToken("NN",matchEraAbbr),addRegexToken("NNN",matchEraAbbr),addRegexToken("NNNN",matchEraName),addRegexToken("NNNNN",matchEraNarrow),addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(input,array,config,token){var era=config._locale.erasParse(input,token,config._strict);era?getParsingFlags(config).era=era:getParsingFlags(config).invalidEra=input}),addRegexToken("y",matchUnsigned),addRegexToken("yy",matchUnsigned),addRegexToken("yyy",matchUnsigned),addRegexToken("yyyy",matchUnsigned),addRegexToken("yo",matchEraYearOrdinal),addParseToken(["y","yy","yyy","yyyy"],YEAR),addParseToken(["yo"],function(input,array,config){var match;config._locale._eraYearOrdinalRegex&&(match=input.match(config._locale._eraYearOrdinalRegex)),config._locale.eraYearOrdinalParse?array[YEAR]=config._locale.eraYearOrdinalParse(input,match):array[YEAR]=parseInt(input,10)}),addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var token,getSetMillisecond,getSetSecond=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1),addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;proto.add=add,proto.calendar=calendar$1,proto.clone=clone,proto.diff=diff,proto.endOf=endOf,proto.format=format,proto.from=from,proto.fromNow=fromNow,proto.to=to,proto.toNow=toNow,proto.get=stringGet,proto.invalidAt=invalidAt,proto.isAfter=isAfter,proto.isBefore=isBefore,proto.isBetween=isBetween,proto.isSame=isSame,proto.isSameOrAfter=isSameOrAfter,proto.isSameOrBefore=isSameOrBefore,proto.isValid=isValid$2,proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=parsingFlags,proto.set=stringSet,proto.startOf=startOf,proto.subtract=subtract,proto.toArray=toArray,proto.toObject=toObject,proto.toDate=toDate,proto.toISOString=toISOString,proto.inspect=inspect,"undefined"!=typeof Symbol&&null!=Symbol["for"]&&(proto[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),proto.toJSON=toJSON,proto.toString=toString,proto.unix=unix,proto.valueOf=valueOf,proto.creationData=creationData,proto.eraName=getEraName,proto.eraNarrow=getEraNarrow,proto.eraAbbr=getEraAbbr,proto.eraYear=getEraYear,proto.year=getSetYear,proto.isLeapYear=getIsLeapYear,proto.weekYear=getSetWeekYear,proto.isoWeekYear=getSetISOWeekYear,proto.quarter=proto.quarters=getSetQuarter,proto.month=getSetMonth,proto.daysInMonth=getDaysInMonth,proto.week=proto.weeks=getSetWeek,proto.isoWeek=proto.isoWeeks=getSetISOWeek,proto.weeksInYear=getWeeksInYear,proto.weeksInWeekYear=getWeeksInWeekYear,proto.isoWeeksInYear=getISOWeeksInYear,proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear,proto.date=getSetDayOfMonth,proto.day=proto.days=getSetDayOfWeek,proto.weekday=getSetLocaleDayOfWeek,proto.isoWeekday=getSetISODayOfWeek,proto.dayOfYear=getSetDayOfYear,proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=getSetOffset,proto.utc=setOffsetToUTC,proto.local=setOffsetToLocal,proto.parseZone=setOffsetToParsedOffset,proto.hasAlignedHourOffset=hasAlignedHourOffset,proto.isDST=isDaylightSavingTime,proto.isLocal=isLocal,proto.isUtcOffset=isUtcOffset,proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=getZoneAbbr,proto.zoneName=getZoneName,proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var proto$1=Locale.prototype;proto$1.calendar=calendar,proto$1.longDateFormat=longDateFormat,proto$1.invalidDate=invalidDate,proto$1.ordinal=ordinal,proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=relativeTime,proto$1.pastFuture=pastFuture,proto$1.set=set,proto$1.eras=localeEras,proto$1.erasParse=localeErasParse,proto$1.erasConvertYear=localeErasConvertYear,proto$1.erasAbbrRegex=erasAbbrRegex,proto$1.erasNameRegex=erasNameRegex,proto$1.erasNarrowRegex=erasNarrowRegex,proto$1.months=localeMonths,proto$1.monthsShort=localeMonthsShort,proto$1.monthsParse=localeMonthsParse,proto$1.monthsRegex=monthsRegex,proto$1.monthsShortRegex=monthsShortRegex,proto$1.week=localeWeek,proto$1.firstDayOfYear=localeFirstDayOfYear,proto$1.firstDayOfWeek=localeFirstDayOfWeek,proto$1.weekdays=localeWeekdays,proto$1.weekdaysMin=localeWeekdaysMin,proto$1.weekdaysShort=localeWeekdaysShort,proto$1.weekdaysParse=localeWeekdaysParse,proto$1.weekdaysRegex=weekdaysRegex,proto$1.weekdaysShortRegex=weekdaysShortRegex,proto$1.weekdaysMinRegex=weekdaysMinRegex,proto$1.isPM=localeIsPM,proto$1.meridiem=localeMeridiem,getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:+Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},abs$1=Math.abs,proto$2=Duration.prototype;return proto$2.isValid=isValid$1,proto$2.abs=abs,proto$2.add=add$1,proto$2.subtract=subtract$1,proto$2.as=as,proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asQuarters=asQuarters,proto$2.asYears=asYears,proto$2.valueOf=valueOf$1,proto$2._bubble=bubble,proto$2.clone=clone$1,proto$2.get=get$2,proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=weeks,proto$2.months=months,proto$2.years=years,proto$2.humanize=humanize,proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),
//! moment.js
hooks.version="2.28.0",setHookCallback(createLocal),hooks.fn=proto,hooks.min=min,hooks.max=max,hooks.now=now,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=proto,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},hooks}),function(window){"use strict";function errorHandlingConfig(config){if(!isObject(config))return minErrConfig;isDefined(config.objectMaxDepth)&&(minErrConfig.objectMaxDepth=isValidObjectMaxDepth(config.objectMaxDepth)?config.objectMaxDepth:NaN)}function isValidObjectMaxDepth(maxDepth){return isNumber(maxDepth)&&0<maxDepth}function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;var url="https://errors.angularjs.org/1.6.10-patched-by-gleam-v5/",regex=url.replace(".","\\.")+"[\\s\\S]*",errRegExp=new RegExp(regex,"g");return function(argument_0,argument_1){var paramPrefix,i,code=argument_0,template=argument_1,message="["+(module?module+":":"")+code+"] ",templateArgs=sliceArgs(arguments,2).map(function(arg){return toDebugString(arg,minErrConfig.objectMaxDepth)});for(message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1);return index<templateArgs.length?templateArgs[index].replace(errRegExp,""):match}),message+="\n"+url+(module?module+"/":"")+code,i=0,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&")message+=paramPrefix+"p"+i+"="+encodeURIComponent(templateArgs[i]);return new ErrorConstructor(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;if(isArray(obj)||isString(obj)||jqLite&&obj instanceof jqLite)return!0;var length="length"in Object(obj)&&obj.length;return isNumber(length)&&(0<=length&&(length-1 in obj||obj instanceof Array)||"function"==typeof obj.item)}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj)"prototype"!==key&&"length"!==key&&"name"!==key&&obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){var isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;key<length;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else if(isBlankObject(obj))for(key in obj)iterator.call(context,obj[key],key,obj);else if("function"==typeof obj.hasOwnProperty)for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);else for(key in obj)hasOwnProperty.call(obj,key)&&iterator.call(context,obj[key],key,obj);return obj}function forEachSorted(obj,iterator,context){for(var keys=Object.keys(obj).sort(),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function baseExtend(dst,objs,deep){for(var h=dst.$$hashKey,i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(isObject(obj)||isFunction(obj))for(var keys=Object.keys(obj),j=0,jj=keys.length;j<jj;j++){var key=keys[j],src=obj[key];deep&&isObject(src)?isDate(src)?dst[key]=new Date(src.valueOf()):isRegExp(src)?dst[key]=new RegExp(src):src.nodeName?dst[key]=src.cloneNode(!0):isElement(src)?dst[key]=src.clone():"__proto__"!==key&&(isObject(dst[key])||(dst[key]=isArray(src)?[]:{}),baseExtend(dst[key],[src],!0)):dst[key]=src}}return setHashKey(dst,h),dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),!1)}function merge(dst){return baseExtend(dst,slice.call(arguments,1),!0)}function toInt(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}function identity($){return $}function valueFn(value){return function valueRef(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==toString}function isUndefined(value){return void 0===value}function isDefined(value){return void 0!==value}function isObject(value){return null!==value&&"object"==typeof value}function isBlankObject(value){return null!==value&&"object"==typeof value&&!getPrototypeOf(value)}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isError(value){switch(toString.call(value)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return value instanceof Error}}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isFormData(obj){return"[object FormData]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isTypedArray(value){return value&&isNumber(value.length)&&TYPED_ARRAY_REGEXP.test(toString.call(value))}function isArrayBuffer(obj){return"[object ArrayBuffer]"===toString.call(obj)}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function includes(array,obj){return-1!==Array.prototype.indexOf.call(array,obj)}function arrayRemove(array,value){var index=array.indexOf(value);return 0<=index&&array.splice(index,1),index}function copy(source,destination,maxDepth){function copyRecurse(source,destination,maxDepth){if(--maxDepth<0)return"...";var key,h=destination.$$hashKey;if(isArray(source))for(var i=0,ii=source.length;i<ii;i++)destination.push(copyElement(source[i],maxDepth));else if(isBlankObject(source))for(key in source)destination[key]=copyElement(source[key],maxDepth);else if(source&&"function"==typeof source.hasOwnProperty)for(key in source)source.hasOwnProperty(key)&&(destination[key]=copyElement(source[key],maxDepth));else for(key in source)hasOwnProperty.call(source,key)&&(destination[key]=copyElement(source[key],maxDepth));return setHashKey(destination,h),destination}function copyElement(source,maxDepth){if(!isObject(source))return source;var index=stackSource.indexOf(source);if(-1!==index)return stackDest[index];if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var needsRecurse=!1,destination=copyType(source);return destination===undefined&&(destination=isArray(source)?[]:Object.create(getPrototypeOf(source)),needsRecurse=!0),stackSource.push(source),stackDest.push(destination),needsRecurse?copyRecurse(source,destination,maxDepth):destination}function copyType(source){switch(toString.call(source)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new source.constructor(copyElement(source.buffer),source.byteOffset,source.length);case"[object ArrayBuffer]":if(source.slice)return source.slice(0);var copied=new ArrayBuffer(source.byteLength);return new Uint8Array(copied).set(new Uint8Array(source)),copied;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new source.constructor(source.valueOf());case"[object RegExp]":var re=new RegExp(source.source,source.toString().match(/[^/]*$/)[0]);return re.lastIndex=source.lastIndex,re;case"[object Blob]":return new source.constructor([source],{type:source.type})}if(isFunction(source.cloneNode))return source.cloneNode(!0)}var stackSource=[],stackDest=[];if(maxDepth=isValidObjectMaxDepth(maxDepth)?maxDepth:NaN,destination){if(isTypedArray(destination)||isArrayBuffer(destination))throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");return isArray(destination)?destination.length=0:forEach(destination,function(value,key){"$$hashKey"!==key&&delete destination[key]}),stackSource.push(source),stackDest.push(destination),copyRecurse(source,destination,maxDepth)}return copyElement(source,maxDepth)}function simpleCompare(a,b){return a===b||a!=a&&b!=b}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!=o1&&o2!=o2)return!0;var length,key,keySet,t1=typeof o1;if(t1===typeof o2&&"object"===t1){if(!isArray(o1)){if(isDate(o1))return!!isDate(o2)&&simpleCompare(o1.getTime(),o2.getTime());if(isRegExp(o1))return!!isRegExp(o2)&&o1.toString()===o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return!1;for(key in keySet=createMap(),o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet)&&"$"!==key.charAt(0)&&isDefined(o2[key])&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)===o2.length){for(key=0;key<length;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=2<arguments.length?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=undefined:isWindow(value)?val="$WINDOW":value&&window.document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return isUndefined(obj)?undefined:(isNumber(pretty)||(pretty=pretty?2:null),JSON.stringify(obj,toJsonReplacer,pretty))}function fromJson(json){return isString(json)?JSON.parse(json):json}function timezoneToOffset(timezone,fallback){timezone=timezone.replace(ALL_COLONS,"");var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNumberNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){return(date=new Date(date.getTime())).setMinutes(date.getMinutes()+minutes),date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();return addDateMinutes(date,reverse*(timezoneToOffset(timezone,dateTimezoneOffset)-dateTimezoneOffset))}function startingTag(element){element=jqLite(element).clone().empty();var elemHtml=jqLite("<div></div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};return forEach((keyValue||"").split("&"),function(keyValue){var splitPoint,key,val;keyValue&&(key=keyValue=keyValue.replace(/\+/g,"%20"),-1!==(splitPoint=keyValue.indexOf("="))&&(key=keyValue.substring(0,splitPoint),val=keyValue.substring(splitPoint+1)),isDefined(key=tryDecodeURIComponent(key))&&(val=!isDefined(val)||tryDecodeURIComponent(val),hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val))}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(!0===arrayValue?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(!0===value?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i)if(attr=ngAttrPrefixes[i]+ngAttr,isString(attr=element.getAttribute(attr)))return attr;return null}function allowAutoBootstrap(document){var script=document.currentScript;if(!script)return!0;if(!(script instanceof window.HTMLScriptElement||script instanceof window.SVGScriptElement))return!1;var attributes=script.attributes;return[attributes.getNamedItem("src"),attributes.getNamedItem("href"),attributes.getNamedItem("xlink:href")].every(function(src){if(!src)return!0;if(!src.value)return!1;var link=document.createElement("a");if(link.href=src.value,document.location.origin===link.origin)return!0;switch(link.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}function angularInit(element,bootstrap){var appElement,module,config={};if(forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";!appElement&&element.hasAttribute&&element.hasAttribute(name)&&(module=(appElement=element).getAttribute(name))}),forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))&&(module=(appElement=candidate).getAttribute(name))}),appElement){if(!isAutoBootstrapAllowed)return void window.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");config.strictDi=null!==getNgAttribute(appElement,"strict-di"),bootstrap(appElement,module?[module]:[],config)}}function bootstrap(element,modules,config){isObject(config)||(config={}),config=extend({strictDi:!1},config);var doBootstrap=function(){if((element=jqLite(element)).injector()){var tag=element[0]===window.document?"document":startingTag(element);throw ngMinErr("btstrpd","App already bootstrapped with this element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}(modules=modules||[]).unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]),modules.unshift("ng");var injector=createInjector(modules,config.strictDi);return injector.invoke(["$rootScope","$rootElement","$compile","$injector",function bootstrapApply(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/,NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;if(window&&NG_ENABLE_DEBUG_INFO.test(window.name)&&(config.debugInfoEnabled=!0,window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")),window&&!NG_DEFER_BOOTSTRAP.test(window.name))return doBootstrap();window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),angular.resumeBootstrap=function(extraModules){return forEach(extraModules,function(module){modules.push(module)}),doBootstrap()},isFunction(angular.resumeDeferredBootstrap)&&angular.resumeDeferredBootstrap()}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name,window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;if(!bindJQueryFired){var jqName=jq();(jQuery=isUndefined(jqName)?window.jQuery:jqName?window[jqName]:undefined)&&jQuery.fn.on?(extend((jqLite=jQuery).fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),originalCleanData=jQuery.cleanData,jQuery.cleanData=function(elems){for(var events,elem,i=0;null!=(elem=elems[i]);i++)(events=jQuery._data(elem,"events"))&&events.$destroy&&jQuery(elem).triggerHandler("$destroy");originalCleanData(elems)}):jqLite=JQLite,angular.element=jqLite,bindJQueryFired=!0}}function UNSAFE_restoreLegacyJqLiteXHTMLReplacement(){JQLite.legacyXHTMLReplacement=!0}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;i<len;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockNodes(nodes){for(var blockNodes,node=nodes[0],endNode=nodes[nodes.length-1],i=1;node!==endNode&&(node=node.nextSibling);i++)(blockNodes||nodes[i]!==node)&&(blockNodes||(blockNodes=jqLite(slice.call(nodes,0,i))),blockNodes.push(node));return blockNodes||nodes}function createMap(){return Object.create(null)}function stringify(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=!hasCustomToString(value)||isArray(value)||isDate(value)?toJson(value):value.toString()}return value}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function module(name,requires,configFn){var info={};return function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){return queue||(queue=invokeQueue),function(){return queue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}function invokeLaterAndSetModuleName(provider,method,queue){return queue||(queue=invokeQueue),function(recipeName,factoryFunction){return factoryFunction&&isFunction(factoryFunction)&&(factoryFunction.$$moduleName=name),queue.push([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],configBlocks=[],runBlocks=[],config=invokeLater("$injector","invoke","push",configBlocks),moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,info:function(value){if(isDefined(value)){if(!isObject(value))throw ngMinErr("aobj","Argument '{0}' must be an object","value");return info=value,this}return info},requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator",configBlocks),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++)dst[i]=src[i]}else if(isObject(src))for(var key in dst=dst||{},src)"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key]);return dst||src}function serializeObject(obj,maxDepth){var seen=[];return isValidObjectMaxDepth(maxDepth)&&(obj=angular.copy(obj,null,maxDepth)),JSON.stringify(obj,function(key,val){if(isObject(val=toJsonReplacer(key,val))){if(0<=seen.indexOf(val))return"...";seen.push(val)}return val})}function toDebugString(obj,maxDepth){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):isUndefined(obj)?"undefined":"string"!=typeof obj?serializeObject(obj,maxDepth):obj}function publishExternalAPI(angular){extend(angular,{errorHandlingConfig:errorHandlingConfig,bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{$$counter:0},getTestability:getTestability,reloadWithDebugInfo:reloadWithDebugInfo,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:UNSAFE_restoreLegacyJqLiteXHTMLReplacement,$$minErr:minErr,$$csp:csp,$$encodeUriSegment:encodeUriSegment,$$encodeUriQuery:encodeUriQuery,$$stringify:stringify}),(angularModule=setupModuleLoader(window))("ng",["ngLocale"],["$provide",function ngModule($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateJs:$$CoreAnimateJsProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$AnimateRunnerFactoryProvider,$$animateAsyncRun:$$AnimateAsyncRunFactoryProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$$isDocumentHidden:$$IsDocumentHiddenProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:$jsonpCallbacksProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$Map:$$MapProvider,$$cookieReader:$$CookieReaderProvider})}]).info({angularVersion:"1.6.10-patched-by-gleam-v5"})}function jqNextId(){return++jqId}function cssKebabToCamel(name){return kebabToCamel(name.replace(MS_HACK_REGEXP,"ms-"))}function fnCamelCaseReplace(all,letter){return letter.toUpperCase()}function kebabToCamel(name){return name.replace(DASH_LOWERCASE_REGEXP,fnCamelCaseReplace)}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339])return!0;return!1}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,finalHtml,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{if(tmp=fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),finalHtml=JQLite.legacyXHTMLReplacement?html.replace(XHTML_TAG_REGEXP,"<$1></$2>"):html,msie<10)for(wrap=wrapMapIE9[tag]||wrapMapIE9._default,tmp.innerHTML=wrap[1]+finalHtml+wrap[2],i=wrap[0];i--;)tmp=tmp.firstChild;else{for(i=(wrap=wrapMap[tag]||[]).length;-1<--i;)tmp.appendChild(window.document.createElement(wrap[i])),tmp=tmp.firstChild;tmp.innerHTML=finalHtml}nodes=concat(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}return fragment.textContent="",fragment.innerHTML="",forEach(nodes,function(node){fragment.appendChild(node)}),fragment}function jqLiteParseHTML(html,context){var parsed;return context=context||window.document,(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:(parsed=jqLiteBuildFragment(html,context))?parsed.childNodes:[]}function jqLiteWrapNode(node,wrapper){var parent=node.parentNode;parent&&parent.replaceChild(wrapper,node),wrapper.appendChild(node)}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)&&(element=trim(element),argIsString=!0),!(this instanceof JQLite)){if(argIsString&&"<"!==element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):isFunction(element)?jqLiteReady(element):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){!onlyDescendants&&jqLiteAcceptsData(element)&&jqLite.cleanData([element]),element.querySelectorAll&&jqLite.cleanData(element.querySelectorAll("*"))}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,handle=expandoStore&&expandoStore.handle;if(handle)if(type){var removeHandler=function(type){var listenerFns=events[type];isDefined(fn)&&arrayRemove(listenerFns||[],fn),isDefined(fn)&&listenerFns&&0<listenerFns.length||(element.removeEventListener(type,handle),delete events[type])};forEach(type.split(" "),function(type){removeHandler(type),MOUSE_EVENT_MAP[type]&&removeHandler(MOUSE_EVENT_MAP[type])})}else for(type in events)"$destroy"!==type&&element.removeEventListener(type,handle),delete events[type]}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name)return void delete expandoStore.data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];return createIfNecessary&&!expandoStore&&(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}),expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var prop,isSimpleSetter=isDefined(value),isSimpleGetter=!isSimpleSetter&&key&&!isObject(key),massGetter=!key,expandoStore=jqLiteExpandoStore(element,!isSimpleGetter),data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[kebabToCamel(key)]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[kebabToCamel(key)];for(prop in key)data[kebabToCamel(prop)]=key[prop]}}}function jqLiteHasClass(element,selector){return!!element.getAttribute&&-1<(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")}function jqLiteRemoveClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),newClasses=newClasses.replace(" "+cssClass+" "," ")}),newClasses!==existingClasses&&element.setAttribute("class",trim(newClasses))}}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),-1===newClasses.indexOf(" "+cssClass+" ")&&(newClasses+=cssClass+" ")}),newClasses!==existingClasses&&element.setAttribute("class",trim(newClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(var i=0;i<length;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element.nodeType===NODE_TYPE_DOCUMENT&&(element=element.documentElement);for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;i<ii;i++)if(isDefined(value=jqLite.data(element,names[i])))return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){for(jqLiteDealoc(element,!0);element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){"complete"===(win=win||window).document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function jqLiteReady(fn){function trigger(){window.document.removeEventListener("DOMContentLoaded",trigger),window.removeEventListener("load",trigger),fn()}"complete"===window.document.readyState?window.setTimeout(fn):(
window.document.addEventListener("DOMContentLoaded",trigger),window.addEventListener("load",trigger))}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(name){return ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type],eventFnsLength=eventFns?eventFns.length:0;if(eventFnsLength){if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0,event.stopPropagation&&event.stopPropagation(),originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return!0===event.immediatePropagationStopped};var handlerWrapper=eventFns.specialHandlerWrapper||defaultHandlerWrapper;1<eventFnsLength&&(eventFns=shallowCopy(eventFns));for(var i=0;i<eventFnsLength;i++)event.isImmediatePropagationStopped()||handlerWrapper(element,event,eventFns[i])}};return eventHandler.elem=element,eventHandler}function defaultHandlerWrapper(element,event,handler){handler.call(element,event)}function specialMouseHandlerWrapper(target,event,handler){var related=event.relatedTarget;related&&(related===target||jqLiteContains.call(target,related))||handler.call(target,event)}function $$jqLiteProvider(){this.$get=function $$jqLite(){return extend(JQLite,{hasClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteHasClass(node,classes)},addClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteAddClass(node,classes)},removeClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key)return"function"==typeof key&&(key=obj.$$hashKey()),key;var objType=typeof obj;return key="function"===objType||"object"===objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj}function NgMapShim(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function stringifyFn(fn){return Function.prototype.toString.call(fn)}function extractArgs(fn){var fnText=stringifyFn(fn).replace(STRIP_COMMENTS,"");return fnText.match(ARROW_ARG)||fnText.match(FN_ARGS)}function anonFn(fn){var args=extractArgs(fn);return args?"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(fn,strictDi,name){var $inject,last;if("function"==typeof fn){if(!($inject=fn.$inject)){if($inject=[],fn.length){if(strictDi)throw isString(name)&&name||(name=fn.name||anonFn(fn)),$injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name);forEach(extractArgs(fn)[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else isArray(fn)?(assertArgFn(fn[last=fn.length-1],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){if(!isObject(key))return delegate(key,value);forEach(key,reverseParams(delegate))}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function enforcedReturnValue(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:!1!==enforce?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var moduleFn,runBlocks=[];return forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(!loadedModules.get(module)){loadedModules.set(module,!0);try{isString(module)?(moduleFn=angularModule(module),instanceInjector.modules[module]=moduleFn,runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),runInvokeQueue(moduleFn._invokeQueue),runInvokeQueue(moduleFn._configBlocks)):isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName,caller),cache[serviceName]}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function injectionArgs(fn,locals,serviceName){for(var args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName),i=0,length=$inject.length;i<length;i++){var key=$inject[i];if("string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return args}function isClass(func){if(msie||"function"!=typeof func)return!1;var result=func.$$ngIsClass;return isBoolean(result)||(result=func.$$ngIsClass=/^(?:class\b|constructor\()/.test(stringifyFn(func))),result}function invoke(fn,self,locals,serviceName){"string"==typeof locals&&(serviceName=locals,locals=null);var args=injectionArgs(fn,locals,serviceName);return isArray(fn)&&(fn=fn[fn.length-1]),isClass(fn)?(args.unshift(null),new(Function.prototype.bind.apply(fn,args))):fn.apply(self,args)}function instantiate(Type,locals,serviceName){var ctor=isArray(Type)?Type[Type.length-1]:Type,args=injectionArgs(Type,locals,serviceName);return args.unshift(null),new(Function.prototype.bind.apply(ctor,args))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=!0===strictDi;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new NgMap,providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){throw angular.isString(caller)&&path.push(caller),$injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},protoInstanceInjector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)}),instanceInjector=protoInstanceInjector;providerCache["$injector"+providerSuffix]={$get:valueFn(protoInstanceInjector)},instanceInjector.modules=providerInjector.modules=createMap();var runBlocks=loadModules(modulesToLoad);return(instanceInjector=protoInstanceInjector.get("$injector")).strictDi=strictDi,forEach(runBlocks,function(fn){fn&&instanceInjector.invoke(fn)}),instanceInjector.loadNewModules=function(mods){forEach(loadModules(mods),function(fn){fn&&instanceInjector.invoke(fn)})},instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return Array.prototype.some.call(list,function(element){if("a"===nodeName_(element))return result=element,!0}),result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0];offset="fixed"!==$window.getComputedStyle(elem).position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(hash){var elm;(hash=isString(hash)?hash:isNumber(hash)?hash.toString():$location.hash())?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function autoScrollWatch(){return $location.hash()},function autoScrollWatchAction(newVal,oldVal){newVal===oldVal&&""===newVal||jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})}),scroll}]}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE)return elm}}function splitClasses(classes){isString(classes)&&(classes=classes.split(" "));var obj=createMap();return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(0===--outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function getHash(url){var index=url.indexOf("#");return-1===index?"":url.substr(index)}function cacheStateAndFireUrlChange(){pendingLocation=null,fireStateOrUrlChange()}function cacheState(){equals(cachedState=isUndefined(cachedState=getCurrentState())?null:cachedState,lastCachedState)&&(cachedState=lastCachedState),lastHistoryState=lastCachedState=cachedState}function fireStateOrUrlChange(){var prevLastHistoryState=lastHistoryState;cacheState(),lastBrowserUrl===self.url()&&prevLastHistoryState===cachedState||(lastBrowserUrl=self.url(),lastHistoryState=cachedState,forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)}))}var self=this,location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),pendingLocation=null,getCurrentState=$sniffer.history?function getCurrentState(){try{return history.state}catch(e){}}:noop;cacheState(),self.url=function(url,replace,state){if(isUndefined(state)&&(state=null),location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);return lastBrowserUrl=url,lastHistoryState=state,!$sniffer.history||sameBase&&sameState?(sameBase||(pendingLocation=url),replace?location.replace(url):sameBase?location.hash=getHash(url):location.href=url,location.href!==url&&(pendingLocation=url)):(history[replace?"replaceState":"pushState"](state,"",url),cacheState()),pendingLocation&&(pendingLocation=url),self}return pendingLocation||location.href.replace(/%27/g,"'")},self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=!1,lastCachedState=null;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange),jqLite(window).on("hashchange",cacheStateAndFireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)},self.$$checkUrlChange=fireStateOrUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?:)?\/\/[^/]*/,""):""},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return!!pendingDeferIds[deferId]&&(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0)}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!==freshEnd&&(staleEnd?staleEnd===entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),(freshEnd=entry).n=null)}function link(nextEntry,prevEntry){nextEntry!==prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data=createMap(),capacity=options&&options.capacity||Number.MAX_VALUE,lruHash=createMap(),freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(!isUndefined(value)){if(capacity<Number.MAX_VALUE)refresh(lruHash[key]||(lruHash[key]={key:key}));return key in data||size++,data[key]=value,capacity<size&&this.remove(staleEnd.key),value}},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry===freshEnd&&(freshEnd=lruEntry.p),lruEntry===staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}key in data&&(delete data[key],size--)},removeAll:function(){data=createMap(),size=0,lruHash=createMap(),freshEnd=staleEnd=null},destroy:function(){lruHash=stats=data=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function UNINITIALIZED_VALUE(){}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^([@&<]|=(\*?))(\??)\s*([\w$]*)$/,bindings=createMap();return forEach(scope,function(definition,scopeName){if((definition=definition.trim())in bindingCache)bindings[scopeName]=bindingCache[definition];else{var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition");bindings[scopeName]={mode:match[1][0],collection:"*"===match[2],optional:"?"===match[3],attrName:match[4]||scopeName},match[4]&&(bindingCache[definition]=bindings[scopeName])}}),bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)&&(!0===directive.bindToController?(bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,!0),bindings.isolateScope={}):bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,!1)),isObject(directive.bindToController)&&(bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,!0)),bindings.bindToController&&!directive.controller)throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName);return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter))throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",name);if(name!==name.trim())throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}function getDirectiveRequire(directive){var require=directive.require||directive.controller&&directive.name;return!isArray(require)&&isObject(require)&&forEach(require,function(value,key){var match=value.match(REQUIRE_PREFIX_REGEXP);value.substring(match[0].length)||(require[key]=match[0]+key)}),require}function getDirectiveRestrict(restrict,name){if(restrict&&(!isString(restrict)||!/[EACM]/.test(restrict)))throw $compileMinErr("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",restrict,name);return restrict||"EA"}var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive:\s*([\w-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w-]+)(?::([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/,bindingCache=createMap();this.directive=function registerDirective(name,directiveFactory){return assertArg(name,"name"),assertNotHasOwnProperty(name,"directive"),isString(name)?(assertValidDirectiveName(name),assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=getDirectiveRequire(directive),directive.restrict=getDirectiveRestrict(directive.restrict,name),directive.$$moduleName=directiveFactory.$$moduleName,directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.component=function registerComponent(name,options){function factory($injector){function makeInjectable(fn){return isFunction(fn)||isArray(fn)?function(tElement,tAttrs){return $injector.invoke(fn,this,{$element:tElement,$attrs:tAttrs})}:fn}var template=options.template||options.templateUrl?options.template:"",ddo={controller:controller,controllerAs:identifierForController(options.controller)||options.controllerAs||"$ctrl",template:makeInjectable(template),templateUrl:makeInjectable(options.templateUrl),transclude:options.transclude,scope:{},bindToController:options.bindings||{},restrict:"E",require:options.require};return forEach(options,function(val,key){"$"===key.charAt(0)&&(ddo[key]=val)}),ddo}if(!isString(name))return forEach(name,reverseParams(bind(this,registerComponent))),this;var controller=options.controller||function(){};return forEach(options,function(val,key){"$"===key.charAt(0)&&(factory[key]=val,isFunction(controller)&&(controller[key]=val))}),factory.$inject=["$injector"],this.directive(name,factory)},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()};var debugInfoEnabled=!0,preAssignBindingsEnabled=!(this.debugInfoEnabled=function(enabled){return isDefined(enabled)?(debugInfoEnabled=enabled,this):debugInfoEnabled}),strictComponentBindingsEnabled=!(this.preAssignBindingsEnabled=function(enabled){return isDefined(enabled)?(preAssignBindingsEnabled=enabled,this):preAssignBindingsEnabled});this.strictComponentBindingsEnabled=function(enabled){return isDefined(enabled)?(strictComponentBindingsEnabled=enabled,this):strictComponentBindingsEnabled};var TTL=10;this.onChangesTtl=function(value){return arguments.length?(TTL=value,this):TTL};var commentDirectivesEnabledConfig=!0;this.commentDirectivesEnabled=function(value){return arguments.length?(commentDirectivesEnabledConfig=value,this):commentDirectivesEnabledConfig};var cssClassDirectivesEnabledConfig=!0;this.cssClassDirectivesEnabled=function(value){return arguments.length?(cssClassDirectivesEnabledConfig=value,this):cssClassDirectivesEnabledConfig},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$sce,$animate,$$sanitizeUri){function flushOnChangesQueue(){try{if(!--onChangesTtl)throw onChangesQueue=undefined,$compileMinErr("infchng","{0} $onChanges() iterations reached. Aborting!\n",TTL);$rootScope.$apply(function(){for(var i=0,ii=onChangesQueue.length;i<ii;++i)try{onChangesQueue[i]()}catch(e){$exceptionHandler(e)}onChangesQueue=undefined})}finally{onChangesTtl++}}function Attributes(element,attributesToCopy){if(attributesToCopy){var i,l,key,keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;i<l;i++)this[key=keys[i]]=attributesToCopy[key]}else this.$attr={};this.$$element=element}function setSpecialAttr(element,attrName,value){specialAttrHolder.innerHTML="<span "+attrName+">";var attributes=specialAttrHolder.firstChild.attributes,attribute=attributes[0];attributes.removeNamedItem(attribute.name),attribute.value=value,element.attributes.setNamedItem(attribute)}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes));var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function publicLinkFn(scope,cloneConnectFn,options){if(!$compileNodes)throw $compileMinErr("multilink","This element has already been linked.");assertArg(scope,"scope"),previousCompileContext&&previousCompileContext.needsNewScope&&(scope=scope.$parent.$new());var $linkNode,parentBoundTranscludeFn=(options=options||{}).parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;if(parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude&&(parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude),namespace||(namespace=detectNamespaceForChildElements(futureParentElement)),$linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div></div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);return compile.$$addScopeInfo($linkNode,scope),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),cloneConnectFn||($compileNodes=compositeLinkFn=null),$linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&toString.call(node).match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;for(stableNodeList=new Array(nodeListLength),i=0;i<linkFns.length;i+=3)stableNodeList[idx=linkFns[i]]=nodeList[idx]}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;i<ii;)node=stableNodeList[linkFns[i++]],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(),compile.$$addScopeInfo(jqLite(node),childScope)):childScope=scope,nodeLinkFn(childLinkFn,childScope,node,$rootElement,nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null)):childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,linkFns=[],notLiveList=isArray(nodeList)||nodeList instanceof jqLite,i=0;i<nodeList.length;i++)attrs=new Attributes,11===msie&&mergeConsecutiveTextNodes(nodeList,i,notLiveList),(nodeLinkFn=(directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective)).length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null)&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),(nodeLinkFn||childLinkFn)&&(linkFns.push(i,nodeLinkFn,childLinkFn),linkFnFound=!0,nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn),previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function mergeConsecutiveTextNodes(nodeList,idx,notLiveList){var sibling,node=nodeList[idx],parent=node.parentNode;if(node.nodeType===NODE_TYPE_TEXT)for(;(sibling=parent?node.nextSibling:nodeList[idx+1])&&sibling.nodeType===NODE_TYPE_TEXT;)node.nodeValue=node.nodeValue+sibling.nodeValue,sibling.parentNode&&sibling.parentNode.removeChild(sibling),notLiveList&&sibling===nodeList[idx+1]&&nodeList.splice(idx+1,1)}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){function boundTranscludeFn(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){return transcludedScope||((transcludedScope=scope.$new(!1,containingScope)).$$transcluded=!0),transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})}var boundSlots=boundTranscludeFn.$$slots=createMap();for(var slotName in transcludeFn.$$slots)transcludeFn.$$slots[slotName]?boundSlots[slotName]=createBoundTranscludeFn(scope,transcludeFn.$$slots[slotName],previousBoundTranscludeFn):boundSlots[slotName]=null;return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,nodeName,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName=nodeName_(node)),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=!1,attrEndName=!1;name=(attr=nAttrs[j]).name,value=attr.value,ngAttrName=directiveNormalize(name),(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()}));var multiElementMatch=ngAttrName.match(MULTI_ELEMENT_DIR_RE);multiElementMatch&&directiveIsMultiElement(multiElementMatch[1])&&(attrEndName=(attrStartName=name).substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),attrsMap[nName=directiveNormalize(name.toLowerCase())]=name,!isNgAttr&&attrs.hasOwnProperty(nName)||(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName,isNgAttr),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}if("input"===nodeName&&"hidden"===node.getAttribute("type")&&node.setAttribute("autocomplete","off"),!cssClassDirectivesEnabled)break;if(isObject(className=node.className)&&(className=className.animVal),isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)addDirective(directives,nName=directiveNormalize(match[2]),"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case NODE_TYPE_TEXT:addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:if(!commentDirectivesEnabled)break;collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective)}return directives.sort(byPriority),directives}function collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective){try{var match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){var nName=directiveNormalize(match[1]);addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2]))}}catch(e){}}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);node.nodeType===NODE_TYPE_ELEMENT&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(0<depth)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function groupedElementsLink(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function compilationGenerator(eager,$compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){var compiled;return eager?compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext):function lazyCompilation(){return compiled||(compiled=compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext),$compileNodes=transcludeFn=previousCompileContext=null),compiled.apply(this,arguments)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{
isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement,slotName){var transcludeControllers;if(isScope(scope)||(slotName=futureParentElement,futureParentElement=cloneAttachFn,cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element),!slotName)return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild);var slotTranscludeFn=boundTranscludeFn.$$slots[slotName];if(slotTranscludeFn)return slotTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild);if(isUndefined(slotTranscludeFn))throw $compileMinErr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',slotName,startingTag($element))}var i,ii,linkFn,isolateScope,controllerScope,elementControllers,transcludeFn,$element,attrs,scopeBindingInfo;for(var name in compileNode===linkNode?$element=(attrs=templateAttrs).$$element:attrs=new Attributes($element=jqLite(linkNode),templateAttrs),controllerScope=scope,newIsolateScopeDirective?isolateScope=scope.$new(!0):newScopeDirective&&(controllerScope=scope.$parent),boundTranscludeFn&&((transcludeFn=controllersBoundTransclude).$$boundTransclude=boundTranscludeFn,transcludeFn.isSlotFilled=function(slotName){return!!boundTranscludeFn.$$slots[slotName]}),controllerDirectives&&(elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective)),newIsolateScopeDirective&&(compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective))),compile.$$addScopeClass($element,!0),isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,(scopeBindingInfo=initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective)).removeWatches&&isolateScope.$on("$destroy",scopeBindingInfo.removeWatches)),elementControllers){var controllerDirective=controllerDirectives[name],controller=elementControllers[name],bindings=controllerDirective.$$bindings.bindToController;if(preAssignBindingsEnabled){controller.bindingInfo=bindings?initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective):{};var controllerResult=controller();controllerResult!==controller.instance&&(controller.instance=controllerResult,$element.data("$"+controllerDirective.name+"Controller",controllerResult),controller.bindingInfo.removeWatches&&controller.bindingInfo.removeWatches(),controller.bindingInfo=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective))}else controller.instance=controller(),$element.data("$"+controllerDirective.name+"Controller",controller.instance),controller.bindingInfo=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective)}for(forEach(controllerDirectives,function(controllerDirective,name){var require=controllerDirective.require;controllerDirective.bindToController&&!isArray(require)&&isObject(require)&&extend(elementControllers[name].instance,getControllers(name,require,$element,elementControllers))}),forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$onChanges))try{controllerInstance.$onChanges(controller.bindingInfo.initialChanges)}catch(e){$exceptionHandler(e)}if(isFunction(controllerInstance.$onInit))try{controllerInstance.$onInit()}catch(e){$exceptionHandler(e)}isFunction(controllerInstance.$doCheck)&&(controllerScope.$watch(function(){controllerInstance.$doCheck()}),controllerInstance.$doCheck()),isFunction(controllerInstance.$onDestroy)&&controllerScope.$on("$destroy",function callOnDestroyHook(){controllerInstance.$onDestroy()})}),i=0,ii=preLinkFns.length;i<ii;i++)invokeLinkFn(linkFn=preLinkFns[i],linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;0<=i;i--)invokeLinkFn(linkFn=postLinkFns[i],linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);forEach(elementControllers,function(controller){var controllerInstance=controller.instance;isFunction(controllerInstance.$postLink)&&controllerInstance.$postLink()})}previousCompileContext=previousCompileContext||{};for(var directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,didScanForMultipleTransclusion=!1,mightHaveMultipleTransclusionError=!1,i=0,ii=directives.length;i<ii;i++){var attrStart=(directive=directives[i]).$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(directive.templateUrl||(isObject(directiveValue)?(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode),newIsolateScopeDirective=directive):assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,!didScanForMultipleTransclusion&&(directive.replace&&(directive.templateUrl||directive.template)||directive.transclude&&!directive.$$tlb)){for(var candidateDirective,scanningIndex=i+1;candidateDirective=directives[scanningIndex++];)if(candidateDirective.transclude&&!candidateDirective.$$tlb||candidateDirective.replace&&(candidateDirective.templateUrl||candidateDirective.template)){mightHaveMultipleTransclusionError=!0;break}didScanForMultipleTransclusion=!0}if(!directive.templateUrl&&directive.controller&&(controllerDirectives=controllerDirectives||createMap(),assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),directiveValue=directive.transclude)if(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"===directiveValue)hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(compile.$$createComment(directiveName,templateAttrs[directiveName])),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),$template[0].$$parentNode=$template[0].parentNode,childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective});else{var slots=createMap();if(isObject(directiveValue)){$template=[];var slotMap=createMap(),filledSlots=createMap();for(var slotName in forEach(directiveValue,function(elementSelector,slotName){var optional="?"===elementSelector.charAt(0);elementSelector=optional?elementSelector.substring(1):elementSelector,slotMap[elementSelector]=slotName,slots[slotName]=null,filledSlots[slotName]=optional}),forEach($compileNode.contents(),function(node){var slotName=slotMap[directiveNormalize(nodeName_(node))];slotName?(filledSlots[slotName]=!0,slots[slotName]=slots[slotName]||[],slots[slotName].push(node)):$template.push(node)}),forEach(filledSlots,function(filled,slotName){if(!filled)throw $compileMinErr("reqslot","Required transclusion slot `{0}` was not filled.",slotName)}),slots)slots[slotName]&&(slots[slotName]=compilationGenerator(mightHaveMultipleTransclusionError,slots[slotName],transcludeFn))}else $template=jqLite(jqLiteClone(compileNode)).contents();$compileNode.empty(),(childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,undefined,undefined,{needsNewScope:directive.$$isolateScope||directive.$$newScope})).$$slots=slots}if(directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),directiveValue=isFunction((templateDirective=directive).template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue))),compileNode=$template[0],1!==$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));(newIsolateScopeDirective||newScopeDirective)&&markDirectiveScope(templateDirectives,newIsolateScopeDirective,newScopeDirective),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),(templateDirective=directive).replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);var context=directive.$$originalDirective||directive;isFunction(linkFn)?addLinkFns(null,bind(context,linkFn),attrStart,attrEnd):linkFn&&addLinkFns(bind(context,linkFn.pre),bind(context,linkFn.post),attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&!0===newScopeDirective.scope,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP),name=require.substring(match[0].length),inheritType=match[1]||match[3],optional="?"===match[2];if("^^"===inheritType?$element=$element.parent():value=(value=elementControllers&&elementControllers[name])&&value.instance,!value){var dataName="$"+name+"Controller";value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}if(!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++)value[i]=getControllers(directiveName,require[i],$element,elementControllers)}else isObject(require)&&(value={},forEach(require,function(controller,property){value[property]=getControllers(directiveName,controller,$element,elementControllers)}));return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey],locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn},controller=directive.controller;"@"===controller&&(controller=attrs[directive.name]);var controllerInstance=$controller(controller,locals,!0,directive.controllerAs);elementControllers[directive.name]=controllerInstance,$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function markDirectiveScope(directives,isolateScope,newScope){for(var j=0,jj=directives.length;j<jj;j++)directives[j]=inherit(directives[j],{$$isolateScope:isolateScope,$$newScope:newScope})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++)if(directive=directives[i],(isUndefined(maxPriority)||maxPriority>directive.priority)&&-1!==directive.restrict.indexOf(location)){if(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),!directive.$$bindings){var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);isObject(bindings.isolateScope)&&(directive.$$isolateBindings=bindings.isolateScope)}tDirectives.push(directive),match=directive}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++)if(directives[i].multiElement)return!0;return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr;forEach(dst,function(value,key){"$"!==key.charAt(0)&&(src[key]&&src[key]!==value&&(value.length?value+=("style"===key?";":" ")+src[key]:value=src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){dst.hasOwnProperty(key)||"$"===key.charAt(0)||(dst[key]=value,"class"!==key&&"style"!==key&&(dstAttr[key]=srcAttr[key]))})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;return $compileNode.empty(),$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content))),compileNode=$template[0],1!==$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectiveScope(templateDirectives,!0),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node===compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(!scope.$$destroyed){if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}}linkQueue=null})["catch"](function(error){isError(error)&&$exceptionHandler(error)}),function delayedNodeLinkFn(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;scope.$$destroyed||(linkQueue?linkQueue.push(scope,node,rootElement,childBoundTranscludeFn):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function textInterpolateCompileFn(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;return hasCompileParent&&compile.$$addBindingClass(templateNodeParent),function textInterpolateLinkFn(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent),compile.$$addBindingInfo(parent,interpolateFn.expressions),scope.$watch(interpolateFn,function interpolateFnWatchAction(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){switch(type=lowercase(type||"html")){case"svg":case"math":var wrapper=window.document.createElement("div");return wrapper.innerHTML="<"+type+">"+template+"</"+type+">",wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"===attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);if("src"===attrNormalizedName||"ngSrc"===attrNormalizedName){if(-1===["img","video","audio","source","track"].indexOf(tag))return $sce.RESOURCE_URL}else if("xlinkHref"===attrNormalizedName||"form"===tag&&"action"===attrNormalizedName||"link"===tag&&"href"===attrNormalizedName)return $sce.RESOURCE_URL}function addAttrInterpolateDirective(node,directives,value,name,isNgAttr){var trustedContext=getTrustedContext(node,name),mustHaveExpression=!isNgAttr,allOrNothing=ALL_OR_NOTHING_ATTRS[name]||isNgAttr,interpolateFn=$interpolate(value,mustHaveExpression,trustedContext,allOrNothing);if(interpolateFn){if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");directives.push({priority:100,compile:function(){return{pre:function attrInterpolatePreLinkFn(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers=createMap()),newValue=attr[name];newValue!==value&&(interpolateFn=newValue&&$interpolate(newValue,!0,trustedContext,allOrNothing),value=newValue),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function interpolateFnWatchAction(newValue,oldValue){"class"===name&&newValue!==oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;i<ii;i++)if($rootElement[i]===firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++)j2<jj?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1,$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=window.document.createDocumentFragment();for(i=0;i<removeCount;i++)fragment.appendChild(elementsToRemove[i]);for(jqLite.hasData(firstElementToRemove)&&(jqLite.data(newNode,jqLite.data(firstElementToRemove)),jqLite(firstElementToRemove).off("$destroy")),jqLite.cleanData(fragment.querySelectorAll("*")),i=1;i<removeCount;i++)delete elementsToRemove[i];elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function strictBindingsCheck(attrName,directiveName){if(strictComponentBindingsEnabled)throw $compileMinErr("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",attrName,directiveName)}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive){function recordChanges(key,currentValue,previousValue){isFunction(destination.$onChanges)&&!simpleCompare(currentValue,previousValue)&&(onChangesQueue||(scope.$$postDigest(flushOnChangesQueue),onChangesQueue=[]),changes||(changes={},onChangesQueue.push(triggerOnChangesHook)),changes[key]&&(previousValue=changes[key].previousValue),changes[key]=new SimpleChange(previousValue,currentValue))}function triggerOnChangesHook(){destination.$onChanges(changes),changes=undefined}var changes,removeWatchCollection=[],initialChanges={};return forEach(bindings,function initializeBinding(definition,scopeName){var lastValue,parentGet,parentSet,compare,removeWatch,attrName=definition.attrName,optional=definition.optional;switch(definition.mode){case"@":optional||hasOwnProperty.call(attrs,attrName)||(strictBindingsCheck(attrName,directive.name),destination[scopeName]=attrs[attrName]=undefined),removeWatch=attrs.$observe(attrName,function(value){if(isString(value)||isBoolean(value)){var oldValue=destination[scopeName];recordChanges(scopeName,value,oldValue),destination[scopeName]=value}}),attrs.$$observers[attrName].$$scope=scope,isString(lastValue=attrs[attrName])?destination[scopeName]=$interpolate(lastValue)(scope):isBoolean(lastValue)&&(destination[scopeName]=lastValue),initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]),removeWatchCollection.push(removeWatch);break;case"=":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name),attrs[attrName]=undefined}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:simpleCompare,parentSet=parentGet.assign||function(){throw lastValue=destination[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",attrs[attrName],attrName,directive.name)},lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function parentValueWatch(parentValue){return compare(parentValue,destination[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=destination[scopeName]):destination[scopeName]=parentValue),lastValue=parentValue};parentValueWatch.$stateful=!0,removeWatch=definition.collection?scope.$watchCollection(attrs[attrName],parentValueWatch):scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal),removeWatchCollection.push(removeWatch);break;case"<":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name),attrs[attrName]=undefined}if(optional&&!attrs[attrName])break;var deepWatch=(parentGet=$parse(attrs[attrName])).literal,initialValue=destination[scopeName]=parentGet(scope);initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]),removeWatch=scope.$watch(parentGet,function parentValueWatchAction(newValue,oldValue){if(oldValue===newValue){if(oldValue===initialValue||deepWatch&&equals(oldValue,initialValue))return;oldValue=initialValue}recordChanges(scopeName,newValue,oldValue),destination[scopeName]=newValue},deepWatch),removeWatchCollection.push(removeWatch);break;case"&":if(optional||hasOwnProperty.call(attrs,attrName)||strictBindingsCheck(attrName,directive.name),(parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop)===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)}}}),{initialChanges:initialChanges,removeWatches:removeWatchCollection.length&&function removeWatches(){for(var i=0,ii=removeWatchCollection.length;i<ii;++i)removeWatchCollection[i]()}}}var onChangesQueue,SIMPLE_ATTR_NAME=/^\w/,specialAttrHolder=window.document.createElement("div"),commentDirectivesEnabled=commentDirectivesEnabledConfig,cssClassDirectivesEnabled=cssClassDirectivesEnabledConfig,onChangesTtl=TTL;Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&0<classVal.length&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&0<classVal.length&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,booleanKey=getBooleanAttrName(this.$$element[0],key),aliasedKey=getAliasedAttrName(key),observer=key;if(booleanKey?(this.$$element.prop(key,value),attrName=booleanKey):aliasedKey&&(this[aliasedKey]=value,observer=aliasedKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key])||(this.$attr[key]=attrName=snake_case(key,"-")),"a"===(nodeName=nodeName_(this.$$element))&&("href"===key||"xlinkHref"===key)||"img"===nodeName&&"src"===key)this[key]=value=null==value?value:$$sanitizeUri(value,"src"===key);else if("img"===nodeName&&"srcset"===key&&isDefined(value)){for(var result="",trimmedSrcset=trim(value),srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/,rawUris=trimmedSrcset.split(pattern),nbrUrisWith2parts=Math.floor(rawUris.length/2),i=0;i<nbrUrisWith2parts;i++){var innerIdx=2*i;result+=$$sanitizeUri(trim(rawUris[innerIdx]),!0),result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),!0),2===lastTuple.length&&(result+=" "+trim(lastTuple[1])),this[key]=value=result}!1!==writeAttr&&(null==value?this.$$element.removeAttr(attrName):SIMPLE_ATTR_NAME.test(attrName)?this.$$element.attr(attrName,value):setSpecialAttr(this.$$element[0],attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||!attrs.hasOwnProperty(key)||isUndefined(attrs[key])||fn(attrs[key])}),function(){arrayRemove(listeners,fn)}}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"===startSymbol&&"}}"===endSymbol?identity:function denormalizeTemplate(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/,MULTI_ELEMENT_DIR_RE=/^(.+)Start$/;return compile.$$addBindingInfo=debugInfoEnabled?function $$addBindingInfo($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding),$element.data("$binding",bindings)}:noop,compile.$$addBindingClass=debugInfoEnabled?function $$addBindingClass($element){safeAddClass($element,"ng-binding")}:noop,compile.$$addScopeInfo=debugInfoEnabled?function $$addScopeInfo($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop,compile.$$addScopeClass=debugInfoEnabled?function $$addScopeClass($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop,compile.$$createComment=function(directiveName,comment){var content="";return debugInfoEnabled&&(content=" "+(directiveName||"")+": ",comment&&(content+=comment+" ")),window.document.createComment(content)},compile}]}function SimpleChange(previous,current){this.previousValue=previous,this.currentValue=current}function directiveNormalize(name){return name.replace(PREFIX_REGEXP,"").replace(SPECIAL_CHARS_REGEXP,function(_,letter,offset){return offset?letter.toUpperCase():letter})}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token===tokens2[j])continue outer;values+=(0<values.length?" ":"")+token}return values}function removeComments(jqNodes){var i=(jqNodes=jqLite(jqNodes)).length;if(i<=1)return jqNodes;for(;i--;){var node=jqNodes[i];(node.nodeType===NODE_TYPE_COMMENT||node.nodeType===NODE_TYPE_TEXT&&""===node.nodeValue.trim())&&splice.call(jqNodes,i,1)}return jqNodes}function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={},globals=!1;this.has=function(name){return controllers.hasOwnProperty(name)},this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.allowGlobals=function(){globals=!0},this.$get=["$injector","$window",function($injector,$window){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function $controller(expression,locals,later,ident){var instance,match,constructor,identifier;if(later=!0===later,
ident&&isString(ident)&&(identifier=ident),isString(expression)){if(!(match=expression.match(CNTRL_REG)))throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",expression);if(constructor=match[1],identifier=identifier||match[3],!(expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||(globals?getter($window,constructor,!0):undefined)))throw $controllerMinErr("ctrlreg","The controller with the name '{0}' is not registered.",constructor);assertArgFn(expression,constructor,!0)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;return instance=Object.create(controllerPrototype||null),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),extend(function $controllerInit(){var result=$injector.invoke(expression,instance,locals,constructor);return result!==instance&&(isObject(result)||isFunction(result))&&(instance=result,identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name)),instance},{instance:instance,identifier:identifier})}return instance=$injector.instantiate(expression,locals,constructor),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $$IsDocumentHiddenProvider(){this.$get=["$document","$rootScope",function($document,$rootScope){function changeListener(){hidden=doc.hidden}var doc=$document[0],hidden=doc&&doc.hidden;return $document.on("visibilitychange",changeListener),$rootScope.$on("$destroy",function(){$document.off("visibilitychange",changeListener)}),function(){return hidden}}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}function serializeValue(v){return isObject(v)?isDate(v)?v.toISOString():toJson(v):v}function $HttpParamSerializerProvider(){this.$get=function(){return function ngParamSerializer(params){if(!params)return"";var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||isFunction(value)||(isArray(value)?forEach(value,function(v){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))}):parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value))))}),parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function jQueryLikeParamSerializer(params){function serialize(toSerialize,prefix,topLevel){null===toSerialize||isUndefined(toSerialize)||(isArray(toSerialize)?forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")}):isObject(toSerialize)&&!isDate(toSerialize)?forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))}):parts.push(encodeUriQuery(prefix)+"="+encodeUriQuery(serializeValue(toSerialize))))}if(!params)return"";var parts=[];return serialize(params,"",!0),parts.join("&")}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type"),hasJsonContentType=contentType&&0===contentType.indexOf(APPLICATION_JSON);if(hasJsonContentType||isJsonLike(tempData))try{data=fromJson(tempData)}catch(e){if(!hasJsonContentType)return data;throw $httpMinErr("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',data,e)}}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){function fillInParsed(key,val){key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}var i,parsed=createMap();return isString(headers)?forEach(headers.split("\n"),function(line){i=line.indexOf(":"),fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))}):isObject(headers)&&forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))}),parsed}function headersGetter(headers){var headersObj;return function(name){if(headersObj||(headersObj=parseHeaders(headers)),name){var value=headersObj[lowercase(name)];return value===undefined&&(value=null),value}return headersObj}}function transformData(data,headers,status,fns){return isFunction(fns)?fns(data,headers,status):(forEach(fns,function(fn){data=fn(data,headers,status)}),data)}function isSuccess(status){return 200<=status&&status<300}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)||isFormData(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},useApplyAsync=!1;this.useApplyAsync=function(value){return isDefined(value)?(useApplyAsync=!!value,this):useApplyAsync};var interceptorFactories=this.interceptors=[],xsrfWhitelistedOrigins=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function($browser,$httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector,$sce){function $http(requestConfig){function chainInterceptors(promise,interceptors){for(var i=0,ii=interceptors.length;i<ii;){var thenFn=interceptors[i++],rejectFn=interceptors[i++];promise=promise.then(thenFn,rejectFn)}return interceptors.length=0,promise}function completeOutstandingRequest(){$browser.$$completeOutstandingRequest(noop)}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};return forEach(headers,function(headerFn,header){isFunction(headerFn)?null!=(headerContent=headerFn(config))&&(processedHeaders[header]=headerContent):processedHeaders[header]=headerFn}),processedHeaders}function mergeHeaders(config){var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){for(reqHeaderName in lowercaseDefHeaderName=lowercase(defHeaderName),reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}function serverRequest(config){var headers=config.headers,reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData).then(transformResponse,transformResponse)}function transformResponse(response){var resp=extend({},response);return resp.data=transformData(response.data,response.headers,response.status,config.transformResponse),isSuccess(response.status)?resp:$q.reject(resp)}if(!isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);if(!isString($sce.valueOf(requestConfig.url)))throw minErr("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",requestConfig.url);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer,jsonpCallbackParam:defaults.jsonpCallbackParam},requestConfig);config.headers=mergeHeaders(requestConfig),config.method=uppercase(config.method),config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer,$browser.$$incOutstandingRequestCount();var requestInterceptors=[],responseInterceptors=[],promise=$q.resolve(config);return forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&requestInterceptors.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&responseInterceptors.push(interceptor.response,interceptor.responseError)}),promise=(promise=chainInterceptors(promise=(promise=chainInterceptors(promise,requestInterceptors)).then(serverRequest),responseInterceptors))["finally"](completeOutstandingRequest)}function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){function createApplyHandlers(eventHandlers){if(eventHandlers){var applyHandlers={};return forEach(eventHandlers,function(eventHandler,key){applyHandlers[key]=function(event){function callEventHandler(){eventHandler(event)}useApplyAsync?$rootScope.$applyAsync(callEventHandler):$rootScope.$$phase?callEventHandler():$rootScope.$apply(callEventHandler)}}),applyHandlers}}function done(status,response,headersString,statusText,xhrStatus){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText,xhrStatus)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText,xhrStatus]):cache.remove(url)),useApplyAsync?$rootScope.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),$rootScope.$$phase||$rootScope.$apply())}function resolvePromise(response,status,headers,statusText,xhrStatus){(isSuccess(status=-1<=status?status:0)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText,xhrStatus:xhrStatus})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText,result.xhrStatus)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,reqHeaders=config.headers,isJsonp="jsonp"===lowercase(config.method),url=config.url;if(isJsonp?url=$sce.getTrustedResourceUrl(url):isString(url)||(url=$sce.valueOf(url)),url=buildUrl(url,config.paramSerializer(config.params)),isJsonp&&(url=sanitizeJsonpCallbackParam(url,config.jsonpCallbackParam)),$http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||!1===config.cache||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache&&(isDefined(cachedResp=cache.get(url))?isPromiseLike(cachedResp)?cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult):isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3],cachedResp[4]):resolvePromise(cachedResp,200,{},"OK","complete"):cache.put(url,promise)),isUndefined(cachedResp)){var xsrfValue=urlIsAllowedOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType,createApplyHandlers(config.eventHandlers),createApplyHandlers(config.uploadEventHandlers))}return promise}function buildUrl(url,serializedParams){return 0<serializedParams.length&&(url+=(-1===url.indexOf("?")?"?":"&")+serializedParams),url}function sanitizeJsonpCallbackParam(url,cbKey){var parts=url.split("?");if(2<parts.length)throw $httpMinErr("badjsonp",'Illegal use more than one "?", in url, "{1}"',url);return forEach(parseKeyValue(parts[1]),function(value,key){if("JSON_CALLBACK"===value)throw $httpMinErr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',url);if(key===cbKey)throw $httpMinErr("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',cbKey,url)}),url+=(-1===url.indexOf("?")?"?":"&")+cbKey+"=JSON_CALLBACK"}var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))});var urlIsAllowedOrigin=urlIsAllowedOriginFactory(xsrfWhitelistedOrigins);return $http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=defaults,$http}]}function $xhrFactoryProvider(){this.$get=function(){return function createXhr(){return new window.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function($browser,$jsonpCallbacks,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$jsonpCallbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackPath,done){url=url.replace("JSON_CALLBACK",callbackPath);var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){script.removeEventListener("load",callback),script.removeEventListener("error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks.wasCalled(callbackPath)||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},script.addEventListener("load",callback),script.addEventListener("error",callback),rawDocument.body.appendChild(script),callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType,eventHandlers,uploadEventHandlers){function timeoutRequest(reason){abortedByTimeout="timeout"===reason,jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText,xhrStatus){isDefined(timeoutId)&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,callback(status,response,headersString,statusText,xhrStatus)}if(url=url||$browser.url(),"jsonp"===lowercase(method))var callbackPath=callbacks.createCallback(url),jsonpDone=jsonpReq(url,callbackPath,function(status,text){var response=200===status&&callbacks.getResponse(callbackPath);completeRequest(callback,status,response,"",text,"complete"),callbacks.removeCallback(callbackPath)});else{var xhr=createXhr(method,url),abortedByTimeout=!1;xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onload=function requestLoaded(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"===urlResolve(url).protocol?404:0),completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText,"complete")};var requestError=function(){completeRequest(callback,-1,null,null,"","error")},requestAborted=function(){completeRequest(callback,-1,null,null,"",abortedByTimeout?"timeout":"abort")},requestTimeout=function(){completeRequest(callback,-1,null,null,"","timeout")};if(xhr.onerror=requestError,xhr.ontimeout=requestTimeout,xhr.onabort=requestAborted,forEach(eventHandlers,function(value,key){xhr.addEventListener(key,value)}),forEach(uploadEventHandlers,function(value,key){xhr.upload.addEventListener(key,value)}),withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(isUndefined(post)?null:post)}if(0<timeout)var timeoutId=$browserDefer(function(){timeoutRequest("timeout")},timeout);else isPromiseLike(timeout)&&timeout.then(function(){timeoutRequest(isDefined(timeout.$$timeoutId)?"timeout":"abort")})}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function constantWatchDelegate(scope,listener,objectEquality,constantInterp){var unwatch=scope.$watch(function constantInterpolateWatch(scope){return unwatch(),constantInterp(scope)},listener,objectEquality);return unwatch}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function parseStringifyInterceptor(value){try{return value=getValue(value),allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}if(!text.length||-1===text.indexOf(startSymbol)){var constantInterp;if(!mustHaveExpression)(constantInterp=valueFn(unescapeText(text))).exp=text,constantInterp.expressions=[],constantInterp.$$watchDelegate=constantWatchDelegate;return constantInterp}allOrNothing=!!allOrNothing;for(var startIndex,endIndex,exp,index=0,expressions=[],parseFns=[],textLength=text.length,concat=[],expressionPositions=[];index<textLength;){if(-1===(startIndex=text.indexOf(startSymbol,index))||-1===(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex))),exp=text.substring(startIndex+startSymbolLength,endIndex),expressions.push(exp),parseFns.push($parse(exp,parseStringifyInterceptor)),index=endIndex+endSymbolLength,expressionPositions.push(concat.length),concat.push("")}if(trustedContext&&1<concat.length&&$interpolateMinErr.throwNoconcat(text),!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")},getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)};return extend(function interpolationFn(context){var i=0,ii=expressions.length,values=new Array(ii);try{for(;i<ii;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function interpolateFnWatcher(values,oldValues){var currValue=compute(values);listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope),lastValue=currValue})}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q","$browser",function($rootScope,$window,$q,$$q,$browser){function interval(fn,delay,count,invokeApply){function callback(){hasParams?fn.apply(null,args):fn(iteration)}var hasParams=4<arguments.length,args=hasParams?sliceArgs(arguments,4):[],setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=isDefined(count)?count:0,promise.$$intervalId=setInterval(function tick(){skipApply?$browser.defer(callback):$rootScope.$evalAsync(callback),deferred.notify(iteration++),0<count&&count<=iteration&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return!!(promise&&promise.$$intervalId in intervals)&&(markQExceptionHandled(intervals[promise.$$intervalId].promise),intervals[promise.$$intervalId].reject("canceled"),$window.clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0)},interval}]}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i].replace(/%2F/g,"/"));return segments.join("/")}function decodePath(path,html5Mode){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=decodeURIComponent(segments[i]),html5Mode&&(segments[i]=segments[i].replace(/\//g,"%2F"));return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(url,locationObj,html5Mode){if(DOUBLE_SLASH_REGEX.test(url))throw $locationMinErr("badpath",'Invalid url "{0}".',url);var prefixed="/"!==url.charAt(0);prefixed&&(url="/"+url);var match=urlResolve(url),path=prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname;locationObj.$$path=decodePath(path,html5Mode),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!==locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function startsWith(str,search){return str.slice(0,search.length)===search}function stripBaseUrl(base,url){if(startsWith(url,base))return url.substr(base.length)}function stripHash(url){var index=url.indexOf("#");return-1===index?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"",parseAbsoluteUrl(appBase,this),this.$$parse=function(url){var pathUrl=stripBaseUrl(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(url,relHref){return relHref&&"#"===relHref[0]?(this.hash(relHref.slice(1)),!0):(isDefined(appUrl=stripBaseUrl(appBase,url))?(prevAppUrl=appUrl,rewrittenUrl=basePrefix&&isDefined(appUrl=stripBaseUrl(basePrefix,appUrl))?appBaseNoFile+(stripBaseUrl("/",appUrl)||appUrl):appBase+prevAppUrl):isDefined(appUrl=stripBaseUrl(appBaseNoFile,url))?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl);var appUrl,prevAppUrl,rewrittenUrl}}function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return startsWith(url,base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path))?firstPathSegmentMatch[1]:path}var withoutHashUrl,withoutBaseUrl=stripBaseUrl(appBase,url)||stripBaseUrl(appBaseNoFile,url);isUndefined(withoutBaseUrl)||"#"!==withoutBaseUrl.charAt(0)?this.$$html5?withoutHashUrl=withoutBaseUrl:(withoutHashUrl="",isUndefined(withoutBaseUrl)&&(appBase=url,this.replace())):isUndefined(withoutHashUrl=stripBaseUrl(hashPrefix,withoutBaseUrl))&&(withoutHashUrl=withoutBaseUrl),parseAppUrl(withoutHashUrl,this,!1),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(url){return stripHash(appBase)===stripHash(url)&&(this.$$parse(url),!0)}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(url,relHref){return relHref&&"#"===relHref[0]?(this.hash(relHref.slice(1)),!0):(appBase===stripHash(url)?rewrittenUrl=url:(appUrl=stripBaseUrl(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl);var rewrittenUrl,appUrl},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url,this.$$urlUpdatedByLocation=!0}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="!",html5Mode={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isBoolean(mode)?(html5Mode.enabled=mode,this):isObject(mode)?(isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled),isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase),(isBoolean(mode.rewriteLinks)||isString(mode.rewriteLinks))&&(html5Mode.rewriteLinks=mode.rewriteLinks),this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state),$location.$$state=$browser.state()}catch(e){throw $location.url(oldUrl),$location.$$state=oldState,e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl;var appBaseNoFile=stripFile(appBase);($location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix)).$$parseLinkUrl(initialUrl,initialUrl),$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){var rewriteLinks=html5Mode.rewriteLinks;if(rewriteLinks&&!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&2!==event.which&&2!==event.button){for(var elm=jqLite(event.target);"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;if(!isString(rewriteLinks)||!isUndefined(elm.attr(rewriteLinks))){var absHref=elm.prop("href"),relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),IGNORE_URI_REGEXP.test(absHref)||!absHref||elm.attr("target")||event.isDefaultPrevented()||$location.$$parseLinkUrl(absHref,relHref)&&(event.preventDefault(),$location.absUrl()!==$browser.url()&&($rootScope.$apply(),$window.angular["ff-684208-preventDefault"]=!0))}}}),trimEmptyHash($location.absUrl())!==trimEmptyHash(initialUrl)&&$browser.url($location.absUrl(),!0);var initializing=!0;return $browser.onUrlChange(function(newUrl,newState){startsWith(newUrl,appBaseNoFile)?($rootScope.$evalAsync(function(){var defaultPrevented,oldUrl=$location.absUrl(),oldState=$location.$$state;newUrl=trimEmptyHash(newUrl),$location.$$parse(newUrl),$location.$$state=newState,defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented,$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),setBrowserUrlWithFallback(oldUrl,!1,$location.$$state=oldState)):(initializing=!1,afterLocationChange(oldUrl,oldState)))}),$rootScope.$$phase||$rootScope.$digest()):$window.location.href=newUrl}),$rootScope.$watch(function $locationWatch(){if(initializing||$location.$$urlUpdatedByLocation){$location.$$urlUpdatedByLocation=!1;var oldUrl=trimEmptyHash($browser.url()),newUrl=trimEmptyHash($location.absUrl()),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;(initializing||urlOrStateChanged)&&(initializing=!1,$rootScope.$evalAsync(function(){var newUrl=$location.absUrl(),defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState):(urlOrStateChanged&&setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state),afterLocationChange(oldUrl,oldState)))}))}$location.$$replace=!1}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return isError(arg)&&(arg.stack&&formatStackTrace?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop;return function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),Function.prototype.apply.call(logFn,console,args)}}var fn,formatStackTrace=msie||/\bEdge\//.test($window.navigator&&$window.navigator.userAgent);return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:(fn=consoleLog("debug"),function(){debug&&fn.apply(self,arguments)})}}]}function getStringValue(name){return name+""}function ifDefined(v,d){return void 0!==v?v:d}function plusFn(l,r){return void 0===l?r:void 0===r?l:l+r}function isStateless($filter,filterName){return!$filter(filterName).$stateful}function isPure(node,parentIsPure){switch(node.type){case AST.MemberExpression:if(node.computed)return!1;break;case AST.UnaryExpression:return PURITY_ABSOLUTE;case AST.BinaryExpression:return"+"!==node.operator&&PURITY_ABSOLUTE;case AST.CallExpression:return!1}return undefined===parentIsPure?PURITY_RELATIVE:parentIsPure}function findConstantAndWatchExpressions(ast,$filter,parentIsPure){var allConstants,argsToWatch,isStatelessFilter,astIsPure=ast.isPure=isPure(ast,parentIsPure);switch(ast.type){case AST.Program:allConstants=!0,forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter,astIsPure),allConstants=allConstants&&expr.expression.constant}),ast.constant=allConstants;break;case AST.Literal:ast.constant=!0,ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter,astIsPure),ast.constant=ast.argument.constant,ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure),findConstantAndWatchExpressions(ast.right,$filter,astIsPure),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure),findConstantAndWatchExpressions(ast.right,
$filter,astIsPure),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter,astIsPure),findConstantAndWatchExpressions(ast.alternate,$filter,astIsPure),findConstantAndWatchExpressions(ast.consequent,$filter,astIsPure),ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=!1,ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter,astIsPure),ast.computed&&findConstantAndWatchExpressions(ast.property,$filter,astIsPure),ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant),ast.toWatch=ast.constant?[]:[ast];break;case AST.CallExpression:isStatelessFilter=!!ast.filter&&isStateless($filter,ast.callee.name),allConstants=isStatelessFilter,argsToWatch=[],forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure),allConstants=allConstants&&expr.constant,argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=isStatelessFilter?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure),findConstantAndWatchExpressions(ast.right,$filter,astIsPure),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=!0,argsToWatch=[],forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure),allConstants=allConstants&&expr.constant,argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=!0,argsToWatch=[],forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter,astIsPure),allConstants=allConstants&&property.value.constant,argsToWatch.push.apply(argsToWatch,property.value.toWatch),property.computed&&(findConstantAndWatchExpressions(property.key,$filter,!1),allConstants=allConstants&&property.key.constant,argsToWatch.push.apply(argsToWatch,property.key.toWatch))}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ThisExpression:case AST.LocalsExpression:ast.constant=!1,ast.toWatch=[]}}function getInputs(body){if(1===body.length){var lastExpression=body[0].expression,candidate=lastExpression.toWatch;return 1!==candidate.length?candidate:candidate[0]!==lastExpression?candidate:undefined}}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){if(1===ast.body.length&&isAssignable(ast.body[0].expression))return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}}function isLiteral(ast){return 0===ast.body.length||1===ast.body.length&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler($filter){this.$filter=$filter}function ASTInterpreter($filter){this.$filter=$filter}function Parser(lexer,$filter,options){this.ast=new AST(lexer,options),this.astCompiler=options.csp?new ASTInterpreter($filter):new ASTCompiler($filter)}function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var identStart,identContinue,cache=createMap(),literals={"true":!0,"false":!1,"null":null,undefined:undefined};this.addLiteral=function(literalName,literalValue){literals[literalName]=literalValue},this.setIdentifierFns=function(identifierStart,identifierContinue){return identStart=identifierStart,identContinue=identifierContinue,this},this.$get=["$filter",function($filter){function $parse(exp,interceptorFn){var parsedExpression,cacheKey;switch(typeof exp){case"string":if(exp=exp.trim(),!(parsedExpression=cache[cacheKey=exp]))(parsedExpression=new Parser(new Lexer($parseOptions),$filter,$parseOptions).parse(exp)).constant?parsedExpression.$$watchDelegate=constantWatchDelegate:parsedExpression.oneTime?parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate),cache[cacheKey]=parsedExpression;return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}function $$getAst(exp){return new Parser(new Lexer($parseOptions),$filter,$parseOptions).getAst(exp).ast}function expressionInputDirtyCheck(newValue,oldValueOfValue,compareObjectIdentity){return null==newValue||null==oldValueOfValue?newValue===oldValueOfValue:!("object"==typeof newValue&&"object"==typeof(newValue=getValueOf(newValue))&&!compareObjectIdentity)&&(newValue===oldValueOfValue||newValue!=newValue&&oldValueOfValue!=oldValueOfValue)}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var lastResult,inputExpressions=parsedExpression.inputs;if(1===inputExpressions.length){var oldInputValueOf=expressionInputDirtyCheck;return inputExpressions=inputExpressions[0],scope.$watch(function expressionInputWatch(scope){var newInputValue=inputExpressions(scope);return expressionInputDirtyCheck(newInputValue,oldInputValueOf,inputExpressions.isPure)||(lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]),oldInputValueOf=newInputValue&&getValueOf(newInputValue)),lastResult},listener,objectEquality,prettyPrintExpression)}for(var oldInputValueOfValues=[],oldInputValues=[],i=0,ii=inputExpressions.length;i<ii;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck,oldInputValues[i]=null;return scope.$watch(function expressionInputsWatch(scope){for(var changed=!1,i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i],inputExpressions[i].isPure)))&&(oldInputValues[i]=newInputValue,oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue))}return changed&&(lastResult=parsedExpression(scope,undefined,undefined,oldInputValues)),lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){function oneTimeWatch(scope){return parsedExpression(scope)}function oneTimeListener(value,old,scope){lastValue=value,isFunction(listener)&&listener(value,old,scope),isDefined(value)&&scope.$$postDigest(function(){isDefined(lastValue)&&unwatch()})}var unwatch,lastValue;return unwatch=parsedExpression.inputs?inputsWatchDelegate(scope,oneTimeListener,objectEquality,parsedExpression,prettyPrintExpression):scope.$watch(oneTimeWatch,oneTimeListener,objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){function isAllDefined(value){var allDefined=!0;return forEach(value,function(val){isDefined(val)||(allDefined=!1)}),allDefined}var unwatch,lastValue;return unwatch=scope.$watch(function oneTimeWatch(scope){return parsedExpression(scope)},function oneTimeListener(value,old,scope){lastValue=value,isFunction(listener)&&listener(value,old,scope),isAllDefined(value)&&scope.$$postDigest(function(){isAllDefined(lastValue)&&unwatch()})},objectEquality)}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch=scope.$watch(function constantWatch(scope){return unwatch(),parsedExpression(scope)},listener,objectEquality);return unwatch}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate,useInputs=!1,fn=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate?function regularInterceptedExpression(scope,locals,assign,inputs){var value=useInputs&&inputs?inputs[0]:parsedExpression(scope,locals,assign,inputs);return interceptorFn(value,scope,locals)}:function oneTimeInterceptedExpression(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs),result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};return useInputs=!parsedExpression.inputs,watchDelegate&&watchDelegate!==inputsWatchDelegate?(fn.$$watchDelegate=watchDelegate,fn.inputs=parsedExpression.inputs):interceptorFn.$stateful||(fn.$$watchDelegate=inputsWatchDelegate,fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression]),fn.inputs&&(fn.inputs=fn.inputs.map(function(e){return e.isPure===PURITY_RELATIVE?function depurifier(s){return e(s)}:e})),fn}var $parseOptions={csp:csp().noUnsafeEval,literals:copy(literals),isIdentifierStart:isFunction(identStart)&&identStart,isIdentifierContinue:isFunction(identContinue)&&identContinue};return $parse.$$getAst=$$getAst,$parse}]}function $QProvider(){var errorOnUnhandledRejections=!0;this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler,errorOnUnhandledRejections)}],this.errorOnUnhandledRejections=function(value){return isDefined(value)?(errorOnUnhandledRejections=value,this):errorOnUnhandledRejections}}function $$QProvider(){var errorOnUnhandledRejections=!0;this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler,errorOnUnhandledRejections)}],this.errorOnUnhandledRejections=function(value){return isDefined(value)?(errorOnUnhandledRejections=value,this):errorOnUnhandledRejections}}function qFactory(nextTick,exceptionHandler,errorOnUnhandledRejections){function defer(){return new Deferred}function Deferred(){var promise=this.promise=new Promise;this.resolve=function(val){resolvePromise(promise,val)},this.reject=function(reason){rejectPromise(promise,reason)},this.notify=function(progress){notifyPromise(promise,progress)}}function Promise(){this.$$state={status:0}}function processQueue(state){var fn,promise,pending;pending=state.pending,state.processScheduled=!1,state.pending=undefined;try{for(var i=0,ii=pending.length;i<ii;++i){markQStateExceptionHandled(state),promise=pending[i][0],fn=pending[i][state.status];try{isFunction(fn)?resolvePromise(promise,fn(state.value)):1===state.status?resolvePromise(promise,state.value):rejectPromise(promise,state.value)}catch(e){rejectPromise(promise,e),e&&!0===e.$$passToExceptionHandler&&exceptionHandler(e)}}}finally{--queueSize,errorOnUnhandledRejections&&0===queueSize&&nextTick(processChecks)}}function processChecks(){for(;!queueSize&&checkQueue.length;){var toCheck=checkQueue.shift();if(!isStateExceptionHandled(toCheck)){markQStateExceptionHandled(toCheck);var errorMessage="Possibly unhandled rejection: "+toDebugString(toCheck.value);isError(toCheck.value)?exceptionHandler(toCheck.value,errorMessage):exceptionHandler(errorMessage)}}}function scheduleProcessQueue(state){!errorOnUnhandledRejections||state.pending||2!==state.status||isStateExceptionHandled(state)||(0===queueSize&&0===checkQueue.length&&nextTick(processChecks),checkQueue.push(state)),!state.processScheduled&&state.pending&&(state.processScheduled=!0,++queueSize,nextTick(function(){processQueue(state)}))}function resolvePromise(promise,val){promise.$$state.status||(val===promise?$$reject(promise,$qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):$$resolve(promise,val))}function $$resolve(promise,val){function doResolve(val){done||(done=!0,$$resolve(promise,val))}function doReject(val){done||(done=!0,$$reject(promise,val))}function doNotify(progress){notifyPromise(promise,progress)}var then,done=!1;try{(isObject(val)||isFunction(val))&&(then=val.then),isFunction(then)?(promise.$$state.status=-1,then.call(val,doResolve,doReject,doNotify)):(promise.$$state.value=val,promise.$$state.status=1,scheduleProcessQueue(promise.$$state))}catch(e){doReject(e)}}function rejectPromise(promise,reason){promise.$$state.status||$$reject(promise,reason)}function $$reject(promise,reason){promise.$$state.value=reason,promise.$$state.status=2,scheduleProcessQueue(promise.$$state)}function notifyPromise(promise,progress){var callbacks=promise.$$state.pending;promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){for(var callback,result,i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0],callback=callbacks[i][3];try{notifyPromise(result,isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}function reject(reason){var result=new Promise;return rejectPromise(result,reason),result}function handleCallback(value,resolver,callback){var callbackOutput=null;try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return reject(e)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return resolver(value)},reject):resolver(value)}function when(value,callback,errback,progressBack){var result=new Promise;return resolvePromise(result,value),result.then(callback,errback,progressBack)}function all(promises){var result=new Promise,counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,when(promise).then(function(value){results[key]=value,--counter||resolvePromise(result,results)},function(reason){rejectPromise(result,reason)})}),0===counter&&resolvePromise(result,results),result}function race(promises){var deferred=defer();return forEach(promises,function(promise){when(promise).then(deferred.resolve,deferred.reject)}),deferred.promise}function $Q(resolver){function resolveFn(value){resolvePromise(promise,value)}function rejectFn(reason){rejectPromise(promise,reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);var promise=new Promise;return resolver(resolveFn,rejectFn),promise}var $qMinErr=minErr("$q",TypeError),queueSize=0,checkQueue=[];extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack))return this;var result=new Promise;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]),0<this.$$state.status&&scheduleProcessQueue(this.$$state),result},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,resolve,callback)},function(error){return handleCallback(error,reject,callback)},progressBack)}});var resolve=when;return $Q.prototype=Promise.prototype,$Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.resolve=resolve,$Q.all=all,$Q.race=race,$Q}function isStateExceptionHandled(state){return!!state.pur}function markQStateExceptionHandled(state){state.pur=!0}function markQExceptionHandled(q){markQStateExceptionHandled(q.$$state)}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]}function $RootScopeProvider(){function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null,this.$$suspended=!1}return ChildScope.prototype=parent,ChildScope}var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$exceptionHandler","$parse","$browser",function($exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=!0}function cleanUpScope($scope){9===msie&&($scope.$$childHead&&cleanUpScope($scope.$$childHead),$scope.$$nextSibling&&cleanUpScope($scope.$$nextSibling)),$scope.$parent=$scope.$$nextSibling=$scope.$$prevSibling=$scope.$$childHead=$scope.$$childTail=$scope.$root=$scope.$$watchers=null}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){for(;current.$$watchersCount+=count,current=current.$parent;);}function decrementListenerCount(current,count,name){for(;current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name],current=current.$parent;);}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;return parent=parent||this,isolate?(child=new Scope).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),child=new this.$$ChildScope),child.$parent=parent,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child,(isolate||parent!==this)&&child.$on("$destroy",destroyChildScope),child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp),fn=isFunction(listener)?listener:noop;if(get.$$watchDelegate)return get.$$watchDelegate(this,fn,objectEquality,get,watchExp);var scope=this,array=scope.$$watchers,watcher={fn:fn,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};return lastDirtyWatch=null,array||((array=scope.$$watchers=[]).$$digestWatchIndex=-1),array.unshift(watcher),array.$$digestWatchIndex++,incrementWatchersCount(this,1),function deregisterWatch(){var index=arrayRemove(array,watcher);0<=index&&(incrementWatchersCount(scope,-1),index<array.$$digestWatchIndex&&array.$$digestWatchIndex--),lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1,firstRun?(firstRun=!1,listener(newValues,newValues,self)):listener(newValues,oldValues,self)}var oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(watchExpressions.length)return 1===watchExpressions.length?this.$watch(watchExpressions[0],function watchGroupAction(value,oldValue,scope){newValues[0]=value,oldValues[0]=oldValue,listener(newValues,value===oldValue?newValues:oldValues,scope)}):(forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function watchGroupSubAction(value,oldValue){newValues[i]=value,oldValues[i]=oldValue,changeReactionScheduled||(changeReactionScheduled=!0,self.$evalAsync(watchGroupAction))});deregisterFns.push(unwatchFn)}),function deregisterWatchGroup(){for(;deregisterFns.length;)deregisterFns.shift()()});var shouldCall=!0;return self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)}),function deregisterWatchGroup(){shouldCall=!1}},$watchCollection:function(obj,listener){function $watchCollectionInterceptor(_value){var newLength,key,newItem,oldItem;if(!isUndefined(newValue=_value)){if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldLength=(oldValue=internalArray).length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;i<newLength;i++)oldItem=oldValue[i],newItem=newValue[i],oldItem!=oldItem&&newItem!=newItem||oldItem===newItem||(changeDetected++,oldValue[i]=newItem)}else{for(key in oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0,newValue)hasOwnProperty.call(newValue,key)&&(newLength++,newItem=newValue[key],oldItem=oldValue[key],key in oldValue?oldItem!=oldItem&&newItem!=newItem||oldItem===newItem||(changeDetected++,oldValue[key]=newItem):(oldLength++,oldValue[key]=newItem,changeDetected++));if(newLength<oldLength)for(key in changeDetected++,oldValue)hasOwnProperty.call(newValue,key)||(oldLength--,delete oldValue[key])}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else for(var key in veryOldValue={},newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key]);else veryOldValue=newValue}$watchCollectionInterceptor.$stateful=!0;var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=1<listener.length,changeDetected=0,changeDetector=$parse(obj,$watchCollectionInterceptor),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,dirty,next,current,logIdx,asyncTask,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),this===$rootScope&&null!==applyAsyncId&&($browser.defer.cancel(applyAsyncId),flushApplyAsync()),lastDirtyWatch=null;do{dirty=!1,current=target;for(var asyncQueuePosition=0;asyncQueuePosition<asyncQueue.length;asyncQueuePosition++){try{(0,(asyncTask=asyncQueue[asyncQueuePosition]).fn)(asyncTask.scope,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}asyncQueue.length=0;traverseScopesLoop:do{if(watchers=!current.$$suspended&&current.$$watchers)for(watchers.$$digestWatchIndex=watchers.length;watchers.$$digestWatchIndex--;)try{if(watch=watchers[watchers.$$digestWatchIndex])if((value=(0,watch.get)(current))===(last=watch.last)||(watch.eq?equals(value,last):isNumberNaN(value)&&isNumberNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,(lastDirtyWatch=watch).last=watch.eq?copy(value,null):value,(0,watch.fn)(value,last===initWatchVal?value:last,current),ttl<5&&(watchLog[logIdx=4-ttl]||(watchLog[logIdx]=[]),watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last}))}catch(e){$exceptionHandler(e)}if(!(next=!current.$$suspended&&current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,watchLog)}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueuePosition<postDigestQueue.length;)try{postDigestQueue[postDigestQueuePosition++]()}catch(e){$exceptionHandler(e)}postDigestQueue.length=postDigestQueuePosition=0,$browser.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;for(var eventName in this.$broadcast("$destroy"),this.$$destroyed=!0,this===$rootScope&&$browser.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount),this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent&&parent.$$childHead===this&&(parent.$$childHead=this.$$nextSibling),parent&&parent.$$childTail===this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$$nextSibling=null,cleanUpScope(this)}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()}),asyncQueue.push({scope:this,fn:$parse(expr),locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$applyAsync:function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression),expr=$parse(expr),scheduleApplyAsync()},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);for(var current=this;current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++,current=current.$parent;);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);-1!==indexOfListener&&(delete namedListeners[indexOfListener],decrementListenerCount(self,1,name))}},$emit:function(name,args){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;i<length;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)break;scope=scope.$parent}while(scope);return event.currentScope=null,event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1};if(!target.$$listenerCount[name])return event;for(var listeners,i,length,listenerArgs=concat([event],arguments,1);current=next;){for(i=0,length=(listeners=(event.currentScope=current).$$listeners[name]||[]).length;i<length;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event.currentScope=null,event}};var $rootScope=new Scope,asyncQueue=$rootScope.$$asyncQueue=[],postDigestQueue=$rootScope.$$postDigestQueue=[],applyAsyncQueue=$rootScope.$$applyAsyncQueue=[],postDigestQueuePosition=0;return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|s?ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function sanitizeUri(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return""===(normalizedVal=urlResolve(uri&&uri.trim()).href)||normalizedVal.match(regex)?uri:"unsafe:"+normalizedVal}}}function snakeToCamel(name){return name.replace(UNDERSCORE_LOWERCASE_REGEXP,fnCamelCaseReplace)}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(-1<matcher.indexOf("***"))throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;i<n;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;i<n;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function TrustedValueHolderType(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function sceValueOf(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function sceToString(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||isUndefined(trustedValue)||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||isUndefined(maybeTrusted)||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function htmlSanitizer(){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&msie<8)throw $sceMinErr("iequirks",
"Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function sceParseAs(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[snakeToCamel("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[snakeToCamel("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[snakeToCamel("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var eventSupport={},hasHistoryPushState=!(!($window.nw&&$window.nw.process)&&$window.chrome&&($window.chrome.app&&$window.chrome.app.runtime||!$window.chrome.app&&$window.chrome.runtime&&$window.chrome.runtime.id))&&$window.history&&$window.history.pushState,android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;return bodyStyle&&(transitions=!!("transition"in bodyStyle||"webkitTransition"in bodyStyle),animations=!!("animation"in bodyStyle||"webkitAnimation"in bodyStyle)),{history:!(!hasHistoryPushState||android<4||boxee),hasEvent:function(event){if("input"===event&&msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),transitions:transitions,animations:animations,android:android}}]}function $TemplateRequestProvider(){var httpOptions;this.httpOptions=function(val){return val?(httpOptions=val,this):httpOptions},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function($exceptionHandler,$templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){return ignoreRequestError||(resp=$templateRequestMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText),$exceptionHandler(resp)),$q.reject(resp)}handleRequestFn.totalPendingRequests++,isString(tpl)&&!isUndefined($templateCache.get(tpl))||(tpl=$sce.getTrustedResourceUrl(tpl));var transformResponse=$http.defaults&&$http.defaults.transformResponse;return isArray(transformResponse)?transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform}):transformResponse===defaultHttpResponseTransform&&(transformResponse=null),$http.get(tpl,extend({cache:$templateCache,transformResponse:transformResponse},httpOptions))["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,response.data),response.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={findBindings:function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];return forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){opt_exactMatch?new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)").test(bindingName)&&matches.push(binding):-1!==bindingName.indexOf(expression)&&matches.push(binding)})}),matches},findModels:function(element,expression,opt_exactMatch){for(var prefixes=["ng-","data-ng-","ng\\:"],p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=",selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]',elements=element.querySelectorAll(selector);if(elements.length)return elements}},getLocation:function(){return $location.url()},setLocation:function(url){url!==$location.url()&&($location.url(url),$rootScope.$digest())},whenStable:function(callback){$browser.notifyWhenNoOutstandingRequests(callback)}};return testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){isFunction(fn)||(invokeApply=delay,delay=fn,fn=noop);var timeoutId,args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return!!(promise&&promise.$$timeoutId in deferreds)&&(markQExceptionHandled(deferreds[promise.$$timeoutId].promise),deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId))},timeout}]}function urlResolve(url){if(!isString(url))return url;var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){return urlsAreSameOrigin(requestUrl,originUrl)}function urlIsAllowedOriginFactory(whitelistedOriginUrls){var parsedAllowedOriginUrls=[originUrl].concat(whitelistedOriginUrls.map(urlResolve));return function urlIsAllowedOrigin(requestUrl){var parsedUrl=urlResolve(requestUrl);return parsedAllowedOriginUrls.some(urlsAreSameOrigin.bind(null,parsedUrl))}}function urlsAreSameOrigin(url1,url2){return url1=urlResolve(url1),url2=urlResolve(url2),url1.protocol===url2.protocol&&url1.host===url2.host}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){function safeGetCookie(rawDocument){try{return rawDocument.cookie||""}catch(e){return""}}function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var rawDocument=$document[0]||{},lastCookies={},lastCookieString="";return function(){var cookieArray,cookie,i,index,name,currentCookieString=safeGetCookie(rawDocument);if(currentCookieString!==lastCookieString)for(cookieArray=(lastCookieString=currentCookieString).split("; "),lastCookies={},i=0;i<cookieArray.length;i++)0<(index=(cookie=cookieArray[i]).indexOf("="))&&(name=safeDecodeURIComponent(cookie.substring(0,index)),isUndefined(lastCookies[name])&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))));return lastCookies}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator,anyPropertyKey){if(!isArrayLike(array)){if(null==array)return array;throw minErr("filter")("notarray","Expected array but received: {0}",array)}var predicateFn,matchAgainstAnyProp;switch(anyPropertyKey=anyPropertyKey||"$",getTypeForFilter(expression)){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=!0;case"object":predicateFn=createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp){var shouldMatchPrimitives=isObject(expression)&&anyPropertyKey in expression;return!0===comparator?comparator=equals:isFunction(comparator)||(comparator=function(actual,expected){return!isUndefined(actual)&&(null===actual||null===expected?actual===expected:!(isObject(expected)||isObject(actual)&&!hasCustomToString(actual))&&(actual=lowercase(""+actual),expected=lowercase(""+expected),-1!==actual.indexOf(expected)))}),function(item){return shouldMatchPrimitives&&!isObject(item)?deepCompare(item,expression[anyPropertyKey],comparator,anyPropertyKey,!1):deepCompare(item,expression,comparator,anyPropertyKey,matchAgainstAnyProp)}}function deepCompare(actual,expected,comparator,anyPropertyKey,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual),expectedType=getTypeForFilter(expected);if("string"===expectedType&&"!"===expected.charAt(0))return!deepCompare(actual,expected.substring(1),comparator,anyPropertyKey,matchAgainstAnyProp);if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,anyPropertyKey,matchAgainstAnyProp)});switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual)if(key.charAt&&"$"!==key.charAt(0)&&deepCompare(actual[key],expected,comparator,anyPropertyKey,!0))return!0;return!dontMatchWholeObject&&deepCompare(actual,expected,comparator,anyPropertyKey,!1)}if("object"!==expectedType)return comparator(actual,expected);for(key in expected){var expectedVal=expected[key];if(!isFunction(expectedVal)&&!isUndefined(expectedVal)){var matchAnyProperty=key===anyPropertyKey;if(!deepCompare(matchAnyProperty?actual:actual[key],expectedVal,comparator,anyPropertyKey,matchAnyProperty,matchAnyProperty))return!1}}return!0;case"function":return!1;default:return comparator(actual,expected)}}function getTypeForFilter(val){return null===val?"null":typeof val}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),isUndefined(fractionSize)&&(fractionSize=formats.PATTERNS[1].maxFrac);var currencySymbolRe=currencySymbol?/\u00A4/g:/\s*\u00A4\s*/g;return null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(currencySymbolRe,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function parse(numStr){var digits,numberOfIntegerDigits,i,j,zeros,exponent=0;for(-1<(numberOfIntegerDigits=numStr.indexOf(DECIMAL_SEP))&&(numStr=numStr.replace(DECIMAL_SEP,"")),0<(i=numStr.search(/e/i))?(numberOfIntegerDigits<0&&(numberOfIntegerDigits=i),numberOfIntegerDigits+=+numStr.slice(i+1),numStr=numStr.substring(0,i)):numberOfIntegerDigits<0&&(numberOfIntegerDigits=numStr.length),i=0;numStr.charAt(i)===ZERO_CHAR;i++);if(i===(zeros=numStr.length))digits=[0],numberOfIntegerDigits=1;else{for(zeros--;numStr.charAt(zeros)===ZERO_CHAR;)zeros--;for(numberOfIntegerDigits-=i,digits=[],j=0;i<=zeros;i++,j++)digits[j]=+numStr.charAt(i)}return MAX_DIGITS<numberOfIntegerDigits&&(digits=digits.splice(0,MAX_DIGITS-1),exponent=numberOfIntegerDigits-1,numberOfIntegerDigits=1),{d:digits,e:exponent,i:numberOfIntegerDigits}}function roundNumber(parsedNumber,fractionSize,minFrac,maxFrac){var digits=parsedNumber.d,fractionLen=digits.length-parsedNumber.i,roundAt=(fractionSize=isUndefined(fractionSize)?Math.min(Math.max(minFrac,fractionLen),maxFrac):+fractionSize)+parsedNumber.i,digit=digits[roundAt];if(0<roundAt){digits.splice(Math.max(parsedNumber.i,roundAt));for(var j=roundAt;j<digits.length;j++)digits[j]=0}else{fractionLen=Math.max(0,fractionLen),parsedNumber.i=1,digits.length=Math.max(1,roundAt=fractionSize+1),digits[0]=0;for(var i=1;i<roundAt;i++)digits[i]=0}if(5<=digit)if(roundAt-1<0){for(var k=0;roundAt<k;k--)digits.unshift(0),parsedNumber.i++;digits.unshift(1),parsedNumber.i++}else digits[roundAt-1]++;for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);var carry=digits.reduceRight(function(carry,d,i,digits){return d+=carry,digits[i]=d%10,Math.floor(d/10)},0);carry&&(digits.unshift(carry),parsedNumber.i++)}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!isString(number)&&!isNumber(number)||isNaN(number))return"";var parsedNumber,isInfinity=!isFinite(number),isZero=!1,numStr=Math.abs(number)+"",formattedText="";if(isInfinity)formattedText="\u221e";else{roundNumber(parsedNumber=parse(numStr),fractionSize,pattern.minFrac,pattern.maxFrac);var digits=parsedNumber.d,integerLen=parsedNumber.i,exponent=parsedNumber.e,decimals=[];for(isZero=digits.reduce(function(isZero,d){return isZero&&!d},!0);integerLen<0;)digits.unshift(0),integerLen++;0<integerLen?decimals=digits.splice(integerLen,digits.length):(decimals=digits,digits=[0]);var groups=[];for(digits.length>=pattern.lgSize&&groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""));digits.length>pattern.gSize;)groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""));digits.length&&groups.unshift(digits.join("")),formattedText=groups.join(groupSep),decimals.length&&(formattedText+=decimalSep+decimals.join("")),exponent&&(formattedText+="e+"+exponent)}return number<0&&!isZero?pattern.negPre+formattedText+pattern.negSuf:pattern.posPre+formattedText+pattern.posSuf}function padNumber(num,digits,trim,negWrap){var neg="";for((num<0||negWrap&&num<=0)&&(negWrap?num=1-num:(num=-num,neg="-")),num=""+num;num.length<digits;)num=ZERO_CHAR+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim,negWrap){return offset=offset||0,function(date){var value=date["get"+name]();return(0<offset||-offset<value)&&(value+=offset),0===value&&-12===offset&&(value=12),padNumber(value,size,trim,negWrap)}}function dateStrGetter(name,shortForm,standAlone){return function(date,formats){var value=date["get"+name]();return formats[uppercase((standAlone?"STANDALONE":"")+(shortForm?"SHORT":"")+name)][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset,paddedZone=0<=zone?"+":"";return paddedZone+=padNumber(Math[0<zone?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(dayOfWeekOnFirst<=4?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),diff=+getThursdayThisWeek(date)-+firstThurs;return padNumber(1+Math.round(diff/6048e5),size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=toInt(match[9]+match[10]),tzMin=toInt(match[9]+match[11])),dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour,m=toInt(match[5]||0)-tzMin,s=toInt(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date)||!isFinite(date.getTime()))return date;for(;format;)(match=DATE_FORMATS_SPLIT.exec(format))?format=(parts=concat(parts,match,1)).pop():(parts.push(format),format=null);var dateTimezoneOffset=date.getTimezoneOffset();return timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset),date=convertTimezoneToLocal(date,timezone,!0)),forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):"''"===value?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object,spacing){return isUndefined(spacing)&&(spacing=2),toJson(object,spacing)}}function limitToFilter(){return function(input,limit,begin){return limit=Math.abs(Number(limit))===Infinity?Number(limit):toInt(limit),isNumberNaN(limit)?input:(isNumber(input)&&(input=input.toString()),isArrayLike(input)?(begin=(begin=!begin||isNaN(begin)?0:toInt(begin))<0?Math.max(0,input.length+begin):begin,0<=limit?sliceFn(input,begin,begin+limit):0===begin?sliceFn(input,limit,input.length):sliceFn(input,Math.max(0,begin+limit),begin)):input)}}function sliceFn(input,begin,end){return isString(input)?input.slice(begin,end):slice.call(input,begin,end)}function orderByFilter($parse){function processPredicates(sortPredicates){return sortPredicates.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate))get=predicate;else if(isString(predicate)&&("+"!==predicate.charAt(0)&&"-"!==predicate.charAt(0)||(descending="-"===predicate.charAt(0)?-1:1,predicate=predicate.substring(1)),""!==predicate&&(get=$parse(predicate)).constant)){var key=get();get=function(value){return value[key]}}return{get:get,descending:descending}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(value){return isFunction(value.valueOf)&&isPrimitive(value=value.valueOf())||hasCustomToString(value)&&isPrimitive(value=value.toString()),value}function getPredicateValue(value,index){var type=typeof value;return null===value?(type="string",value="null"):"object"===type&&(value=objectValue(value)),{value:value,type:type,index:index}}function defaultCompare(v1,v2){var result=0,type1=v1.type,type2=v2.type;if(type1===type2){var value1=v1.value,value2=v2.value;"string"===type1?(value1=value1.toLowerCase(),value2=value2.toLowerCase()):"object"===type1&&(isObject(value1)&&(value1=v1.index),isObject(value2)&&(value2=v2.index)),value1!==value2&&(result=value1<value2?-1:1)}else result=type1<type2?-1:1;return result}return function(array,sortPredicate,reverseOrder,compareFn){function getComparisonObject(value,index){return{value:value,tieBreaker:{value:index,type:"number",index:index},predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var i=0,ii=predicates.length;i<ii;i++){var result=compare(v1.predicateValues[i],v2.predicateValues[i]);if(result)return result*predicates[i].descending*descending}return(compare(v1.tieBreaker,v2.tieBreaker)||defaultCompare(v1.tieBreaker,v2.tieBreaker))*descending}if(null==array)return array;if(!isArrayLike(array))throw minErr("orderBy")("notarray","Expected array but received: {0}",array);isArray(sortPredicate)||(sortPredicate=[sortPredicate]),0===sortPredicate.length&&(sortPredicate=["+"]);var predicates=processPredicates(sortPredicate),descending=reverseOrder?-1:1,compare=isFunction(compareFn)?compareFn:defaultCompare,compareValues=Array.prototype.map.call(array,getComparisonObject);return compareValues.sort(doComparison),array=compareValues.map(function(item){return item.value})}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController($element,$attrs,$scope,$animate,$interpolate){this.$$controls=[],this.$error={},this.$$success={},this.$pending=undefined,this.$name=$interpolate($attrs.name||$attrs.ngForm||"")($scope),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=nullFormCtrl,this.$$element=$element,this.$$animate=$animate,setupValidity(this)}function setupValidity(instance){instance.$$classCache={},instance.$$classCache[INVALID_CLASS]=!(instance.$$classCache[VALID_CLASS]=instance.$$element.hasClass(VALID_CLASS))}function addSetValidityMethod(context){function createAndSet(ctrl,name,value,controller){ctrl[name]||(ctrl[name]={}),set(ctrl[name],value,controller)}function unsetAndCleanup(ctrl,name,value,controller){ctrl[name]&&unset(ctrl[name],value,controller),isObjectEmpty(ctrl[name])&&(ctrl[name]=undefined)}function cachedToggleClass(ctrl,className,switchValue){switchValue&&!ctrl.$$classCache[className]?(ctrl.$$animate.addClass(ctrl.$$element,className),ctrl.$$classCache[className]=!0):!switchValue&&ctrl.$$classCache[className]&&(ctrl.$$animate.removeClass(ctrl.$$element,className),ctrl.$$classCache[className]=!1)}function toggleValidationCss(ctrl,validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",cachedToggleClass(ctrl,VALID_CLASS+validationErrorKey,!0===isValid),cachedToggleClass(ctrl,INVALID_CLASS+validationErrorKey,!1===isValid)}var clazz=context.clazz,set=context.set,unset=context.unset;clazz.prototype.$setValidity=function(validationErrorKey,state,controller){var combinedState;isUndefined(state)?createAndSet(this,"$pending",validationErrorKey,controller):unsetAndCleanup(this,"$pending",validationErrorKey,controller),isBoolean(state)?state?(unset(this.$error,validationErrorKey,controller),set(this.$$success,validationErrorKey,controller)):(set(this.$error,validationErrorKey,controller),unset(this.$$success,validationErrorKey,controller)):(unset(this.$error,validationErrorKey,controller),unset(this.$$success,validationErrorKey,controller)),this.$pending?(cachedToggleClass(this,PENDING_CLASS,!0),this.$valid=this.$invalid=undefined,toggleValidationCss(this,"",null)):(cachedToggleClass(this,PENDING_CLASS,!1),this.$valid=isObjectEmpty(this.$error),this.$invalid=!this.$valid,toggleValidationCss(this,"",this.$valid)),toggleValidationCss(this,validationErrorKey,combinedState=this.$pending&&this.$pending[validationErrorKey]?undefined:!this.$error[validationErrorKey]&&(!!this.$$success[validationErrorKey]||null)),this.$$parentForm.$setValidity(validationErrorKey,combinedState,this)}}function isObjectEmpty(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var timeout,type=lowercase(element[0].type);if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(){composing=!0}),element.on("compositionupdate",function(ev){(isUndefined(ev.data)||""===ev.data)&&(composing=!1)}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(ev){if(timeout&&($browser.defer.cancel(timeout),timeout=null),!composing){var value=element.val(),event=ev&&ev.type;"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value)),(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var deferListener=function(ev,input,origValue){timeout||(timeout=$browser.defer(function(){timeout=null,input&&input.value===origValue||listener(ev)}))};element.on("keydown",function(event){var key=event.keyCode;91===key||15<key&&key<19||37<=key&&key<=40||deferListener(event,this,this.value)}),$sniffer.hasEvent("paste")&&element.on("paste cut drop",deferListener)}element.on("change",listener),PARTIAL_VALIDATION_TYPES[type]&&ctrl.$$hasNativeValidators&&type===attr.type&&element.on(PARTIAL_VALIDATION_EVENTS,function(ev){if(!timeout){var validity=this[VALIDITY_STATE_PROPERTY],origBadInput=validity.badInput,origTypeMismatch=validity.typeMismatch;timeout=$browser.defer(function(){timeout=null,validity.badInput===origBadInput&&validity.typeMismatch===origTypeMismatch||listener(ev)})}}),ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;element.val()!==value&&element.val(value)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return existingDate&&(hours=existingDate.getHours(),minutes=existingDate.getMinutes(),seconds=existingDate.getSeconds(),milliseconds=existingDate.getMilliseconds()),new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if('"'===iso.charAt(0)&&'"'===iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1)),ISO_DATE_REGEXP.test(iso))return new Date(iso);if(regexp.lastIndex=0,parts=regexp.exec(iso))return parts.shift(),map=date?{yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)}),new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0)}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function dynamicDateInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter){function isValidDate(value){return value&&!(value.getTime&&value.getTime()!=value.getTime())}function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDateAndConvertTimeZoneToLocal(val)||undefined:val}function parseDateAndConvertTimeZoneToLocal(value,previousDate){var timezone=ctrl.$options.getOption("timezone");previousTimezone&&previousTimezone!==timezone&&(previousDate=addDateMinutes(previousDate,timezoneToOffset(previousTimezone)));var parsedDate=parseDate(value,previousDate);return!isNaN(parsedDate)&&timezone&&(parsedDate=convertTimezoneToLocal(parsedDate,timezone)),parsedDate}var previousDate,previousTimezone,minVal,maxVal;(badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$$parserName=type,ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:regexp.test(value)?parseDateAndConvertTimeZoneToLocal(value,previousDate):undefined}),ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw ngModelMinErr("datefmt","Expected `{0}` to be a date",value);if(isValidDate(value)){previousDate=value;var timezone=ctrl.$options.getOption("timezone");return timezone&&(previousDate=convertTimezoneToLocal(previousDate,previousTimezone=timezone,!0)),$filter("date")(value,format,timezone)}return previousTimezone=previousDate=null,""}),isDefined(attr.min)||attr.ngMin)&&(ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal},attr.$observe("min",function(val){minVal=parseObservedDateValue(val),ctrl.$validate()}));(isDefined(attr.max)||attr.ngMax)&&(ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal},attr.$observe("max",function(val){maxVal=parseObservedDateValue(val),ctrl.$validate()}))}}function badInputChecker(scope,element,attr,ctrl){var node=element[0];(ctrl.$$hasNativeValidators=isObject(node.validity))&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput||validity.typeMismatch?undefined:value})}function numberFormatterParser(ctrl){ctrl.$$parserName="number",ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:NUMBER_REGEXP.test(value)?parseFloat(value):undefined}),ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value})}function parseNumberAttrVal(val){return isDefined(val)&&!isNumber(val)&&(val=parseFloat(val)),isNumberNaN(val)?undefined:val}function isNumberInteger(num){return(0|num)===num}function countDecimals(num){var numString=num.toString(),decimalSymbolIndex=numString.indexOf(".");if(-1!==decimalSymbolIndex)return numString.length-decimalSymbolIndex-1;if(-1<num&&num<1){var match=/e-(\d+)$/.exec(numString);if(match)return Number(match[1])}return 0}function isValidForStep(viewValue,stepBase,step){var value=Number(viewValue),isNonIntegerValue=!isNumberInteger(value),isNonIntegerStepBase=!isNumberInteger(stepBase),isNonIntegerStep=!isNumberInteger(step);if(isNonIntegerValue||isNonIntegerStepBase||isNonIntegerStep){var valueDecimals=isNonIntegerValue?countDecimals(value):0,stepBaseDecimals=isNonIntegerStepBase?countDecimals(stepBase):0,stepDecimals=isNonIntegerStep?countDecimals(step):0,decimalCount=Math.max(valueDecimals,stepBaseDecimals,stepDecimals),multiplier=Math.pow(10,decimalCount);value*=multiplier,stepBase*=multiplier,step*=multiplier,isNonIntegerValue&&(value=Math.round(value)),isNonIntegerStepBase&&(stepBase=Math.round(stepBase)),isNonIntegerStep&&(step=Math.round(step))}return(value-stepBase)%step==0}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){var minVal,maxVal,stepVal;(badInputChecker(scope,element,attr,ctrl),numberFormatterParser(ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser),(isDefined(attr.min)||attr.ngMin)&&(ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||minVal<=value},attr.$observe("min",function(val){minVal=parseNumberAttrVal(val),ctrl.$validate()})),(isDefined(attr.max)||attr.ngMax)&&(ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||value<=maxVal},attr.$observe("max",function(val){maxVal=parseNumberAttrVal(val),ctrl.$validate()})),isDefined(attr.step)||attr.ngStep)&&(ctrl.$validators.step=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)},attr.$observe("step",function(val){stepVal=parseNumberAttrVal(val),ctrl.$validate()}))}function rangeInputType(scope,element,attr,ctrl,$sniffer,$browser){function setInitialValueAndObserver(htmlAttrName,changeFn){element.attr(htmlAttrName,attr[htmlAttrName]),attr.$observe(htmlAttrName,changeFn)}function minChange(val){if(minVal=parseNumberAttrVal(val),!isNumberNaN(ctrl.$modelValue))if(supportsRange){var elVal=element.val();elVal<minVal&&(elVal=minVal,element.val(elVal)),ctrl.$setViewValue(elVal)}else ctrl.$validate()}function maxChange(val){if(maxVal=parseNumberAttrVal(val),!isNumberNaN(ctrl.$modelValue))if(supportsRange){var elVal=element.val();maxVal<elVal&&(element.val(maxVal),elVal=maxVal<minVal?minVal:maxVal),ctrl.$setViewValue(elVal)}else ctrl.$validate()}function stepChange(val){stepVal=parseNumberAttrVal(val),isNumberNaN(ctrl.$modelValue)||(supportsRange&&ctrl.$viewValue!==element.val()?ctrl.$setViewValue(element.val()):ctrl.$validate())}badInputChecker(scope,element,attr,ctrl),numberFormatterParser(ctrl),baseInputType(scope,element,attr,ctrl,
$sniffer,$browser);var supportsRange=ctrl.$$hasNativeValidators&&"range"===element[0].type,minVal=supportsRange?0:undefined,maxVal=supportsRange?100:undefined,stepVal=supportsRange?1:undefined,validity=element[0].validity,hasMinAttr=isDefined(attr.min),hasMaxAttr=isDefined(attr.max),hasStepAttr=isDefined(attr.step),originalRender=ctrl.$render;ctrl.$render=supportsRange&&isDefined(validity.rangeUnderflow)&&isDefined(validity.rangeOverflow)?function rangeRender(){originalRender(),ctrl.$setViewValue(element.val())}:originalRender,hasMinAttr&&(ctrl.$validators.min=supportsRange?function noopMinValidator(){return!0}:function minValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(minVal)||minVal<=viewValue},setInitialValueAndObserver("min",minChange)),hasMaxAttr&&(ctrl.$validators.max=supportsRange?function noopMaxValidator(){return!0}:function maxValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(maxVal)||viewValue<=maxVal},setInitialValueAndObserver("max",maxChange)),hasStepAttr&&(ctrl.$validators.step=supportsRange?function nativeStepValidator(){return!validity.stepMismatch}:function stepValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)},setInitialValueAndObserver("step",stepChange))}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="url",ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="email",ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){var doTrim=!attr.ngTrim||"false"!==trim(attr.ngTrim);isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){var value;element[0].checked&&(value=attr.value,doTrim&&(value=trim(value)),ctrl.$setViewValue(value,ev&&ev.type))};element.on("click",listener),ctrl.$render=function(){var value=attr.value;doTrim&&(value=trim(value)),element[0].checked=value===ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){if(!(parseFn=$parse(expression)).constant)throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return!1===value},ctrl.$formatters.push(function(value){return equals(value,trueValue)}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){function arrayDifference(tokens1,tokens2){if(!tokens1||!tokens1.length)return[];if(!tokens2||!tokens2.length)return tokens1;var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token===tokens2[j])continue outer;values.push(token)}return values}function split(classString){return classString&&classString.split(" ")}function toClassString(classValue){var classString=classValue;return isArray(classValue)?classString=classValue.map(toClassString).join(" "):isObject(classValue)&&(classString=Object.keys(classValue).filter(function(key){return classValue[key]}).join(" ")),classString}function toFlatValue(classValue){var flatValue=classValue;if(isArray(classValue))flatValue=classValue.map(toFlatValue);else if(isObject(classValue)){var hasUndefined=!1;flatValue=Object.keys(classValue).filter(function(key){var value=classValue[key];return!hasUndefined&&isUndefined(value)&&(hasUndefined=!0),value}),hasUndefined&&flatValue.push(undefined)}return flatValue}var indexWatchExpression;return name="ngClass"+name,["$parse",function($parse){return{restrict:"AC",link:function(scope,element,attr){function addClasses(classString){classString=digestClassCounts(split(classString),1),attr.$addClass(classString)}function removeClasses(classString){classString=digestClassCounts(split(classString),-1),attr.$removeClass(classString)}function updateClasses(oldClassString,newClassString){var oldClassArray=split(oldClassString),newClassArray=split(newClassString),toRemoveArray=arrayDifference(oldClassArray,newClassArray),toAddArray=arrayDifference(newClassArray,oldClassArray),toRemoveString=digestClassCounts(toRemoveArray,-1),toAddString=digestClassCounts(toAddArray,1);attr.$addClass(toAddString),attr.$removeClass(toRemoveString)}function digestClassCounts(classArray,count){var classesToUpdate=[];return forEach(classArray,function(className){(0<count||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(0<count)&&classesToUpdate.push(className))}),classesToUpdate.join(" ")}function ngClassIndexWatchAction(newModulo){newModulo===selector?addClasses(oldClassString):removeClasses(oldClassString),oldModulo=newModulo}function ngClassOneTimeWatchAction(newClassValue){var newClassString=toClassString(newClassValue);newClassString!==oldClassString&&ngClassWatchAction(newClassString)}function ngClassWatchAction(newClassString){oldModulo===selector&&updateClasses(oldClassString,newClassString),oldClassString=newClassString}var oldClassString,expression=attr[name].trim(),isOneTime=":"===expression.charAt(0)&&":"===expression.charAt(1),watchExpression=$parse(expression,isOneTime?toFlatValue:toClassString),watchAction=isOneTime?ngClassOneTimeWatchAction:ngClassWatchAction,classCounts=element.data("$classCounts"),oldModulo=!0;classCounts||(classCounts=createMap(),element.data("$classCounts",classCounts)),"ngClass"!==name&&(indexWatchExpression||(indexWatchExpression=$parse("$index",function moduloTwo($index){return 1&$index})),scope.$watch(indexWatchExpression,ngClassIndexWatchAction)),scope.$watch(watchExpression,watchAction,isOneTime)}}}]}function NgModelController($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$q,$interpolate){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=undefined,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=undefined,this.$name=$interpolate($attr.name||"",!1)($scope),this.$$parentForm=nullFormCtrl,this.$options=defaultModelOptions,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=$parse($attr.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=undefined,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:$scope}),this.$$attr=$attr,this.$$element=$element,this.$$animate=$animate,this.$$timeout=$timeout,this.$$parse=$parse,this.$$q=$q,this.$$exceptionHandler=$exceptionHandler,setupValidity(this),setupModelWatcher(this)}function setupModelWatcher(ctrl){ctrl.$$scope.$watch(function ngModelWatch(scope){var modelValue=ctrl.$$ngModelGet(scope);return modelValue===ctrl.$modelValue||ctrl.$modelValue!=ctrl.$modelValue&&modelValue!=modelValue||ctrl.$$setModelValue(modelValue),modelValue})}function ModelOptions(options){this.$$options=options}function defaults(dst,src){forEach(src,function(value,key){isDefined(dst[key])||(dst[key]=value)})}function setOptionSelectedStatus(optionEl,value){optionEl.prop("selected",value),optionEl.attr("selected",value)}var minErrConfig={objectMaxDepth:5},REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",hasOwnProperty=Object.prototype.hasOwnProperty,lowercase=function(string){return isString(string)?string.toLowerCase():string},uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=window.document.documentMode;var isNumberNaN=Number.isNaN||function isNumberNaN(num){return num!=num};noop.$inject=[],identity.$inject=[];var isArray=Array.isArray,TYPED_ARRAY_REGEXP=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,trim=function(value){return isString(value)?value.trim():value},escapeForRegexp=function(s){return s.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},csp=function(){function noUnsafeEval(){try{return new Function(""),!1}catch(e){return!0}}if(!isDefined(csp.rules)){var ngCspElement=window.document.querySelector("[ng-csp]")||window.document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||-1!==ngCspAttribute.indexOf("no-unsafe-eval"),noInlineStyle:!ngCspAttribute||-1!==ngCspAttribute.indexOf("no-inline-style")}}else csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:!1}}return csp.rules},jq=function(){if(isDefined(jq.name_))return jq.name_;var el,i,prefix,name,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i)if(prefix=ngAttrPrefixes[i],el=window.document.querySelector("["+prefix.replace(":","\\:")+"jq]")){name=el.getAttribute(prefix+"jq");break}return jq.name_=name},ALL_COLONS=/:/g,ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"],isAutoBootstrapAllowed=allowAutoBootstrap(window.document),SNAKE_CASE_REGEXP=/[A-Z]/g,bindJQueryFired=!1,NODE_TYPE_ELEMENT=1,NODE_TYPE_ATTRIBUTE=2,NODE_TYPE_TEXT=3,NODE_TYPE_COMMENT=8,NODE_TYPE_DOCUMENT=9,NODE_TYPE_DOCUMENT_FRAGMENT=11,version={full:"1.6.10-patched-by-gleam-v5",major:1,minor:6,dot:10,codeName:"nothing-but-a-routine-v2"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1;JQLite._data=function(node){return this.cache[node[this.expando]]||{}};var DASH_LOWERCASE_REGEXP=/-([a-z])/g,MS_HACK_REGEXP=/^-ms-/,MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"},jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:-]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wrapMap={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var wrapMapIE9={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var key in wrapMap){var wrapMapValueClosing=wrapMap[key],wrapMapValue=wrapMapValueClosing.slice().reverse();wrapMapIE9[key]=[wrapMapValue.length,"<"+wrapMapValue.join("><")+">","</"+wrapMapValueClosing.join("></")+">"]}wrapMapIE9.optgroup=wrapMapIE9.option;var jqLiteContains=window.Node.prototype.contains||function(arg){return!!(16&this.compareDocumentPosition(arg))},JQLitePrototype=JQLite.prototype={ready:jqLiteReady,toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(0<=index?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:function jqLiteCleanData(nodes){for(var i=0,ii=nodes.length;i<ii;i++)jqLiteRemoveData(nodes[i])}},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){if(name=cssKebabToCamel(name),!isDefined(value))return element.style[name];element.style[name]=value},attr:function(element,name,value){var ret,nodeType=element.nodeType;if(nodeType!==NODE_TYPE_TEXT&&nodeType!==NODE_TYPE_ATTRIBUTE&&nodeType!==NODE_TYPE_COMMENT&&element.getAttribute){var lowercasedName=lowercase(name),isBooleanAttr=BOOLEAN_ATTR[lowercasedName];if(!isDefined(value))return ret=element.getAttribute(name),isBooleanAttr&&null!==ret&&(ret=lowercasedName),null===ret?undefined:ret;null===value||!1===value&&isBooleanAttr?element.removeAttribute(name):element.setAttribute(name,isBooleanAttr?lowercasedName:value)}},prop:function(element,name,value){if(!isDefined(value))return element[name];element[name]=value},text:function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}return getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),result}return element.value}element.value=value},html:function(element,value){if(isUndefined(value))return element.innerHTML;jqLiteDealoc(element,!0),element.innerHTML=value},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&isUndefined(2===fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)){if(isObject(arg1)){for(i=0;i<nodeCount;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=isUndefined(value)?Math.min(nodeCount,1):nodeCount,j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;i<nodeCount;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(element)){var expandoStore=jqLiteExpandoStore(element,!0),events=expandoStore.events,handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));for(var types=0<=type.indexOf(" ")?type.split(" "):[type],i=types.length,addHandler=function(type,specialHandlerWrapper,noEventListener){var eventFns=events[type];eventFns||((eventFns=events[type]=[]).specialHandlerWrapper=specialHandlerWrapper,"$destroy"===type||noEventListener||element.addEventListener(type,handle)),eventFns.push(fn)};i--;)type=types[i],MOUSE_EVENT_MAP[type]?(addHandler(MOUSE_EVENT_MAP[type],specialMouseHandlerWrapper),addHandler(type,undefined,!0)):addHandler(type)}},off:jqLiteOff,one:function(element,type,fn){(element=jqLite(element)).on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_DOCUMENT_FRAGMENT)for(var i=0,ii=(node=new JQLite(node)).length;i<ii;i++){var child=node[i];element.appendChild(child)}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){jqLiteWrapNode(element,jqLite(wrapNode).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,!0)},after:function(element,newElement){var index=element,parent=element.parentNode;if(parent)for(var i=0,ii=(newElement=new JQLite(newElement)).length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling),index=node}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0,ii=this.length;i<ii;i++)isUndefined(value)?isDefined(value=fn(this[i],arg1,arg2,arg3))&&(value=jqLite(value)):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this}}),JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off;var nanKey=Object.create(null);NgMapShim.prototype={_idx:function(key){return key===this._lastKey||(this._lastKey=key,this._lastIndex=this._keys.indexOf(key)),this._lastIndex},_transformKey:function(key){return isNumberNaN(key)?nanKey:key},get:function(key){key=this._transformKey(key);var idx=this._idx(key);if(-1!==idx)return this._values[idx]},set:function(key,value){key=this._transformKey(key);var idx=this._idx(key);-1===idx&&(idx=this._lastIndex=this._keys.length),this._keys[idx]=key,this._values[idx]=value},"delete":function(key){key=this._transformKey(key);var idx=this._idx(key);return-1!==idx&&(this._keys.splice(idx,1),this._values.splice(idx,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var NgMap=NgMapShim,$$MapProvider=[function(){this.$get=[function(){return NgMap}]}],ARROW_ARG=/^([^(]+?)=>/,FN_ARGS=/^[^(]*\(\s*([^)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;var $animateMinErr=minErr("$animate"),ELEMENT_NODE=1,NG_ANIMATE_CLASSNAME="ng-animate",$$CoreAnimateJsProvider=function(){this.$get=noop},$$CoreAnimateQueueProvider=function(){var postDigestQueue=new NgMap,postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){function updateData(data,classes,value){var changed=!1;return classes&&forEach(classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[],function(className){className&&(changed=!0,data[className]=value)}),changed}function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class")),toAdd="",toRemove="";forEach(data,function(status,className){status!==!!existing[className]&&(status?toAdd+=(toAdd.length?" ":"")+className:toRemove+=(toRemove.length?" ":"")+className)}),forEach(element,function(elm){toAdd&&jqLiteAddClass(elm,toAdd),toRemove&&jqLiteRemoveClass(elm,toRemove)}),postDigestQueue["delete"](element)}}),postDigestElements.length=0}function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{},classesAdded=updateData(data,add,!0),classesRemoved=updateData(data,remove,!1);(classesAdded||classesRemoved)&&(postDigestQueue.set(element,data),postDigestElements.push(element),1===postDigestElements.length&&$rootScope.$$postDigest(handleCSSClassChanges))}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){domOperation&&domOperation(),(options=options||{}).from&&element.css(options.from),options.to&&element.css(options.to),(options.addClass||options.removeClass)&&addRemoveClassesPostDigest(element,options.addClass,options.removeClass);var runner=new $$AnimateRunner;return runner.complete(),runner}}}]},$AnimateProvider=["$provide",function($provide){var provider=this,classNameFilter=null,customFilter=null;this.$$registeredAnimations=Object.create(null),this.register=function(name,factory){if(name&&"."!==name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key,$provide.factory(key,factory)},this.customFilter=function(filterFn){return 1===arguments.length&&(customFilter=isFunction(filterFn)?filterFn:null),customFilter},this.classNameFilter=function(expression){if(1===arguments.length&&((classNameFilter=expression instanceof RegExp?expression:null)&&new RegExp("[(\\s|\\/)]"+NG_ANIMATE_CLASSNAME+"[(\\s|\\/)]").test(classNameFilter.toString())))throw classNameFilter=null,$animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME);return classNameFilter},this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);!afterNode||afterNode.parentNode||afterNode.previousElementSibling||(afterElement=null)}afterElement?afterElement.after(element):parentElement.prepend(element)}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){runner.end&&runner.end()},enter:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),domInsert(element,parent=parent||after.parent(),after),$$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),domInsert(element,parent=parent||after.parent(),after),$$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){return(options=prepareAnimateOptions(options)).addClass=mergeClasses(options.addclass,className),$$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){return(options=prepareAnimateOptions(options)).removeClass=mergeClasses(options.removeClass,className),$$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){return(options=prepareAnimateOptions(options)).addClass=mergeClasses(options.addClass,add),options.removeClass=mergeClasses(options.removeClass,remove),$$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){return(options=prepareAnimateOptions(options)).from=options.from?extend(options.from,from):from,options.to=options.to?extend(options.to,to):to,className=className||"ng-inline-animate",options.tempClasses=mergeClasses(options.tempClasses,className),$$animateQueue.push(element,"animate",options)}}}]}],$$AnimateAsyncRunFactoryProvider=function(){this.$get=["$$rAF",function($$rAF){function waitForTick(fn){waitQueue.push(fn),1<waitQueue.length||$$rAF(function(){for(var i=0;i<waitQueue.length;i++)waitQueue[i]();waitQueue=[]})}var waitQueue=[];return function(){var passed=!1;return waitForTick(function(){passed=!0}),function(callback){passed?callback():waitForTick(callback)}}}]},$$AnimateRunnerFactoryProvider=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function($q,$sniffer,$$animateAsyncRun,$$isDocumentHidden,$timeout){function AnimateRunner(host){this.setHost(host);var rafTick=$$animateAsyncRun(),timeoutTick=function(fn){$timeout(fn,0,!1)};this._doneCallbacks=[],this._tick=function(fn){$$isDocumentHidden()?timeoutTick(fn):rafTick(fn)},this._state=0}var INITIAL_STATE=0,DONE_PENDING_STATE=1,DONE_COMPLETE_STATE=2;return AnimateRunner.chain=function(chain,callback){function next(){index!==chain.length?chain[index](function(response){!1!==response?(index++,next()):callback(!1)}):callback(!0)}var index=0;next()},AnimateRunner.all=function(runners,callback){function onProgress(response){status=status&&response,++count===runners.length&&callback(status)}var count=0,status=!0;forEach(runners,function(runner){runner.done(onProgress)})},AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){this._state===DONE_COMPLETE_STATE?fn():this._doneCallbacks.push(fn)},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){!1===status?reject():resolve()})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},"catch":function(handler){return this.getPromise()["catch"](handler)},"finally":function(handler){return this.getPromise()["finally"](handler)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(response){var self=this;self._state===INITIAL_STATE&&(self._state=DONE_PENDING_STATE,self._tick(function(){self._resolve(response)}))},_resolve:function(response){this._state!==DONE_COMPLETE_STATE&&(forEach(this._doneCallbacks,function(fn){fn(response)}),this._doneCallbacks.length=0,this._state=DONE_COMPLETE_STATE)}},AnimateRunner}]},$CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function($$rAF,$q,$$AnimateRunner){return function(element,initialOptions){function run(){return $$rAF(function(){applyAnimationContents(),closed||runner.complete(),closed=!0}),runner}function applyAnimationContents(){options.addClass&&(element.addClass(options.addClass),options.addClass=null),options.removeClass&&(element.removeClass(options.removeClass),options.removeClass=null),options.to&&(element.css(options.to),options.to=null)}var options=initialOptions||{};options.$$prepared||(options=copy(options)),options.cleanupStyles&&(options.from=options.to=null),options.from&&(element.css(options.from),options.from=null);var closed,runner=new $$AnimateRunner;return{start:run,end:run}}}]},$compileMinErr=minErr("$compile"),_UNINITIALIZED_VALUE=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"],SimpleChange.prototype.isFirstChange=function(){return this.previousValue===_UNINITIALIZED_VALUE};var PREFIX_REGEXP=/^((?:x|data)[:\-_])/i,SPECIAL_CHARS_REGEXP=/[:\-_]+(.)/g,$controllerMinErr=minErr("$controller"),CNTRL_REG=/^(\S+)(\s+as\s+([\w$]+))?$/,$$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){return domNode?!domNode.nodeType&&domNode instanceof jqLite&&(domNode=domNode[0]):domNode=$document[0].body,domNode.offsetWidth+1}}]},APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},JSON_START=/^\[|^\{(?!\{)/,JSON_ENDS={"[":/]$/,"{":/}$/},JSON_PROTECTION_PREFIX=/^\)]\}',?\n/,$httpMinErr=minErr("$http"),$interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text)},$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};var $jsonpCallbacksProvider=function(){this.$get=function(){function createCallback(callbackId){var callback=function(data){callback.data=data,callback.called=!0};return callback.id=callbackId,callback}var callbacks=angular.callbacks,callbackMap={};return{createCallback:function(){var callbackId="_"+(callbacks.$$counter++).toString(36),callbackPath="angular.callbacks."+callbackId,callback=createCallback(callbackId);return callbackMap[callbackPath]=callbacks[callbackId]=callback,callbackPath},wasCalled:function(callbackPath){return callbackMap[callbackPath].called},getResponse:function(callbackPath){return callbackMap[callbackPath].data},removeCallback:function(callbackPath){var callback=callbackMap[callbackPath];delete callbacks[callback.id],delete callbackMap[callbackPath]}}}},PATH_MATCH=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location"),DOUBLE_SLASH_REGEX=/^\s*[\\/]{2,}/,locationPrototype={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return(match[1]||""===url)&&this.path(decodeURIComponent(match[1])),(match[2]||match[1]||""===url)&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return"/"===(path=null!==path?path.toString():"").charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");forEach(search=copy(search,{}),function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype),Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5
)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(state)?null:state,this.$$urlUpdatedByLocation=!0,this}});var $parseMinErr=minErr("$parse"),objectValueOf={}.constructor.prototype.valueOf,OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=!0});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Lexer=function Lexer(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.tokens=[];this.index<this.text.length;){var ch=this.text.charAt(this.index);if('"'===ch||"'"===ch)this.readString(ch);else if(this.isNumber(ch)||"."===ch&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(ch,"(){}[].,;:?"))this.tokens.push({index:this.index,text:ch}),this.index++;else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek(),ch3=ch2+this.peek(2),op1=OPERATORS[ch],op2=OPERATORS[ch2],op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:!0}),this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return-1!==chars.indexOf(ch)},peek:function(i){var num=i||1;return this.index+num<this.text.length&&this.text.charAt(this.index+num)},isNumber:function(ch){return"0"<=ch&&ch<="9"&&"string"==typeof ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"\t"===ch||"\n"===ch||"\x0B"===ch||"\xa0"===ch},isIdentifierStart:function(ch){return this.options.isIdentifierStart?this.options.isIdentifierStart(ch,this.codePointAt(ch)):this.isValidIdentifierStart(ch)},isValidIdentifierStart:function(ch){return"a"<=ch&&ch<="z"||"A"<=ch&&ch<="Z"||"_"===ch||"$"===ch},isIdentifierContinue:function(ch){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(ch,this.codePointAt(ch)):this.isValidIdentifierContinue(ch)},isValidIdentifierContinue:function(ch,cp){return this.isValidIdentifierStart(ch,cp)||this.isNumber(ch)},codePointAt:function(ch){return 1===ch.length?ch.charCodeAt(0):(ch.charCodeAt(0)<<10)+ch.charCodeAt(1)-56613888},peekMultichar:function(){var ch=this.text.charAt(this.index),peek=this.peek();if(!peek)return ch;var cp1=ch.charCodeAt(0),cp2=peek.charCodeAt(0);return 55296<=cp1&&cp1<=56319&&56320<=cp2&&cp2<=57343?ch+peek:ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."===ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"===ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"===number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!==number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:start,text:number,constant:!0,value:Number(number)})},readIdent:function(){var start=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var ch=this.peekMultichar();if(!this.isIdentifierContinue(ch))break;this.index+=ch.length}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:!0})},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{string+=ESCAPE[ch]||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,constant:!0,value:string});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function AST(lexer,options){this.lexer=lexer,this.options=options};AST.Program="Program",AST.ExpressionStatement="ExpressionStatement",AST.AssignmentExpression="AssignmentExpression",AST.ConditionalExpression="ConditionalExpression",AST.LogicalExpression="LogicalExpression",AST.BinaryExpression="BinaryExpression",AST.UnaryExpression="UnaryExpression",AST.CallExpression="CallExpression",AST.MemberExpression="MemberExpression",AST.Identifier="Identifier",AST.Literal="Literal",AST.ArrayExpression="ArrayExpression",AST.Property="Property",AST.ObjectExpression="ObjectExpression",AST.ThisExpression="ThisExpression",AST.LocalsExpression="LocalsExpression",AST.NGValueParameter="NGValueParameter",AST.prototype={ast:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value},program:function(){for(var body=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&body.push(this.expressionStatement()),!this.expect(";"))return{type:AST.Program,body:body}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var left=this.expression();this.expect("|");)left=this.filter(left);return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();if(this.expect("=")){if(!isAssignable(result))throw $parseMinErr("lval","Trying to assign a value to a non l-value");result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}}return result},ternary:function(){var alternate,consequent,test=this.logicalOR();return this.expect("?")&&(alternate=this.expression(),this.consume(":"))?(consequent=this.expression(),{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}):test},logicalOR:function(){for(var left=this.logicalAND();this.expect("||");)left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()};return left},logicalAND:function(){for(var left=this.equality();this.expect("&&");)left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()};return left},equality:function(){for(var token,left=this.relational();token=this.expect("==","!=","===","!==");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()};return left},relational:function(){for(var token,left=this.additive();token=this.expect("<",">","<=",">=");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()};return left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()};return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()};return left},unary:function(){var token;return(token=this.expect("+","-","!"))?{type:AST.UnaryExpression,operator:token.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var primary,next;for(this.expect("(")?(primary=this.filterChain(),this.consume(")")):this.expect("[")?primary=this.arrayDeclaration():this.expect("{")?primary=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?primary=copy(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?primary={type:AST.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?primary=this.identifier():this.peek().constant?primary=this.constant():this.throwError("not a primary expression",this.peek());next=this.expect("(","[",".");)"("===next.text?(primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()},this.consume(")")):"["===next.text?(primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:!0},this.consume("]")):"."===next.text?primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return primary},filter:function(baseExpression){for(var args=[baseExpression],result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:!0};this.expect(":");)args.push(this.expression());return result},parseArguments:function(){var args=[];if(")"!==this.peekToken().text)for(;args.push(this.filterChain()),this.expect(","););return args},identifier:function(){var token=this.consume();return token.identifier||this.throwError("is not a valid identifier",token),{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elements.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:AST.ArrayExpression,elements:elements}},object:function(){var property,properties=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;property={type:AST.Property,kind:"init"},this.peek().constant?(property.key=this.constant(),property.computed=!1,this.consume(":"),property.value=this.expression()):this.peek().identifier?(property.key=this.identifier(),property.computed=!1,this.peek(":")?(this.consume(":"),property.value=this.expression()):property.value=property.key):this.peek("[")?(this.consume("["),property.key=this.expression(),this.consume("]"),property.computed=!0,this.consume(":"),property.value=this.expression()):this.throwError("invalid key",this.peek()),properties.push(property)}while(this.expect(","));return this.consume("}"),{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);return token||this.throwError("is unexpected, expecting ["+e1+"]",this.peek()),token},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return!!token&&(this.tokens.shift(),token)},selfReferential:{"this":{type:AST.ThisExpression},$locals:{type:AST.LocalsExpression}}};var PURITY_ABSOLUTE=1,PURITY_RELATIVE=2;ASTCompiler.prototype={compile:function(ast){var self=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(ast,self.$filter);var assignable,extra="";if(this.stage="assign",assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result),this.return_(result),extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs",forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}},self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId),self.return_(intoId),self.state.inputs.push({name:fnKey,isPure:watch.isPure}),watch.watchId=key}),this.state.computing="fn",this.stage="main",this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;",fn=new Function("$filter","getStringValue","ifDefined","plus",fnString)(this.$filter,getStringValue,ifDefined,plusFn);return this.state=this.stage=undefined,fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[],inputs=this.state.inputs,self=this;return forEach(inputs,function(input){result.push("var "+input.name+"="+self.generateFunction(input.name,"s")),input.isPure&&result.push(input.name,".isPure="+JSON.stringify(input.isPure)+";")}),inputs.length&&result.push("fn.inputs=["+inputs.map(function(i){return i.name}).join(",")+"];"),result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[],self=this;return forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")}),parts.length?"var "+parts.join(",")+";":""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,args,expression,computed,self=this;if(recursionFn=recursionFn||noop,!skipWatchIdCheck&&isDefined(ast.watchId))return intoId=intoId||this.nextId(),void this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,!0));switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr}),pos!==ast.body.length-1?self.current().body.push(right,";"):self.return_(right)});break;case AST.Literal:expression=this.escape(ast.value),this.assign(intoId,expression),recursionFn(intoId||expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr}),expression=ast.operator+"("+this.ifDefined(right,0)+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr}),this.recurse(ast.right,undefined,undefined,function(expr){right=expr}),expression="+"===ast.operator?this.plus(left,right):"-"===ast.operator?this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0):"("+left+")"+ast.operator+"("+right+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId(),self.recurse(ast.left,intoId),self.if_("&&"===ast.operator?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId)),recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId(),self.recurse(ast.test,intoId),self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId)),recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId(),nameId&&(nameId.context="inputs"===self.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s"),nameId.computed=!1,nameId.name=ast.name),self.if_("inputs"===self.stage||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_("inputs"===self.stage||"s",function(){create&&1!==create&&self.if_(self.isNull(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}")),self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name))),recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId(),intoId=intoId||this.nextId(),self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){ast.computed?(right=self.nextId(),self.recurse(ast.property,right),self.getStringValue(right),create&&1!==create&&self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}")),expression=self.computedMember(left,right),self.assign(intoId,expression),nameId&&(nameId.computed=!0,nameId.name=right)):(create&&1!==create&&self.if_(self.isNull(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}")),expression=self.nonComputedMember(left,ast.property.name),self.assign(intoId,expression),nameId&&(nameId.computed=!1,nameId.name=ast.property.name))},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId(),ast.filter?(right=self.filter(ast.callee.name),args=[],forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument),args.push(argument)}),expression=right+"("+args.join(",")+")",self.assign(intoId,expression),recursionFn(intoId)):(right=self.nextId(),left={},args=[],self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){forEach(ast.arguments,function(expr){self.recurse(expr,ast.constant?undefined:self.nextId(),undefined,function(argument){args.push(argument)})}),expression=left.name?self.member(left.context,left.name,left.computed)+"("+args.join(",")+")":right+"("+args.join(",")+")",self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)}));break;case AST.AssignmentExpression:right=this.nextId(),left={},this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right),expression=self.member(left.context,left.name,left.computed)+ast.operator+right,self.assign(intoId,expression),recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[],forEach(ast.elements,function(expr){self.recurse(expr,ast.constant?undefined:self.nextId(),undefined,function(argument){args.push(argument)})}),expression="["+args.join(",")+"]",this.assign(intoId,expression),recursionFn(intoId||expression);break;case AST.ObjectExpression:computed=!(args=[]),forEach(ast.properties,function(property){property.computed&&(computed=!0)}),computed?(intoId=intoId||this.nextId(),this.assign(intoId,"{}"),forEach(ast.properties,function(property){property.computed?(left=self.nextId(),self.recurse(property.key,left)):left=property.key.type===AST.Identifier?property.key.name:""+property.key.value,right=self.nextId(),self.recurse(property.value,right),self.assign(self.member(intoId,left,property.computed),right)})):(forEach(ast.properties,function(property){self.recurse(property.value,ast.constant?undefined:self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})}),expression="{"+args.join(",")+"}",this.assign(intoId,expression)),recursionFn(intoId||expression);break;case AST.ThisExpression:this.assign(intoId,"s"),recursionFn(intoId||"s");break;case AST.LocalsExpression:this.assign(intoId,"l"),recursionFn(intoId||"l");break;case AST.NGValueParameter:this.assign(intoId,"v"),recursionFn(intoId||"v")}},getHasOwnProperty:function(element,property){var key=element+"."+property,own=this.current().own;return own.hasOwnProperty(key)||(own[key]=this.nextId(!1,element+"&&("+this.escape(property)+" in "+element+")")),own[key]},assign:function(id,value){if(id)return this.current().body.push(id,"=",value,";"),id},filter:function(filterName){return this.state.filters.hasOwnProperty(filterName)||(this.state.filters[filterName]=this.nextId(!0)),this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(!0===test)alternate();else{var body=this.current().body;body.push("if(",test,"){"),alternate(),body.push("}"),consequent&&(body.push("else{"),consequent(),body.push("}"))}},not:function(expression){return"!("+expression+")"},isNull:function(expression){return expression+"==null"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){var UNSAFE_CHARACTERS=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(right)?left+"."+right:left+'["'+right.replace(UNSAFE_CHARACTERS,this.stringEscapeFn)+'"]'},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){return computed?this.computedMember(left,right):this.nonComputedMember(left,right)},getStringValue:function(item){this.assign(item,"getStringValue("+item+")")},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(!0===value)return"true";if(!1===value)return"false";if(null===value)return"null";if(void 0===value)return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;return skip||this.current().vars.push(id+(init?"="+init:"")),id},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(ast){var assignable,assign,self=this;findConstantAndWatchExpressions(ast,self.$filter),(assignable=assignableAST(ast))&&(assign=this.recurse(assignable));var inputs,toWatch=getInputs(ast.body);toWatch&&(inputs=[],forEach(toWatch,function(watch,key){var input=self.recurse(watch);input.isPure=watch.isPure,watch.input=input,inputs.push(input),watch.watchId=key}));var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=0===ast.body.length?noop:1===ast.body.length?expressions[0]:function(scope,locals){var lastValue;return forEach(expressions,function(exp){lastValue=exp(scope,locals)}),lastValue};return assign&&(fn.assign=function(scope,value,locals){return assign(scope,locals,value)}),inputs&&(fn.inputs=inputs),fn},recurse:function(ast,context,create){var left,right,args,self=this;if(ast.input)return this.inputs(ast.input,ast.watchId);switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:return right=this.recurse(ast.argument),this["unary"+ast.operator](right,context);case AST.BinaryExpression:case AST.LogicalExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return self.identifier(ast.name,context,create);case AST.MemberExpression:return left=this.recurse(ast.object,!1,!!create),ast.computed||(right=ast.property.name),ast.computed&&(right=this.recurse(ast.property)),ast.computed?this.computedMember(left,right,context,create):this.nonComputedMember(left,right,context,create);case AST.CallExpression:return args=[],forEach(ast.arguments,function(expr){args.push(self.recurse(expr))}),ast.filter&&(right=this.$filter(ast.callee.name)),ast.filter||(right=this.recurse(ast.callee,!0)),ast.filter?function(scope,locals,assign,inputs){for(var values=[],i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var value,rhs=right(scope,locals,assign,inputs);if(null!=rhs.value){for(var values=[],i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));value=rhs.value.apply(rhs.context,values)}return context?{value:value}:value};case AST.AssignmentExpression:return left=this.recurse(ast.left,!0,1),right=this.recurse(ast.right),function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs);return lhs.context[lhs.name]=rhs,context?{value:rhs}:rhs};case AST.ArrayExpression:return args=[],forEach(ast.elements,function(expr){args.push(self.recurse(expr))}),function(scope,locals,assign,inputs){for(var value=[],i=0;i<args.length;++i)value.push(args[i](scope,locals,assign,inputs));return context?{value:value}:value};case AST.ObjectExpression:return args=[],forEach(ast.properties,function(property){property.computed?args.push({key:self.recurse(property.key),computed:!0,value:self.recurse(property.value)}):args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,computed:!1,value:self.recurse(property.value)})}),function(scope,locals,assign,inputs){for(var value={},i=0;i<args.length;++i)args[i].computed?value[args[i].key(scope,locals,assign,inputs)]=args[i].value(scope,locals,assign,inputs):value[args[i].key]=args[i].value(scope,locals,assign,inputs);return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.LocalsExpression:return function(scope,locals){return context?{value:locals}:locals};case AST.NGValueParameter:return function(scope,locals,assign){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?+arg:0,context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?-arg:-0,context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var arg=plusFn(left(scope,locals,assign,inputs),right(scope,locals,assign,inputs));return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,context,create){return function(scope,locals){var base=locals&&name in locals?locals:scope;create&&1!==create&&base&&null==base[name]&&(base[name]={});var value=base?base[name]:undefined;return context?{context:base,name:name,value:value}:value}},computedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var rhs,value,lhs=left(scope,locals,assign,inputs);return null!=lhs&&(rhs=getStringValue(rhs=right(scope,locals,assign,inputs)),create&&1!==create&&lhs&&!lhs[rhs]&&(lhs[rhs]={}),value=lhs[rhs]),context?{context:lhs,name:rhs,value:value}:value}},nonComputedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);create&&1!==create&&lhs&&null==lhs[right]&&(lhs[right]={});var value=null!=lhs?lhs[right]:undefined;return context?{context:lhs,name:right,value:value}:value}},inputs:function(input,watchId){return function(scope,value,locals,inputs){return inputs?inputs[watchId]:input(scope,value,locals)}}},Parser.prototype={constructor:Parser,parse:function(text){var ast=this.getAst(text),fn=this.astCompiler.compile(ast.ast);return fn.literal=isLiteral(ast.ast),fn.constant=isConstant(ast.ast),fn.oneTime=ast.oneTime,fn},getAst:function(exp){var oneTime=!1;return":"===(exp=exp.trim()).charAt(0)&&":"===exp.charAt(1)&&(oneTime=!0,exp=exp.substring(2)),{ast:this.ast.ast(exp),oneTime:oneTime}}};var $sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},UNDERSCORE_LOWERCASE_REGEXP=/_([a-z])/g,$templateRequestMinErr=minErr("$compile"),urlParsingNode=window.document.createElement("a"),originUrl=urlResolve(window.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"];var MAX_DIGITS=22,DECIMAL_SEP=".",ZERO_CHAR="0";currencyFilter.$inject=["$locale"];var DATE_FORMATS={yyyy:dateGetter("FullYear",4,0,!(numberFilter.$inject=["$locale"]),!0),yy:dateGetter("FullYear",2,0,!0,!0),y:dateGetter("FullYear",1,0,!1,!0),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",!1,!0),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,NUMBER_STRING=/^-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){if(!attr.href&&!attr.xlinkHref)return function(scope,element){if("a"===element[0].nodeName.toLowerCase()){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){
function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function ngBooleanAttrWatchAction(value){attr.$set(attrName,!!value)})}if("multiple"!==propName){var normalized=directiveNormalize("ng-"+attrName),linkFn=defaultLinkFn;"checked"===propName&&(linkFn=function(scope,element,attr){attr.ngModel!==attr[normalized]&&defaultLinkFn(scope,element,attr)}),ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}}}),forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if("ngPattern"===ngAttr&&"/"===attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match)return void attr.$set("ngPattern",new RegExp(match[1],match[2]))}scope.$watch(attr[ngAttr],function ngAttrAliasWatchAction(value){attr.$set(ngAttr,value)})}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){value?(attr.$set(name,value),msie&&propName&&element.prop(propName,attr[name])):"href"===attrName&&attr.$set(name,null)})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},PENDING_CLASS="ng-pending",SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"],FormController.prototype={$rollbackViewValue:function(){forEach(this.$$controls,function(control){control.$rollbackViewValue()})},$commitViewValue:function(){forEach(this.$$controls,function(control){control.$commitViewValue()})},$addControl:function(control){assertNotHasOwnProperty(control.$name,"input"),this.$$controls.push(control),control.$name&&(this[control.$name]=control),control.$$parentForm=this},$$renameControl:function(control,newName){var oldName=control.$name;this[oldName]===control&&delete this[oldName],(this[newName]=control).$name=newName},$removeControl:function(control){control.$name&&this[control.$name]===control&&delete this[control.$name],forEach(this.$pending,function(value,name){this.$setValidity(name,null,control)},this),forEach(this.$error,function(value,name){this.$setValidity(name,null,control)},this),forEach(this.$$success,function(value,name){this.$setValidity(name,null,control)},this),arrayRemove(this.$$controls,control),control.$$parentForm=nullFormCtrl},$setDirty:function(){this.$$animate.removeClass(this.$$element,PRISTINE_CLASS),this.$$animate.addClass(this.$$element,DIRTY_CLASS),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,forEach(this.$$controls,function(control){control.$setPristine()})},$setUntouched:function(){forEach(this.$$controls,function(control){control.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,SUBMITTED_CLASS),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},addSetValidityMethod({clazz:FormController,set:function(object,property,controller){var list=object[property];list?-1===list.indexOf(controller)&&list.push(controller):object[property]=[controller]},unset:function(object,property,controller){var list=object[property];list&&(arrayRemove(list,controller),0===list.length&&delete object[property])}});var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){function getSetter(expression){return""===expression?$parse('this[""]').assign:$parse(expression).assign||noop}return{name:"form",restrict:isNgForm?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function ngFormCompile(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":!(!isNgForm||!attr.ngForm)&&"ngForm";return{pre:function ngFormPreLink(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue(),controller.$setSubmitted()}),event.preventDefault()};formElement[0].addEventListener("submit",handleFormSubmission),formElement.on("$destroy",function(){$timeout(function(){formElement[0].removeEventListener("submit",handleFormSubmission)},0,!1)})}(ctrls[1]||controller.$$parentForm).$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;nameAttr&&(setter(scope,controller),attr.$observe(nameAttr,function(newValue){controller.$name!==newValue&&(setter(scope,undefined),controller.$$parentForm.$$renameControl(controller,newValue),(setter=getSetter(controller.$name))(scope,controller))})),formElement.on("$destroy",function(){controller.$$parentForm.$removeControl(controller),setter(scope,undefined),extend(controller,nullFormCtrl)})}}}}}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),ISO_DATE_REGEXP=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,URL_REGEXP=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,NUMBER_REGEXP=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,DATE_REGEXP=/^(\d{4,})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,WEEK_REGEXP=/^(\d{4,})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4,})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,PARTIAL_VALIDATION_EVENTS="keydown wheel mousedown",PARTIAL_VALIDATION_TYPES=createMap();forEach("date,datetime-local,month,time,week".split(","),function(type){PARTIAL_VALIDATION_TYPES[type]=!0});var inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,range:rangeInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}],CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){function updateElementValue(element,attr,value){var propValue=isDefined(value)?value:9===msie?"":null;element.prop("value",propValue),attr.$set("value",value)}return{restrict:"A",priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function ngValueConstantLink(scope,elm,attr){updateElementValue(elm,attr,scope.$eval(attr.ngValue))}:function ngValueLink(scope,elm,attr){scope.$watch(attr.ngValue,function valueWatchAction(value){updateElementValue(elm,attr,value)})}}}},ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function ngBindCompile(templateElement){return $compile.$$addBindingClass(templateElement),function ngBindLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind),element=element[0],scope.$watch(attr.ngBind,function ngBindWatchAction(value){element.textContent=stringify(value)})}}}}],ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function ngBindTemplateCompile(templateElement){return $compile.$$addBindingClass(templateElement),function ngBindTemplateLink(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions),element=element[0],attr.$observe("ngBindTemplate",function(value){element.textContent=isUndefined(value)?"":value})}}}}],ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function ngBindHtmlCompile(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function sceValueOf(val){return $sce.valueOf(val)});return $compile.$$addBindingClass(tElement),function ngBindHtmlLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml),scope.$watch(ngBindHtmlWatch,function ngBindHtmlWatchAction(){var value=ngBindHtmlGetter(scope);element.html($sce.getTrustedHtml(value)||"")})}}}}],ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName]);return function ngEventHandler(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate","$compile",function($animate,$compile){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function ngIfWatchAction(value){value?childScope||$transclude(function(clone,newScope){childScope=newScope,clone[clone.length++]=$compile.$$createComment("end ngIf",$attr.ngIf),block={clone:clone},$animate.enter(clone,$element.parent(),$element)}):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockNodes(block.clone),$animate.leave(previousElements).done(function(response){!1!==response&&(previousElements=null)}),block=null))})}}}],ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).done(function(response){!1!==response&&(previousElement=null)}),previousElement=currentElement,currentElement=null)};scope.$watch(srcExp,function ngIncludeWatchAction(src){var afterAnimation=function(response){!1===response||!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(!scope.$$destroyed&&thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element).done(afterAnimation)});currentElement=clone,(currentScope=newScope).$emit("$includeContentLoaded",src),scope.$eval(onloadExp)}},function(){scope.$$destroyed||thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){if(toString.call($element[0]).match(/SVG/))return $element.empty(),void $compile(jqLiteBuildFragment(ctrl.template,window.document).childNodes)(scope,function namespaceAdaptedClone(clone){$element.append(clone)},{futureParentElement:$element});$element.html(ctrl.template),$compile($element.contents())(scope)}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=attr.ngList||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(ngList):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",EMPTY_CLASS="ng-empty",NOT_EMPTY_CLASS="ng-not-empty",ngModelMinErr=minErr("ngModel");NgModelController.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],NgModelController.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var invokeModelGetter=this.$$parse(this.$$attr.ngModel+"()"),invokeModelSetter=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function($scope){var modelValue=this.$$parsedNgModel($scope);return isFunction(modelValue)&&(modelValue=invokeModelGetter($scope)),modelValue},this.$$ngModelSet=function($scope,newValue){isFunction(this.$$parsedNgModel($scope))?invokeModelSetter($scope,{$$$p:newValue}):this.$$parsedNgModelAssign($scope,newValue)}}else if(!this.$$parsedNgModel.assign)throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,startingTag(this.$$element))},$render:noop,$isEmpty:function(value){return isUndefined(value)||""===value||null===value||value!=value},$$updateEmptyClasses:function(value){this.$isEmpty(value)?(this.$$animate.removeClass(this.$$element,NOT_EMPTY_CLASS),this.$$animate.addClass(this.$$element,EMPTY_CLASS)):(this.$$animate.removeClass(this.$$element,EMPTY_CLASS),this.$$animate.addClass(this.$$element,NOT_EMPTY_CLASS))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,DIRTY_CLASS),this.$$animate.addClass(this.$$element,PRISTINE_CLASS)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,PRISTINE_CLASS),this.$$animate.addClass(this.$$element,DIRTY_CLASS),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,UNTOUCHED_CLASS,TOUCHED_CLASS)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,TOUCHED_CLASS,UNTOUCHED_CLASS)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!isNumberNaN(this.$modelValue)){var viewValue=this.$$lastCommittedViewValue,modelValue=this.$$rawModelValue,prevValid=this.$valid,prevModelValue=this.$modelValue,allowInvalid=this.$options.getOption("allowInvalid"),that=this;this.$$runValidators(modelValue,viewValue,function(allValid){allowInvalid||prevValid===allValid||(that.$modelValue=allValid?modelValue:undefined,that.$modelValue!==prevModelValue&&that.$$writeModelToScope())})}},$$runValidators:function(modelValue,viewValue,doneCallback){function processParseErrors(){var errorKey=that.$$parserName||"parse";return isUndefined(that.$$parserValid)?(setValidity(errorKey,null),!0):(that.$$parserValid||(forEach(that.$validators,function(v,name){setValidity(name,null)}),forEach(that.$asyncValidators,function(v,name){setValidity(name,null)})),setValidity(errorKey,that.$$parserValid),that.$$parserValid)}function processSyncValidators(){var syncValidatorsValid=!0;return forEach(that.$validators,function(validator,name){var result=Boolean(validator(modelValue,viewValue));syncValidatorsValid=syncValidatorsValid&&result,setValidity(name,result)}),!!syncValidatorsValid||(forEach(that.$asyncValidators,function(v,name){setValidity(name,null)}),!1)}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(that.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw ngModelMinErr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,undefined),validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(){setValidity(name,allValid=!1)}))}),validatorPromises.length?that.$$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===that.$$currentValidationRunId&&that.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===that.$$currentValidationRunId&&doneCallback(allValid)}this.$$currentValidationRunId++;var localValidationRunId=this.$$currentValidationRunId,that=this;processParseErrors()&&processSyncValidators()?processAsyncValidators():validationDone(!1)},$commitViewValue:function(){var viewValue=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==viewValue||""===viewValue&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(viewValue),this.$$lastCommittedViewValue=viewValue,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function writeToModelIfNeeded(){that.$modelValue!==prevModelValue&&that.$$writeModelToScope()}var modelValue=this.$$lastCommittedViewValue,that=this;if(this.$$parserValid=!isUndefined(modelValue)||undefined,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(isUndefined(modelValue=this.$parsers[i](modelValue))){this.$$parserValid=!1;break}isNumberNaN(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var prevModelValue=this.$modelValue,allowInvalid=this.$options.getOption("allowInvalid");this.$$rawModelValue=modelValue,allowInvalid&&(this.$modelValue=modelValue,writeToModelIfNeeded()),this.$$runValidators(modelValue,this.$$lastCommittedViewValue,function(allValid){allowInvalid||(that.$modelValue=allValid?modelValue:undefined,writeToModelIfNeeded())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(value,trigger){this.$viewValue=value,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(trigger)},$$debounceViewValueCommit:function(trigger){var debounceDelay=this.$options.getOption("debounce");isNumber(debounceDelay[trigger])?debounceDelay=debounceDelay[trigger]:isNumber(debounceDelay["default"])&&(debounceDelay=debounceDelay["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var that=this;0<debounceDelay?this.$$pendingDebounce=this.$$timeout(function(){that.$commitViewValue()},debounceDelay):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){that.$commitViewValue()})},$overrideModelOptions:function(options){this.$options=this.$options.createChild(options),this.$$setUpdateOnEvents()},$processModelValue:function(){var viewValue=this.$$format();this.$viewValue!==viewValue&&(this.$$updateEmptyClasses(viewValue),this.$viewValue=this.$$lastCommittedViewValue=viewValue,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,noop))},$$format:function(){for(var formatters=this.$formatters,idx=formatters.length,viewValue=this.$modelValue;idx--;)viewValue=formatters[idx](viewValue);return viewValue},$$setModelValue:function(modelValue){this.$modelValue=this.$$rawModelValue=modelValue,this.$$parserValid=undefined,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(ev){this.$$debounceViewValueCommit(ev&&ev.type)}},addSetValidityMethod({clazz:NgModelController,set:function(object,property){object[property]=!0},unset:function(object,property){delete object[property]}});var defaultModelOptions,ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function ngModelCompile(element){return element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS),{pre:function ngModelPreLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm,optionsCtrl=ctrls[2];optionsCtrl&&(modelCtrl.$options=optionsCtrl.$options),modelCtrl.$$initGetterSetters(),formCtrl.$addControl(modelCtrl),attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue)}),scope.$on("$destroy",function(){modelCtrl.$$parentForm.$removeControl(modelCtrl)})},post:function ngModelPostLink(scope,element,attr,ctrls){function setTouched(){modelCtrl.$setTouched()}var modelCtrl=ctrls[0];modelCtrl.$$setUpdateOnEvents(),element.on("blur",function(){modelCtrl.$touched||($rootScope.$$phase?scope.$evalAsync(setTouched):scope.$apply(setTouched))})}}}}}],DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;ModelOptions.prototype={getOption:function(name){return this.$$options[name]},createChild:function(options){var inheritAll=!1;return forEach(options=extend({},options),function(option,key){"$inherit"===option?"*"===key?inheritAll=!0:(options[key]=this.$$options[key],"updateOn"===key&&(options.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===key&&(options.updateOnDefault=!1,options[key]=trim(option.replace(DEFAULT_REGEXP,function(){return options.updateOnDefault=!0," "})))},this),inheritAll&&(delete options["*"],defaults(options,this.$$options)),defaults(options,defaultModelOptions.$$options),new ModelOptions(options)}},defaultModelOptions=new ModelOptions({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ngModelOptionsDirective=function(){function NgModelOptionsController($attrs,$scope){this.$$attrs=$attrs,this.$$scope=$scope}return NgModelOptionsController.$inject=["$attrs","$scope"],NgModelOptionsController.prototype={$onInit:function(){var parentOptions=this.parentCtrl?this.parentCtrl.$options:defaultModelOptions,modelOptionsDefinition=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=parentOptions.createChild(modelOptionsDefinition)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:NgModelOptionsController}},ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngOptionsMinErr=minErr("ngOptions"),NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ngOptionsDirective=["$compile","$document","$parse",function($compile,$document,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue,this.viewValue=viewValue,this.label=label,this.group=group,this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues))optionValuesKeys=optionValues;else for(var itemKey in optionValuesKeys=[],optionValues)optionValues.hasOwnProperty(itemKey)&&"$"!==itemKey.charAt(0)&&optionValuesKeys.push(itemKey);return optionValuesKeys}var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match)throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var valueName=match[5]||match[7],keyName=match[6],selectAs=/ as /.test(match[0])&&match[1],trackBy=match[9],valueFn=$parse(match[2]?match[1]:valueName),viewValueFn=selectAs&&$parse(selectAs)||valueFn,trackByFn=trackBy&&$parse(trackBy),getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function getHashOfValue(value){return hashKey(value)},getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))},displayFn=$parse(match[2]||match[1]),groupByFn=$parse(match[3]||""),disableWhenFn=$parse(match[4]||""),valuesFn=$parse(match[8]),locals={},getLocals=keyName?function(value,key){return locals[keyName]=key,locals[valueName]=value,locals}:function(value){return locals[valueName]=value,locals};return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){for(var watchedArray=[],optionValuesKeys=getOptionValuesKeys(optionValues=optionValues||[]),optionValuesLength=optionValuesKeys.length,index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],value=optionValues[key],locals=getLocals(value,key),selectValue=getTrackByValueFn(value,locals);if(watchedArray.push(selectValue),match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){for(var optionItems=[],selectValueMap={},optionValues=valuesFn(scope)||[],optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],value=optionValues[key],locals=getLocals(value,key),viewValue=viewValueFn(scope,locals),selectValue=getTrackByValueFn(viewValue,locals),optionItem=new Option(selectValue,viewValue,displayFn(scope,locals),groupByFn(scope,locals),disableWhenFn(scope,locals));optionItems.push(optionItem),selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?copy(option.viewValue):option.viewValue}}}}}function ngOptionsPostLink(scope,selectElement,attr,ctrls){function addOptionElement(option,parent){var optionElement=optionTemplate.cloneNode(!1);parent.appendChild(optionElement),updateOptionElement(option,optionElement)}function getAndUpdateSelectedOption(viewValue){var option=options.getOptionFromViewValue(viewValue),element=option&&option.element;return element&&!element.selected&&(element.selected=!0),option}function updateOptionElement(option,element){(option.element=element).disabled=option.disabled,option.label!==element.label&&(element.label=option.label,element.textContent=option.label),element.value=option.selectValue}function updateOptions(){var previousValue=options&&selectCtrl.readValue();if(options)for(var i=options.items.length-1;0<=i;i--){var option=options.items[i];isDefined(option.group)?jqLiteRemove(option.element.parentNode):jqLiteRemove(option.element)}options=ngOptions.getOptions();var groupElementMap={};if(options.items.forEach(function addOption(option){var groupElement;isDefined(option.group)?((groupElement=groupElementMap[option.group])||(groupElement=optGroupTemplate.cloneNode(!1),listFragment.appendChild(groupElement),groupElement.label=null===option.group?"null":option.group,groupElementMap[option.group]=groupElement),addOptionElement(option,groupElement)):addOptionElement(option,listFragment)}),selectElement[0].appendChild(listFragment),ngModelCtrl.$render(),!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();(ngOptions.trackBy||multiple?equals(previousValue,nextValue):previousValue===nextValue)||(ngModelCtrl.$setViewValue(nextValue),ngModelCtrl.$render())}}for(var selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,i=0,children=selectElement.children(),ii=children.length;i<ii;i++)if(""===children[i].value){selectCtrl.hasEmptyOption=!0,selectCtrl.emptyOption=children.eq(i);break}selectElement.empty();var options,providedEmptyOption=!!selectCtrl.emptyOption;jqLite(optionTemplate.cloneNode(!1)).val("?");var ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope),listFragment=$document[0].createDocumentFragment();selectCtrl.generateUnknownOptionValue=function(){return"?"},multiple?(selectCtrl.writeValue=function writeNgOptionsMultiple(values){if(options){var selectedOptions=values&&values.map(getAndUpdateSelectedOption)||[];options.items.forEach(function(option){option.element.selected&&!includes(selectedOptions,option)&&(option.element.selected=!1)})}},selectCtrl.readValue=function readNgOptionsMultiple(){var selectedValues=selectElement.val()||[],selections=[];return forEach(selectedValues,function(value){var option=options.selectValueMap[value];option&&!option.disabled&&selections.push(options.getViewValueFromOption(option))}),selections},ngOptions.trackBy&&scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue))return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)})},function(){ngModelCtrl.$render()})):(selectCtrl.writeValue=function writeNgOptionsValue(value){if(options){var selectedOption=selectElement[0].options[selectElement[0].selectedIndex],option=options.getOptionFromViewValue(value);selectedOption&&selectedOption.removeAttribute("selected"),option?(selectElement[0].value!==option.selectValue&&(selectCtrl.removeUnknownOption(),selectElement[0].value=option.selectValue,option.element.selected=!0),option.element.setAttribute("selected","selected")):selectCtrl.selectUnknownOrEmptyOption(value)}},selectCtrl.readValue=function readNgOptionsValue(){var selectedOption=options.selectValueMap[selectElement.val()];return selectedOption&&!selectedOption.disabled?(selectCtrl.unselectEmptyOption(),selectCtrl.removeUnknownOption(),options.getViewValueFromOption(selectedOption)):null},ngOptions.trackBy&&scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})),providedEmptyOption&&($compile(selectCtrl.emptyOption)(scope),selectElement.prepend(selectCtrl.emptyOption),selectCtrl.emptyOption[0].nodeType===NODE_TYPE_COMMENT?(selectCtrl.hasEmptyOption=!1,selectCtrl.registerOption=function(optionScope,optionEl){""===optionEl.val()&&(selectCtrl.hasEmptyOption=!0,selectCtrl.emptyOption=optionEl,selectCtrl.emptyOption.removeClass("ng-scope"),ngModelCtrl.$render(),optionEl.on("$destroy",function(){var needsRerender=selectCtrl.$isEmptyOptionSelected();selectCtrl.hasEmptyOption=!1,selectCtrl.emptyOption=undefined,needsRerender&&ngModelCtrl.$render()}))}):selectCtrl.emptyOption.removeClass("ng-scope")),scope.$watchCollection(ngOptions.getWatchables,updateOptions)}var optionTemplate=window.document.createElement("option"),optGroupTemplate=window.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function ngOptionsPreLink(scope,selectElement,attr,ctrls){
ctrls[0].registerOption=noop},post:ngOptionsPostLink}}}],ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){function updateElementText(newText){element.text(newText||"")}var lastCount,numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))}),scope.$watch(numberExp,function ngPluralizeWatchAction(newVal){var count=parseFloat(newVal),countIsNaN=isNumberNaN(count);if(countIsNaN||count in whens||(count=$locale.pluralCat(count-offset)),!(count===lastCount||countIsNaN&&isNumberNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];isUndefined(whenExpFn)?(null!=newVal&&$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp),watchRemover=noop,updateElementText()):watchRemover=scope.$watch(whenExpFn,updateElementText),lastCount=count}})}}}],ngRepeatDirective=["$parse","$animate","$compile",function($parse,$animate,$compile){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value,keyIdentifier&&(scope[keyIdentifier]=key),scope.$index=index,scope.$first=0===index,scope.$last=index===arrayLength-1,scope.$middle=!(scope.$first||scope.$last),scope.$odd=!(scope.$even=0==(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function ngRepeatCompile($element,$attr){var expression=$attr.ngRepeat,ngRepeatEndComment=$compile.$$createComment("end ngRepeat",expression),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1],rhs=match[2],aliasAs=match[3],trackByExp=match[4];if(!(match=lhs.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,valueIdentifier=match[3]||match[1],keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var hashFnLocals={$id:hashKey};return trackByExp?trackByExpGetter=$parse(trackByExp):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),function ngRepeatLink($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function ngRepeatAction(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,previousNode=$element[0],nextBlockMap=createMap();if(aliasAs&&($scope[aliasAs]=collection),isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else for(var itemKey in trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[],collection)hasOwnProperty.call(collection,itemKey)&&"$"!==itemKey.charAt(0)&&collectionKeys.push(itemKey);for(collectionLength=collectionKeys.length,nextBlockOrder=new Array(collectionLength),index=0;index<collectionLength;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap[trackById])block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap[trackById])throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined},nextBlockMap[trackById]=!0}for(var blockKey in lastBlockMap){if(elementsToRemove=getBlockNodes((block=lastBlockMap[blockKey]).clone),$animate.leave(elementsToRemove),elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;index<length;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;index<collectionLength;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],(block=nextBlockOrder[index]).scope){for(nextNode=previousNode;(nextNode=nextNode.nextSibling)&&nextNode[NG_REMOVED];);getBlockStart(block)!==nextNode&&$animate.move(getBlockNodes(block.clone),null,previousNode),previousNode=getBlockEnd(block),updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function ngRepeatTransclude(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode,$animate.enter(clone,null,previousNode),previousNode=endNode,block.clone=clone,nextBlockMap[block.id]=block,updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)});lastBlockMap=nextBlockMap})}}}}],NG_HIDE_CLASS="ng-hide",NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate",ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngShow,function ngShowWatchAction(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngHide,function ngHideWatchAction(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function ngStyleWatchAction(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animate","$compile",function($animate,$compile){return{require:"ngSwitch",controller:["$scope",function NgSwitchController(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(response){!1!==response&&array.splice(index,1)}};scope.$watch(watchExpr,function ngSwitchWatchAction(value){for(var i,ii;previousLeaveAnimations.length;)$animate.cancel(previousLeaveAnimations.pop());for(i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy(),(previousLeaveAnimations[i]=$animate.leave(selected)).done(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=$compile.$$createComment("end ngSwitchWhen");var block={clone:caseElement};selectedElements.push(block),$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attrs,ctrl,$transclude){forEach(attrs.ngSwitchWhen.split(attrs.ngSwitchWhenSeparator).sort().filter(function(element,index,array){return array[index-1]!==element}),function(whenCase){ctrl.cases["!"+whenCase]=ctrl.cases["!"+whenCase]||[],ctrl.cases["!"+whenCase].push({transclude:$transclude,element:element})})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeMinErr=minErr("ngTransclude"),ngTranscludeDirective=["$compile",function($compile){return{restrict:"EAC",compile:function ngTranscludeCompile(tElement){var fallbackLinkFn=$compile(tElement.contents());return tElement.empty(),function ngTranscludePostLink($scope,$element,$attrs,controller,$transclude){function ngTranscludeCloneAttachFn(clone,transcludedScope){clone.length&&notWhitespace(clone)?$element.append(clone):(useFallbackContent(),transcludedScope.$destroy())}function useFallbackContent(){fallbackLinkFn($scope,function(clone){$element.append(clone)})}function notWhitespace(nodes){for(var i=0,ii=nodes.length;i<ii;i++){var node=nodes[i];if(node.nodeType!==NODE_TYPE_TEXT||node.nodeValue.trim())return!0}}if(!$transclude)throw ngTranscludeMinErr("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$attrs.ngTransclude===$attrs.$attr.ngTransclude&&($attrs.ngTransclude="");var slotName=$attrs.ngTransclude||$attrs.ngTranscludeSlot;$transclude(ngTranscludeCloneAttachFn,null,slotName),slotName&&!$transclude.isSlotFilled(slotName)&&useFallbackContent()}}}}],scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"===attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],noopNgModelController={$setViewValue:noop,$render:noop},SelectController=["$element","$scope",function($element,$scope){function scheduleRender(){renderScheduled||(renderScheduled=!0,$scope.$$postDigest(function(){renderScheduled=!1,self.ngModelCtrl.$render()}))}function scheduleViewValueUpdate(renderAfter){updateScheduled||(updateScheduled=!0,$scope.$$postDigest(function(){$scope.$$destroyed||(updateScheduled=!1,self.ngModelCtrl.$setViewValue(self.readValue()),renderAfter&&self.ngModelCtrl.$render())}))}var self=this,optionsMap=new NgMap;self.selectValueMap={},self.ngModelCtrl=noopNgModelController,self.multiple=!1,self.unknownOption=jqLite(window.document.createElement("option")),self.hasEmptyOption=!1,self.emptyOption=undefined,self.renderUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal),$element.prepend(self.unknownOption),setOptionSelectedStatus(self.unknownOption,!0),$element.val(unknownVal)},self.updateUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal),setOptionSelectedStatus(self.unknownOption,!0),$element.val(unknownVal)},self.generateUnknownOptionValue=function(val){return"? "+hashKey(val)+" ?"},self.removeUnknownOption=function(){self.unknownOption.parent()&&self.unknownOption.remove()},self.selectEmptyOption=function(){self.emptyOption&&($element.val(""),setOptionSelectedStatus(self.emptyOption,!0))},self.unselectEmptyOption=function(){self.hasEmptyOption&&setOptionSelectedStatus(self.emptyOption,!1)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop}),self.readValue=function readSingleValue(){var val=$element.val(),realVal=val in self.selectValueMap?self.selectValueMap[val]:val;return self.hasOption(realVal)?realVal:null},self.writeValue=function writeSingleValue(value){var currentlySelectedOption=$element[0].options[$element[0].selectedIndex];if(currentlySelectedOption&&setOptionSelectedStatus(jqLite(currentlySelectedOption),!1),self.hasOption(value)){self.removeUnknownOption();var hashedVal=hashKey(value);$element.val(hashedVal in self.selectValueMap?hashedVal:value);var selectedOption=$element[0].options[$element[0].selectedIndex];setOptionSelectedStatus(jqLite(selectedOption),!0)}else self.selectUnknownOrEmptyOption(value)},self.addOption=function(value,element){if(element[0].nodeType!==NODE_TYPE_COMMENT){assertNotHasOwnProperty(value,'"option value"'),""===value&&(self.hasEmptyOption=!0,self.emptyOption=element);var count=optionsMap.get(value)||0;optionsMap.set(value,count+1),scheduleRender()}},self.removeOption=function(value){var count=optionsMap.get(value);count&&(1===count?(optionsMap["delete"](value),""===value&&(self.hasEmptyOption=!1,self.emptyOption=undefined)):optionsMap.set(value,count-1))},self.hasOption=function(value){return!!optionsMap.get(value)},self.$hasEmptyOption=function(){return self.hasEmptyOption},self.$isUnknownOptionSelected=function(){return $element[0].options[0]===self.unknownOption[0]},self.$isEmptyOptionSelected=function(){return self.hasEmptyOption&&$element[0].options[$element[0].selectedIndex]===self.emptyOption[0]};var renderScheduled=!(self.selectUnknownOrEmptyOption=function(value){null==value&&self.emptyOption?(self.removeUnknownOption(),self.selectEmptyOption()):self.unknownOption.parent().length?self.updateUnknownOption(value):self.renderUnknownOption(value)}),updateScheduled=!1;self.registerOption=function(optionScope,optionElement,optionAttrs,interpolateValueFn,interpolateTextFn){if(optionAttrs.$attr.ngValue){var oldVal,hashedVal=NaN;optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){var removal,previouslySelected=optionElement.prop("selected");isDefined(hashedVal)&&(self.removeOption(oldVal),delete self.selectValueMap[hashedVal],removal=!0),hashedVal=hashKey(newVal),oldVal=newVal,self.selectValueMap[hashedVal]=newVal,self.addOption(newVal,optionElement),optionElement.attr("value",hashedVal),removal&&previouslySelected&&scheduleViewValueUpdate()})}else interpolateValueFn?optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){var removal;self.readValue();var previouslySelected=optionElement.prop("selected");isDefined(oldVal)&&(self.removeOption(oldVal),removal=!0),oldVal=newVal,self.addOption(newVal,optionElement),removal&&previouslySelected&&scheduleViewValueUpdate()}):interpolateTextFn?optionScope.$watch(interpolateTextFn,function interpolateWatchAction(newVal,oldVal){optionAttrs.$set("value",newVal);var previouslySelected=optionElement.prop("selected");oldVal!==newVal&&self.removeOption(oldVal),self.addOption(newVal,optionElement),oldVal&&previouslySelected&&scheduleViewValueUpdate()}):self.addOption(optionAttrs.value,optionElement);optionAttrs.$observe("disabled",function(newVal){("true"===newVal||newVal&&optionElement.prop("selected"))&&(self.multiple?scheduleViewValueUpdate(!0):(self.ngModelCtrl.$setViewValue(null),self.ngModelCtrl.$render()))}),optionElement.on("$destroy",function(){var currentValue=self.readValue(),removeValue=optionAttrs.value;self.removeOption(removeValue),scheduleRender(),(self.multiple&&currentValue&&-1!==currentValue.indexOf(removeValue)||currentValue===removeValue)&&scheduleViewValueUpdate(!0)})}}],selectDirective=function(){function selectPreLink(scope,element,attr,ctrls){var selectCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){if(selectCtrl.ngModelCtrl=ngModelCtrl,element.on("change",function(){selectCtrl.removeUnknownOption(),scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})}),attr.multiple){selectCtrl.multiple=!0,selectCtrl.readValue=function readMultipleValue(){var array=[];return forEach(element.find("option"),function(option){if(option.selected&&!option.disabled){var val=option.value;array.push(val in selectCtrl.selectValueMap?selectCtrl.selectValueMap[val]:val)}}),array},selectCtrl.writeValue=function writeMultipleValue(value){forEach(element.find("option"),function(option){var shouldBeSelected=!!value&&(includes(value,option.value)||includes(value,selectCtrl.selectValueMap[option.value]));shouldBeSelected!==option.selected&&setOptionSelectedStatus(jqLite(option),shouldBeSelected)})};var lastView,lastViewRef=NaN;scope.$watch(function selectMultipleWatch(){lastViewRef!==ngModelCtrl.$viewValue||equals(lastView,ngModelCtrl.$viewValue)||(lastView=shallowCopy(ngModelCtrl.$viewValue),ngModelCtrl.$render()),lastViewRef=ngModelCtrl.$viewValue}),ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}}}else selectCtrl.registerOption=noop}function selectPostLink(scope,element,attrs,ctrls){var ngModelCtrl=ctrls[1];if(ngModelCtrl){var selectCtrl=ctrls[0];ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:SelectController,priority:1,link:{pre:selectPreLink,post:selectPostLink}}},optionDirective=["$interpolate",function($interpolate){return{restrict:"E",priority:100,compile:function(element,attr){var interpolateValueFn,interpolateTextFn;return isDefined(attr.ngValue)||(isDefined(attr.value)?interpolateValueFn=$interpolate(attr.value,!0):(interpolateTextFn=$interpolate(element.text(),!0))||attr.$set("value",element.text())),function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.registerOption(scope,element,attr,interpolateValueFn,interpolateTextFn)}}}}],requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(attr.required=!0,ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)},attr.$observe("required",function(){ctrl.$validate()}))}}},patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&0<regex.length&&(regex=new RegExp("^"+regex+"$")),regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||undefined,ctrl.$validate()}),ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}}},maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNumberNaN(intVal)?-1:intVal,ctrl.$validate()}),ctrl.$validators.maxlength=function(modelValue,viewValue){return maxlength<0||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}}},minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0,ctrl.$validate()}),ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}}};window.angular.bootstrap?window.console&&console.log("WARNING: Tried to load AngularJS more than once."):(bindJQuery(),publishExternalAPI(angular),angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){var i=(n+="").indexOf(".");return-1==i?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;undefined===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v);return{v:v,f:(n*base|0)%base}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}]),jqLite(function(){angularInit(window.document,bootstrap)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(){"use strict";var module,requires;requires=["App.controllers","App.filters","App.directives","App.services","ui.bootstrap","ngSanitize","ngclipboard","checklist-model","ngFitText"],window.uploadCampaign&&requires.push("blueimp.fileupload"),(module=angular.module("App",requires)).config(["$httpProvider",function($httpProvider){return $httpProvider.defaults.headers.common["X-CSRF-Token"]=$("meta[name=csrf-token]").attr("content"),delete $httpProvider.defaults.headers.common["X-Requested-With"]}]),window.uploadCampaign&&module.config(["fileUploadProvider",function(fileUploadProvider){return fileUploadProvider.defaults.handleResponse=function(e,data){var files;return(files=data.result&&data.result.files)?data.scope().replace(data.files,files):data.errorThrown||"error"===data.textStatus?data.files[0].error=data.errorThrown||data.textStatus:void 0}}]),module.config(["$compileProvider",function($compileProvider){return $compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|sms|whatsapp|fb-messenger):/)}]),$(function(){return angular.bootstrap($("[ng-controller]"),["App"])})}.call(this),function(){!function(document){var validVisitClick;validVisitClick=function(event){return!event.ctrlKey&&(1===event.which||2===event.which)},$(document).on("mouseover","[data-more-popover]",function(){return $(this).popover("show")}).on("mouseleave","[data-remove-popovers]",function(){return $(this).find("[data-more-popover]").popover("hide")}).on("mouseenter",".entry-content",function(){return $("[data-more-popover]").each(function(){if(!$(this).attr("popover-parsed"))return $(this).attr("popover-parsed",!0),$(this).popover({trigger:"manual",animate:!1,content:function(){return $($(this).attr("data-content-finder")).html()}})})}).on("contextmenu",".visit-trigger a, a.visit-trigger",function(){return!1}).on("mouseenter",".mouseenter-trigger",function(){var link;return link=this,setTimeout(function(){var scope;if((scope=angular.element(link).scope())&&scope.entry_method)return scope.triggerVisit(scope.entry_method,!0)},250)}).on("click mouseup",".template.rss .user-fragment a, .visit-trigger a, a.visit-trigger",function(event){var link;return validVisitClick(event)?(link=this,setTimeout(function(){var emParam,scope;if((scope=angular.element(link).scope())&&scope.entry_method&&(scope.triggerVisit(scope.entry_method,!0,$(link).data("visit-reference")),(emParam=$.getParam("dest"+scope.entry_method.id))&&emParam.match(/^h?t?t?p?s?:?\/\//)))return $(link).attr("href",emParam)},250),angular.browser.facebookApp&&!angular.browser.iOSDevice?window.location.href=event.currentTarget.href||event.target.href:void 0):(event.preventDefault(),!1)}).on("blur focus","input",function(){return $(this).trigger("input")}).on("focus mouseenter","button, .submit",function(){return $(this).closest("form").find("input").trigger("input")}).on("click mouseup","[data-visit-click]",function(event){return validVisitClick(event)?$(this).scope().triggerVisit($(this).scope().entry_method,!0,$(this).data("visit-reference")):(event.preventDefault(),!1)})}(document)}.call(this),function(){var adjustBoxHeights,app,appName,availableHeight,campaignKey,childrenHeights,facebook,popup,resizeContent,standAlone;standAlone=0!==$(".enter-page").length,popup=!!document.location.pathname.match(/\/popup/),document.location.pathname.match(/\/embed/),facebook=!!document.location.pathname.match(/^\/facebook-tab/),availableHeight=popup?$(window).height():1e4,appName=window.actionMarketingAppName,window[appName]=app=window[appName]||{},app.resizeContent=function(delay){return null==delay&&(delay=100),app.globalResizeContent&&clearTimeout(app.globalResizeContent),app.globalResizeContent=setTimeout(resizeContent,delay)},$(function(){return setTimeout(function(){return $(".campaign").css("opacity","1")},0)}),childrenHeights=function(){var $e,y;return y=0,$(".js-height-container, .popup-block > *").each(function(){return y+=$(this).outerHeight()}),0<($e=$(".expanded .expandable:visible")).length&&(y=Math.max(y,$e.offset().top-$(".popup-blocks-container").offset().top+$e.outerHeight())),Math.floor(y)},adjustBoxHeights=function(){if(availableHeight=popup?$(window).height():1e4,!facebook)return popup?$("body, .popup-blocks-container").height(availableHeight):$(".popup-block, body, .popup-blocks-container").height(childrenHeights())},campaignKey=function(){var $controller;return $controller=$("[ng-controller=EnterController]"),window.campaignKeyOverride?window.campaignKeyOverride:0<$controller.length?angular.element($controller).scope().campaign.key:window.location.pathname.match(/^\/?([^\/]+)/)[1]},resizeContent=function(){var cheight,h,message,messageName;if(messageName=popup?"Popup":"Embed",adjustBoxHeights(),facebook||popup&&(navigator.userAgent.match(/Firefox/)?($(".popup-block").css("overflow-y","scroll"),setTimeout(function(){return $("body").height($(window).height())},301)):(cheight=childrenHeights(),availableHeight<cheight?($(".popup-block").css("overflow-y","scroll"),$(".popup-blocks-container, body").height(availableHeight)):$(".popup-block").css("overflow","visible").css("height",cheight+"px"),setTimeout(function(){if($("body").height($(window).height()),$(".popup-block").css("overflow","").height(""),childrenHeights()<=availableHeight)return $(".popup-block").css("overflow-y","hidden")},301))),window.parent&&window.postMessage&&0<(h=facebook?Math.max($("html").height(),childrenHeights()+10):childrenHeights())&&(window.parent.postMessage(appName+messageName+"Height"+campaignKey()+"="+h,"*"),message={sentinel:"amp",type:"embed-size",height:h},window.parent.postMessage(message,"*")),adjustBoxHeights(),setTimeout(adjustBoxHeights,10),window.FB&&window.FB.Canvas)return FB.Canvas.setSize({width:540,height:h+100})},angular.element(document).ready(function(){var erd,onResize,resizeObserver;return standAlone||facebook||popup||$(".popup-block, .popup-blocks-container, body").css("overflow","visible"),standAlone||(app.resizeContent(),onResize=function(){return $(".tooltip").remove(),app.resizeContent()},window.ResizeObserver?((resizeObserver=new ResizeObserver(onResize)).observe($(".campaign").get(0)),$(".entry-method .expandable, .resize-observable").each(function(){return resizeObserver.observe(this)})):((erd=elementResizeDetectorMaker({strategy:"scroll"})).listenTo($(".campaign").get(0),onResize),$(".entry-method .expandable, .resize-observable").each(function(){return erd.listenTo(this,onResize)}))),$(window).resize(function(){return setTimeout(function(){var enterCtrlScope;return(enterCtrlScope=$("[ng-controller=EnterController]").scope())&&enterCtrlScope.$apply()})})})}.call(this),function(window,angular){"use strict";function $SanitizeProvider(){function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var i,obj={};for(i=0;i<items.length;i++)obj[lowercaseKeys?lowercase(items[i]):items[i]]=!0;return obj}function addElementsTo(elementsMap,newElements){newElements&&newElements.length&&extend(elementsMap,arrayToMap(newElements))}function htmlParserImpl(html,handler){null===html||html===undefined?html="":"string"!=typeof html&&(html=""+html);var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(0===mXSSAttempts)throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable");mXSSAttempts--,html=inertBodyElement.innerHTML,inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);for(var node=inertBodyElement.firstChild;node;){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent)}var nextNode;if(!((nextNode=node.firstChild)||(1===node.nodeType&&handler.end(node.nodeName.toLowerCase()),nextNode=getNonDescendant("nextSibling",node))))for(;null==nextNode&&(node=getNonDescendant("parentNode",node))!==inertBodyElement;)nextNode=getNonDescendant("nextSibling",node),1===node.nodeType&&handler.end(node.nodeName.toLowerCase());node=nextNode}for(;node=inertBodyElement.firstChild;)inertBodyElement.removeChild(node)}function attrToMap(attrs){for(var map={},i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){return"&#"+(1024*(value.charCodeAt(0)-55296)+(value.charCodeAt(1)-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){var c=value.charCodeAt(0);return c<=8||11==c||12==c||14<=c&&c<=159||173==c||1536<=c&&c<=1540||1807==c||6068==c||6069==c||8204<=c&&c<=8207||8232<=c&&c<=8239||8288<=c&&c<=8303||65279==c||65520<=c&&c<=65535?"&#"+c+";":value}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function validStyles(styleAttr){var result="",styleArray=styleAttr.split(";");return angular.forEach(styleArray,function(value){var v=value.split(":");if(2==v.length){var key=angular.lowercase(v[0]).trim();value=angular.lowercase(v[1]).trim();(("color"===key||"background-color"===key)&&(value.match(/^rgb\([0-9%,\. ]*\)$/i)||value.match(/^rgba\([0-9%,\. ]*\)$/i)||value.match(/^hsl\([0-9%,\. ]*\)$/i)||value.match(/^hsla\([0-9%,\. ]*\)$/i)||value.match(/^#[0-9a-f]{3,6}$/i)||value.match(/^[a-z]*$/i))||"text-align"===key&&("left"===value||"right"===value||"center"===value||"justify"===value)||"text-decoration"===key&&("underline"===value||"line-through"===value)||"font-weight"===key&&"bold"===value||"font-style"===key&&"italic"===value||"float"===key&&("left"===value||"right"===value||"none"===value)||"vertical-align"===key&&("baseline"===value||"sub"===value||"super"===value||"test-top"===value||"text-bottom"===value||"middle"===value||"top"===value||"bottom"===value||value.match(/[0-9]*(px|em)/)||value.match(/[0-9]+?%/))||"font-size"===key&&("xx-small"===value||"x-small"===value||"small"===value||"medium"===value||"large"===value||"x-large"===value||"xx-large"===value||"larger"===value||"smaller"===value||value.match(/[0-9]*\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||("width"===key||"height"===key)&&value.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===key&&value.match(/^ltr|rtl|initial|inherit$/))&&(result+=key+": "+value+";")}}),result}function validCustomTag(tag,attrs,lkey,value){return!("img"!==tag||!attrs["ta-insert-video"]||"ta-insert-video"!==lkey&&"allowfullscreen"!==lkey&&"frameborder"!==lkey&&("contenteditable"!==lkey||"false"!==value))}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=!1,out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag),!ignoreCurrentElement&&blockedElements[tag]&&(ignoreCurrentElement=tag),
ignoreCurrentElement||!0!==validElements[tag]||(out("<"),out(tag),forEach(attrs,function(value,key){var lkey=lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;("style"===lkey&&""!==(value=validStyles(value))||validCustomTag(tag,attrs,lkey,value)||!0===validAttrs[lkey]&&(!0!==uriAttrs[lkey]||uriValidator(value,isImage)))&&(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(">"))},end:function(tag){tag=lowercase(tag),ignoreCurrentElement||!0!==validElements[tag]||!0===voidElements[tag]||(out("</"),out(tag),out(">")),tag==ignoreCurrentElement&&(ignoreCurrentElement=!1)},chars:function(chars){ignoreCurrentElement||out(encodeEntities(chars))}}}function stripCustomNsAttrs(node){for(;node;){if(node.nodeType===window.Node.ELEMENT_NODE)for(var attrs=node.attributes,i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i],attrName=attrNode.name.toLowerCase();"xmlns:ns1"!==attrName&&0!==attrName.lastIndexOf("ns1:",0)||(node.removeAttributeNode(attrNode),i--,l--)}var nextNode=node.firstChild;nextNode&&stripCustomNsAttrs(nextNode),node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode))throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText);return nextNode}var hasBeenInstantiated=!1,svgEnabled=!1;this.$get=["$$sanitizeUri",function($$sanitizeUri){return hasBeenInstantiated=!0,svgEnabled&&extend(validElements,svgElements),function(html,argument_1){void 0!==argument_1&&(arguments[1].version="taSanitize");var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}],this.enableSvg=function(enableSvg){return isDefined(enableSvg)?(svgEnabled=enableSvg,this):svgEnabled},this.addValidElements=function(elements){return hasBeenInstantiated||(isArray(elements)&&(elements={htmlElements:elements}),addElementsTo(svgElements,elements.svgElements),addElementsTo(voidElements,elements.htmlVoidElements),addElementsTo(validElements,elements.htmlVoidElements),addElementsTo(validElements,elements.htmlElements)),this},this.addValidAttrs=function(attrs){return hasBeenInstantiated||extend(validAttrs,arrayToMap(attrs,!0)),this},bind=angular.bind,extend=angular.extend,forEach=angular.forEach,isArray=angular.isArray,isDefined=angular.isDefined,lowercase=angular.lowercase,noop=angular.noop,htmlParser=htmlParserImpl,htmlSanitizeWriter=htmlSanitizeWriterImpl,nodeContains=window.Node.prototype.contains||function(arg){return!!(16&this.compareDocumentPosition(arg))};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g,voidElements=stringToMap("area,br,col,hr,img,wbr,input"),optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),blockedElements=stringToMap("script,style"),validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements),uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base"),htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs),getInertBodyElement=function(window,document){function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return undefined}var xhr=new window.XMLHttpRequest;xhr.responseType="document",xhr.open("GET","data:text/html;charset=utf-8,"+html,!1),xhr.send(null);var body=xhr.response.body;return body.firstChild.remove(),body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;return body.firstChild.remove(),body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){return inertBodyElement.innerHTML=html,document.documentMode&&stripCustomNsAttrs(inertBodyElement),inertBodyElement}var inertDocument;if(!document||!document.implementation)throw $sanitizeMinErr("noinert","Can't create an inert html document");var inertBodyElement=((inertDocument=document.implementation.createHTMLDocument("inert")).documentElement||inertDocument.getDocumentElement()).querySelector("body");return inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',inertBodyElement.querySelector("svg")?(inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',inertBodyElement.querySelector("svg img")?getInertBodyElement_DOMParser:getInertBodyElement_InertDocument):getInertBodyElement_XHR}(window,window.document)}function sanitizeText(chars){var buf=[];return htmlSanitizeWriter(buf,noop).chars(chars),buf.join("")}var bind,extend,forEach,isArray,isDefined,lowercase,noop,nodeContains,htmlParser,htmlSanitizeWriter,$sanitizeMinErr=angular.$$minErr("$sanitize");angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.6.10"}),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i,linkyMinErr=angular.$$minErr("linky"),isDefined=angular.isDefined,isFunction=angular.isFunction,isObject=angular.isObject,isString=angular.isString;return function(text,target,attributes){function addText(text){text&&html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);for(key in html.push("<a "),linkAttributes)html.push(key+'="'+linkAttributes[key]+'" ');!isDefined(target)||"target"in linkAttributes||html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&quot;"),'">'),addText(text),html.push("</a>")}if(null==text||""===text)return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);for(var match,url,i,attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}},raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular),function(){var androidDevice,facebookApp,facebookIOSApp,iOSDevice,iOSversion,iPhoneDevice,instagramApp,itpDevice,mobileDevice,supportsFacebookApiShare;supportsFacebookApiShare=function(){return!facebookIOSApp()&&!androidDevice()},facebookIOSApp=function(){return navigator.userAgent.match(/FBForI|FBIOS/)},instagramApp=function(){return navigator.userAgent.match(/WebKit.+Mobile.+Instagram/)},androidDevice=function(){return navigator.userAgent.match(/Android/i)},iOSDevice=function(){return navigator.userAgent.match(/iPad|iPhone|iPod/i)},itpDevice=function(){return!!document.hasStorageAccess},iPhoneDevice=function(){return navigator.userAgent.match(/iPhone/i)},facebookApp=function(){var ua;return-1<(ua=navigator.userAgent||navigator.vendor||window.opera).indexOf("FBAN")||-1<ua.indexOf("FBAV")},iOSversion=function(){var v;if(/iP(hone|od|ad)/.test(navigator.userAgent))return v=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),[parseInt(v[1],10),parseInt(v[2],10),parseInt(v[3]||0,10)]},mobileDevice=function(){return iOSDevice()||androidDevice()},angular.browser={supportsFacebookApiShare:supportsFacebookApiShare(),facebookIOSApp:facebookIOSApp(),facebookApp:facebookApp(),androidDevice:androidDevice(),iOSDevice:iOSDevice(),itpDevice:itpDevice(),iPhoneDevice:iPhoneDevice(),instagramApp:instagramApp(),tablessBrowser:instagramApp()||facebookIOSApp(),iOSversion:iOSversion(),mobileDevice:mobileDevice(),appInstallTarget:iOSDevice()?"_top":"_blank",currentWindowMailto:iOSDevice()||androidDevice(),ie:navigator.userAgent.match(/MSIE|Trident/i),safari:navigator.userAgent.match(/AppleWebKit.*Safari/i)&&!navigator.userAgent.match(/CriOS|Chrome/i),snapchatAppEnabled:iOSDevice()||androidDevice()}}.call(this),function(){var indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};angular.module("App.controllers",[]).controller("NullController",["$scope",function(){}]).controller("EnterController",["$scope","$http","$sce","$compile","$filter","$window","$templateCache","$timeout","$q","campaignService","eventService","facebookLoginService","randomService","translationService","verifyValueService","shortenerService","actionsConfig","mediaService","fraudService","pinterestService","trackingPixelService","tierService","repeatActionService","callbackService","AMOEService","storedDobService",function($scope,$http,$sce,$compile,$filter,$window,$templateCache,$timeout,$q,campaignService,eventService,facebookLoginService,randomService,translationService,verifyValueService,shortenerService,actionsConfig,mediaService,fraudService,pinterestService,trackingPixelService,tierService,repeatActionService,callbackService,AMOEService,storedDobService){var acceptLike,addAutomaticEntry,addEntryMethodSkeleton,addTemplateForm,appName,attemptEntry,attemptEntryByPostSubmit,attemptTierEntry,autoEnter,autoEntryForm,autoExpandFirstAction,autoExpandLastShareAction,bindVisitActionsTriggers,campaignData,canAddTemplate,checkSuccessfulEntry,clearCurrentStepFields,confirmAction,emailLogin,endHastagMatcher,endLinkMatcher,entryCompleteWithoutError,entryMethodAlwaysRequiresContactInfoFirst,expand,expireAuth,fileDone,focusFirstContestantInput,focusFirstEntryMethodInput,getEndHashtags,getUsername,gleamAuthWindowName,hashed,inFacebookTab,inIframe,initEventModeTimeout,initFrontEndEntryMethodConfig,initTwitterUsernameFallback,isActionPerformed,isEmailShareAvailable,isFacebookShareAvailable,isLinkedinShareAvailable,isSmsShareAvailable,isStepVisible,isTryingAMOE,isTumblrShareAvailable,isTwitterShareAvailable,isWhatsappShareAvailable,linkMatcher,mandatoryFirstEntryMethod,nextVisibleStepPresent,openAuthentication,parentUrl,parentUrlOrFallback,pl,popupHeight,popupWidth,postEntryRedirect,prefillContestantForm,probablySharingVideo,propagatePinterestUsername,propogateTwitterUsername,removeEntryMethodSkeleton,requestDetails,resumeAction,resumeEntry,rewardTypeDescription,setContestantSuccess,shareLink,shareText,showMessage,showPopover,showTierPopover,showViralShareTooltip,startExpandedTimer,startVisitActionTimer,t,templateWithCorrectIndices,thirdChoiceReset,timeDifference,toEntryMethod,toFormName,triggerOnloadPixel,unexpand,unexpectedEnteringError,unshortenedShareLink,updateDefaultAutoEnterText,widgetIsStandalone,withLogin;return $scope.t=t=function(key,map){return null==map&&(map=null),translationService.translate(key,map)},$scope.pl=pl=function(count,singular,plural,map){return null==map&&(map={}),translationService.pluralize(count,singular,plural,map)},$scope.updateLanguage=function(){return $http.get("/"+campaignService.campaign.campaign_type.toLowerCase()+"s/post-tab-lang-bundle/"+campaignService.campaign.key+"/"+campaignService.campaign.site_id+"/"+campaignService.campaign.default_language).then(function(response){return translationService.updateBundle(response.data.message_bundle),$scope.refreshPostEntryPreview()})},$scope.previewTemplate=function(){return $templateCache.get("campaigns/confirmation_email/preview.html")},$scope.fetchEntryMethodTemplateBatches=function(){var entryTypes;return entryTypes=Array.from($("[data-entry-type]")).filter(function(x){return 0===$(x.dataset.template).length}).map(function(x){return x.dataset.entryType}),_.chunk(entryTypes,50).map(function(entryTypesBatch){return $http.get("/"+campaignService.campaign.campaign_type.toLowerCase()+"s/entry_method_templates_batch",{params:{"entry_types[]":entryTypesBatch,site:campaignService.campaign.site_id}}).then(function(response){return $("body").append(response.data)})})},angular.entriesControllerPostEntry($scope,$filter),$scope.appName=appName=$window.actionMarketingAppName,$scope.contestantState=campaignService.contestantState,$scope.choiceState=campaignService.choiceState,$scope.dc=campaignService.dc,gleamAuthWindowName="_gleam_auth",0<$("form.campaign").length&&(campaignData=$("form.campaign").serializeJSON(),campaignService.initEditCampaign(campaignData),$scope.campaign=campaignService.campaign,$scope.incentive=campaignService.incentive,$scope.entry_methods=campaignService.entry_methods,$scope.paid_entry_methods=campaignService.paid_entry_methods,$scope.lead_capture=campaignService.lead_capture,$scope.$watch("campaign.default_language",function(){return updateDefaultAutoEnterText()}),$scope.$watch("campaign.countries_collecting_type",function(val){return"Exclude"!==val?($scope.exclude_locations=null,$scope.include_locations=!0):"Exclude"===val?($scope.exclude_locations=!0,$scope.include_locations=null):void 0}),$scope.$watch("campaign.show_redeem_display",function(){return campaignService.campaign.suppress_redeem_display=!campaignService.campaign.show_redeem_display}),$scope.$watch("campaign.default_confirmation_email",function(){return campaignService.campaign.default_confirmation_email&&(campaignService.campaign.custom_confirmation_email=!1),campaignService.campaign.suppress_email=!campaignService.campaign.default_confirmation_email&&!campaignService.campaign.custom_confirmation_email}),$scope.$watch("campaign.custom_confirmation_email",function(){return campaignService.campaign.custom_confirmation_email&&(campaignService.campaign.default_confirmation_email=!1),campaignService.campaign.suppress_email=!campaignService.campaign.default_confirmation_email&&!campaignService.campaign.custom_confirmation_email}),$scope.isAllRuleGroupsRemoved=0===$("#rule-groups .sort-group").length,window.devEnvironment||$scope.fetchEntryMethodTemplateBatches()),$scope.refreshGroupsCount=function(){return $timeout(function(){return $scope.isAllRuleGroupsRemoved=0===$("#rule-groups .sort-group").length})},$scope.isAuthenticated=function(entry_method,provider){return campaignService.isAuthenticated(entry_method,provider)},$scope.actionPerformed=function(entry_method){return campaignService.actionPerformed(entry_method)},$scope.enoughEntryDetails=function(entry_method){return campaignService.enoughEntryDetails(entry_method)},$scope.startDate=function(){return campaignService.startDate()},$scope.endDate=function(){return campaignService.endDate()},$scope.isRunning=function(){return campaignService.isRunning()},$scope.isStarted=function(){return campaignService.isStarted()},$scope.isFinished=function(){return campaignService.isFinished()},$scope.isCampaignEntryLimit=function(){return campaignService.isCampaignEntryLimit()},$scope.manyEntries=function(){return campaignService.manyEntries()},$scope.choices=function(entry_method){return campaignService.choices(entry_method)},$scope.hasCustom=function(key){return campaignService.hasCustom(key)},$scope.isEntered=function(entry_method){return campaignService.isEntered(entry_method)},$scope.isTierEntered=function(entry_method,tier){return campaignService.isTierEntered(entry_method,tier)},$scope.isTierLocked=function(tier){return campaignService.isTierLocked(tier)},$scope.isClaimed=function(entry_method){return campaignService.entryMethodCouponClaimed(entry_method)},$scope.canEnter=function(entry_method){return campaignService.canEnter(entry_method)},$scope.entryMethodCouponNotAvailable=function(entry_method){return campaignService.entryMethodCouponNotAvailable(entry_method)},$scope.totalEntries=function(){return campaignService.totalEntries()},$scope.continueDisabled=function(entry_method){return campaignService.continueDisabled(entry_method)},$scope.requiresInitialLogin=function(){return campaignService.requiresInitialLogin()},$scope.socialLoginRequired=function(){return campaignService.socialLoginRequired()},$scope.contestantEntries=function(){return campaignService.contestantEntries()},$scope.totalActionsCompleted=function(){return campaignService.totalActionsCompleted()},$scope.bestCouponCode=function(){return campaignService.bestCouponCode()},$scope.displayCouponCode=function(){return campaignService.displayCouponCode()},$scope.showPromotionEnded=function(){return campaignService.showPromotionEnded()},$scope.showPromotionStartsIn=function(){return campaignService.showPromotionStartsIn()},$scope.verifyStatus=function(entry_method){return campaignService.verifyStatus(entry_method)},$scope.challengeCompleted=function(response){return $scope.challenge.userResponse=response,$scope.resumeEntry($scope.entry_method)},$scope.isReward=function(){return campaignService.isReward()},$scope.actionsStillNeededToUnlockReward=function(){return campaignService.actionsStillNeededToUnlockReward()},$scope.entryMethodColor=function(entry_method){return campaignService.entryMethodColor(entry_method)},$scope.removerColor=function(){return campaignService.removerColor()},$scope.requiresMandatoryActions=function(){return campaignService.requiresMandatoryActions()},$scope.isTestMode=function(){return campaignService.isTestMode()},$scope.isTryingFeatures=function(){return campaignService.isTryingFeatures()},$scope.files=function(entry_method){return campaignService.files(entry_method)},$scope.isChoiceSelected=function(entry_method,imageSrc){return campaignService.isChoiceSelected(entry_method,imageSrc)},$scope.landingPage=function(){return campaignService.landingPage()},resumeAction=!1,inIframe=function(){return $window.self!==$window.top},popupWidth=function(provider){switch(provider){case"soundcloud":return 958;case"instagram":return 400;case"youtube":case"reddit":case"google":return 850;case"steam":case"eventbrite":return 974;case"patreon":return 420;default:return 780}},popupHeight=function(provider){switch(provider){case"soundcloud":return 500;case"twitter":return 570;case"twitchtv":return 540;case"instagram":return 550;case"youtube":case"google":return 550;case"steam":return 578;case"eventbrite":case"goodreads":return 480;case"spotify":case"reddit":return 590;case"patreon":return 520;default:return 410}},parentUrl=function(){return Cookies.get("L-"+campaignService.campaign.key)},parentUrlOrFallback=function(){var fallbackParentUrl;return fallbackParentUrl=window.location.href.match(/[?&]l=([^?&]+)/),parentUrl()||(fallbackParentUrl?$window.decodeURIComponent(fallbackParentUrl[1]):null)},$scope.openAuthentication=openAuthentication=function(provider,entry_method,auth_scope){var authKeyParam,authUrl,baseUrl,createdWindow,len,n,providerName,providerPath,ref1;if(0===provider.indexOf("email"))return emailLogin();for(baseUrl=location.protocol+"//"+location.host,providerPath=provider,n=0,len=(ref1=campaignService.campaign.all_possible_login_providers).length;n<len;n++)if(0===(providerName=ref1[n]).indexOf(provider)){providerPath=providerName;break}return authKeyParam="?AuthKey="+campaignService.campaign.key,0===provider.indexOf("soundcloud")?"&scope=non-expiring&grant_type=authorization_code":"",authUrl=baseUrl+"/auth/"+providerPath+authKeyParam+(auth_scope?"&scope="+auth_scope:""),Cookies.set("AuthReturnFallback",parentUrlOrFallback()||$window.location.href,{expires:1}),angular.browser.tablessBrowser?parentUrlOrFallback()&&angular.browser.instagramApp?(Cookies.set("AuthReturn",parentUrlOrFallback(),{expires:1}),$window.top.location.href=authUrl):(Cookies.set("AuthReturn",$window.location.href,{expires:1}),$window.location.href=authUrl):(Cookies.set("AuthKey",campaignService.campaign.key,{expires:1}),0===provider.indexOf("pinterest")&&campaignService.campaign.pinterest_app_banned?($scope.updateEntryMethodView(entry_method),expand(entry_method)):(createdWindow=$window.open(authUrl,gleamAuthWindowName,"width="+popupWidth(provider)+",height="+popupHeight(provider)+",toolbar=0,scrollbars=0,status=0,resizable=0,location=0,menuBar=0,left=10,top=10"))&&createdWindow.document&&createdWindow.document.location||(angular.browser.tablessBrowser=!0)),!0},function(){return $window.FB?FB.getUserID():null},function(str){return str.replace(/<[a-z][^>]*>/gi,"")},$scope.isAnyShareMethodAvailable=function(entry_method){return isEmailShareAvailable(entry_method)||isFacebookShareAvailable(entry_method)||isTwitterShareAvailable(entry_method)||isTumblrShareAvailable(entry_method)||isLinkedinShareAvailable(entry_method)||isWhatsappShareAvailable(entry_method)||isSmsShareAvailable(entry_method)},$scope.availableShareMethodCount=function(entry_method){return(isEmailShareAvailable(entry_method)&&1)+(isFacebookShareAvailable(entry_method)&&1)+(isTwitterShareAvailable(entry_method)&&1)+(isTumblrShareAvailable(entry_method)&&1)+(isLinkedinShareAvailable(entry_method)&&1)+(isWhatsappShareAvailable(entry_method)&&1)+(isSmsShareAvailable(entry_method)&&1)},$scope.isEmailShareAvailable=isEmailShareAvailable=function(entry_method){return 0<=indexOf.call(entry_method.config_selections,"EMAIL")},$scope.isFacebookShareAvailable=isFacebookShareAvailable=function(entry_method){return 0<=indexOf.call(entry_method.config_selections,"FACEBOOK")},$scope.isTwitterShareAvailable=isTwitterShareAvailable=function(entry_method){return 0<=indexOf.call(entry_method.config_selections,"TWITTER")},$scope.isTumblrShareAvailable=isTumblrShareAvailable=function(entry_method){return 0<=indexOf.call(entry_method.config_selections,"TUMBLR")},$scope.isLinkedinShareAvailable=isLinkedinShareAvailable=function(entry_method){return 0<=indexOf.call(entry_method.config_selections,"LINKEDIN")},$scope.isWhatsappShareAvailable=isWhatsappShareAvailable=function(entry_method){return 0<=indexOf.call(entry_method.config_selections,"WHATSAPP")&&!(!angular.browser.androidDevice&&!angular.browser.iPhoneDevice)},$scope.isMessengerShareAvailable=function(entry_method){return 0<=indexOf.call(entry_method.config_selections,"MESSENGER")&&!(!angular.browser.androidDevice&&!angular.browser.iPhoneDevice)},$scope.isSmsShareAvailable=isSmsShareAvailable=function(entry_method){return 0<=indexOf.call(entry_method.config_selections,"SMS")&&!(!angular.browser.androidDevice&&!angular.browser.iPhoneDevice)},$scope.shareText=shareText=function(entry_method){var text;return entry_method.config3?(text=entry_method.config3,linkify.find(text).forEach(function(link){return text=text.replace(link.href,unshortenedShareLink()+"?l="+encodeURIComponent(link.href))}),text.replace("%{link}",shareLink(entry_method)).replace("%{incentive}",campaignService.incentive.name)):t(campaignService.isReward()?"share_reward_body":"share_competition_body",{link:shareLink(entry_method),incentive:campaignService.incentive.name})},$scope.mailtoTarget=function(){return angular.browser.currentWindowMailto?inIframe()?"_top":null:"_blank"},$scope.mailtoShareLink=function(entry_method){return"mailto:?body="+encodeURIComponent(shareText(entry_method))+"&subject="+encodeURIComponent(entry_method.config2||"")},$scope.whatsappShareLink=function(entry_method){return"whatsapp://send?text="+encodeURIComponent(shareText(entry_method))},$scope.messengerShareLink=function(entry_method){return"fb-messenger://share/?link="+encodeURIComponent(shareLink(entry_method))},$scope.smsShareLink=function(entry_method){var j,version;return navigator.userAgent.toLowerCase(),j="?",angular.browser.iPhoneDevice&&((version=angular.browser.iOSversion)[0]<=7&&(j=";"),7<version[0]&&(j="&")),"sms:"+j+"body="+encodeURIComponent(shareText(entry_method))},$scope.trackViralShareClick=function(network){return $window.trackEvent(appName+" Shares|Viral Share Click|"+network)},$scope.getStorageAccess=function(){return $scope.hasStorageAccess?$(document).off("click","body",$scope.getStorageAccess):document.requestStorageAccess().then(function(){if($scope.hasStorageAccess=!0,Cookies.set("test","hello",{expires:1}),$scope.cookiesEnabled="hello"===Cookies.get("test"),Cookies.remove("test"),$scope.cookiesEnabled)return $(document).off("click","body",$scope.getStorageAccess),$scope.$apply()})},$scope.initCookiesEnabled=function(callback,skipItpCheck){return $scope.cookiesEnabled="t"===Cookies.get("_gfpc"),$scope.hasStorageAccess=!1,angular.browser.itpDevice&&$scope.inFrame()&&!skipItpCheck?($scope.cookieInterval&&(clearInterval($scope.cookieInterval),$scope.cookieInterval=null),document.hasStorageAccess().then(function(hasAccess){return($scope.hasStorageAccess=hasAccess)||($(document).on("click","body",$scope.getStorageAccess),$scope.cookieInterval=setInterval(function(){if(Cookies.set("test","hello",{expires:1}),$scope.cookiesEnabled="hello"===Cookies.get("test"),Cookies.remove("test"),$scope.cookiesEnabled)return clearInterval($scope.cookieInterval),$scope.cookieInterval=null,$scope.$apply()},1e3)),callback&&callback(hasAccess)},function(){return $(document).on("click","body",$scope.getStorageAccess),callback&&callback(!1)})):callback?($scope.hasStorageAccess=!0,callback($scope.cookiesEnabled)):void 0},$scope.showCookieFix=function(){return($scope.isRunning()||$scope.isTestMode())&&!$scope.cookiesEnabled},$scope.cookieFixUrl=function(){return"/cookiefix?sa="+(campaignService.campaign.stand_alone_url+encodeURIComponent($window.location.search||""))},$scope.cookieFix=function(){return $scope.initCookiesEnabled(function(){var attempts,prefillChecker;if(window&&window.parent&&window.parent.postMessage)return window.parent.postMessage("request-prefill","*"),attempts=1,prefillChecker=setInterval(function(){if(attempts+=1,Cookies.get("PP-"+campaignService.campaign.key)||50<attempts)return prefillContestantForm(!0),clearInterval(prefillChecker)},200)},!0)},$scope.openCookieFix=function($event){if(angular.browser.itpDevice&&$scope.inFrame()&&!$scope.safariBorked)return $scope.safariBorked=!0,$event.preventDefault(),document.requestStorageAccess().then(function(){return Cookies.set("test","hello",{expires:1}),$scope.cookiesEnabled="hello"===Cookies.get("test"),Cookies.remove("test"),$scope.cookiesEnabled?$scope.$apply():window.open($scope.cookieFixUrl(),"_blank")},function(){return window.open($scope.cookieFixUrl(),"_blank")})},$scope.facebookShare=function(entry_method){var picture,shareData,url;return shareData={method:"feed",display:angular.browser.androidDevice?"page":"popup",link:shareLink(entry_method),name:entry_method.config2||campaignService.campaign.name,description:$(".incentive-description .user-fragment").text()||""},(picture=entry_method.image||campaignService.incentive.url)&&(shareData.picture=picture.replace(/https:/,"http:")),campaignService.incentive.youtube_video_id&&(shareData.source="https://www.youtube.com/v/"+campaignService.incentive.youtube_video_id+"?version=3&autohide=1&autoplay=1",shareData.picture||(shareData.picture="http://img.youtube.com/vi/"+campaignService.incentive.youtube_video_id+"/0.jpg")),angular.browser.supportsFacebookApiShare?FB.ui(shareData):(url="http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(shareData.link),$window.open(url,"_facebook_share"))},$scope.twitterShare=function(entry_method){return $window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(entry_method.config2||campaignService.campaign.name)+"&url="+encodeURIComponent(shareLink(entry_method)),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")},$scope.tumblrShare=function(entry_method){return $window.open("https://www.tumblr.com/widgets/share/tool?canonicalUrl="+encodeURIComponent(shareLink(entry_method))+"&caption="+encodeURIComponent(entry_method.config2||campaignService.campaign.name),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")},$scope.linkedinShare=function(entry_method){var picture;return picture=entry_method.image||campaignService.incentive.url,$window.open("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(shareLink(entry_method))+"&summary="+encodeURIComponent(entry_method.config2||campaignService.campaign.name)+"&submitted-image-url="+encodeURIComponent(picture))},$scope.pinterestShare=function(entry_method){var picture;return picture=entry_method.image||campaignService.incentive.url,$window.open("https://pinterest.com/pin/create/link/?url="+encodeURIComponent(shareLink(entry_method))+"&media="+encodeURIComponent(picture)+"&description="+encodeURIComponent(entry_method.config2||campaignService.campaign.name))},$scope.linkedInCompanyUrl=function(company_id){return $sce.trustAsResourceUrl("https://www.linkedin.com/cws/followcompany?companyIdentifier="+parseInt(company_id)+"&counterPosition=top&token=&isFramed=true&lang=en_US")},linkMatcher=/(https?:\/\/(?!pic\.twitter\.com|t\.co)[^ ]+[^ ,.)\]\r\n])/gi,endLinkMatcher=/(https?:\/\/(?!pic\.twitter\.com|t\.co)[^ ]+[^ ,.)\]\r\n])\s*$/gi,endHastagMatcher=/((?:^|\s)+#[a-z0-9_]+\s*)+$/gi,getEndHashtags=function(str){var m;return(m=str.replace(endLinkMatcher,"").match(/(\s*#[a-z0-9_]+\s*)+$/gi))?m[0].replace(/\s*#/,"").split(/\s*#/g):[]},$scope.prepareTweet=function(passedTweet,defaultUrl,hashtags){var data,endLinkMatch,len,n,remaining_tags,tag,tags,tweet;if(tweet=passedTweet||"",(data={}).text=tweet.replace(endHastagMatcher,"").replace(endLinkMatcher,"").replace(endHastagMatcher,"").trim(),data.hashtags=getEndHashtags(tweet).join(","),tweet.replace(endHastagMatcher,"").replace(endLinkMatcher,"").match(linkMatcher)?(data.link="",data.full=tweet):(endLinkMatch=tweet.replace(endHastagMatcher,"").match(endLinkMatcher))?(data.link=endLinkMatch[0],data.full=tweet):(data.link=defaultUrl,data.full=tweet+" "+defaultUrl),hashtags){for(remaining_tags=[],n=0,len=(tags=hashtags.split(",")).length;n<len;n++)tag=tags[n],data.text.match(tagToHashtagRegExp(tag))||remaining_tags.push(tag);data.hashtags=remaining_tags.join()}return data},$scope.parseLinkedIn=function(){return $window.parseLinkedIn&&$window.parseLinkedIn()},probablySharingVideo=function(entry_method){return entry_method.config1&&entry_method.config2&&entry_method.config2.match(/share.* video/i)},requestDetails=function(entry_method){var shareData;return"facebook_share"!==entry_method.entry_type||campaignService.enoughEntryDetails(entry_method)?"facebook_media"===entry_method.entry_type?campaignService.contestantState.facebooks?expand(entry_method):(entry_method.entering=!0,mediaService.getFacebookMedia(entry_method,campaignService.contestantState.facebookPermissions,{login:function(response){return campaignService.contestantState.facebookAccessToken=response.authResponse.accessToken},success:function(data){
return $scope.$apply(function(){return entry_method.entering=!1,campaignService.contestantState.facebooks=data,entry_method.config.enterOnSingleMedia&&entry_method.config.enterOnSingleMedia(entry_method)?1===data.length?($scope.mediaChoice(entry_method,data[0]),$scope.confirmFacebookMediaChoice(entry_method,entry_method.selected)):($scope.mediaChoice(entry_method,data[0]),expand(entry_method)):expand(entry_method)})},denied:function(permissions){return campaignService.contestantState.facebookPermissions=permissions,entry_method.entering=!1}})):"media_action"===entry_method.entry_type&&entry_method.mediaSourceAuth?$scope.setMediaSource(entry_method,entry_method.mediaSourceAuth):("facebook_enter"!==entry_method.entry_type||"Like"===entry_method.config2||campaignService.enoughEntryDetails(entry_method))&&("pinterest_enter"!==entry_method.entry_type||"Follow"===entry_method.config2||campaignService.enoughEntryDetails(entry_method))?"pinterest_choose_board"===entry_method.entry_type&&campaignService.campaign.pinterest_app_banned?expand(entry_method):"loyalty"===entry_method.entry_type?campaignService.contestantState.contestant.id?(entry_method.entering=!0,tierService.fetchContestantData(campaignService.campaign,{success:function(response){return entry_method.entering=!1,campaignService.contestantState.contestant.tier_data=response.data,expand(entry_method)},error:function(){return entry_method.entering=!1,showMessage(entry_method,"An error has occurred when getting your loyalty status.")}})):expand(entry_method):entry_method.config.requiresMedia?entry_method.media?expand(entry_method):(entry_method.entering=!0,mediaService.getMedia(entry_method,{success:function(data){return entry_method.entering=!1,entry_method.media=data,entry_method.config.enterOnSingleMedia&&entry_method.config.enterOnSingleMedia(entry_method)?1===data.length?($scope.mediaChoice(entry_method,data[0]),$scope.mediaChoiceContinue(entry_method)):($scope.mediaChoice(entry_method,data[0]),expand(entry_method)):expand(entry_method)},authExpired:function(){return expireAuth(entry_method)},accountPrivate:function(){return entry_method.entering=!1,showMessage(entry_method,t("account_private_error"))},error:function(){var provider;return entry_method.entering=!1,provider=entry_method.entry_type.split("_")[0],alert(t("feed_error",{service:provider}))}})):expand(entry_method,!1):(campaignService.entryDetailsState[entry_method.id]="Done",attemptEntry(entry_method)):(shareData={method:"feed",display:"popup",link:entry_method.config1||campaignService.campaign.landing_page,name:campaignService.campaign.name,caption:entry_method.config3||campaignService.incentive.name.replace(/^\d+ x /,""),description:entry_method.config4||$(".incentive-description .user-fragment").text()||""},campaignService.incentive.url&&!probablySharingVideo(entry_method)&&(shareData.picture=campaignService.incentive.url.replace(/https:/,"http:")),FB.ui(shareData,function(response){if(response)return $scope.$apply(function(){return confirmAction(entry_method,response.post_id)})}))},$scope.demandingOtherLogins=function(){return campaignService.contestantState.otherLogins},$scope.demandingChallenge=function(){return $scope.challenge.demand&&!$scope.challenge.userResponse&&!$scope.demandingAuth()},$scope.demandingAuth=function(){return campaignService.contestantState.demandAuth&&!campaignService.verifiedAuth()},$scope.editingContestant=function(){return campaignService.contestantState.editMode&&!$scope.demandingOtherLogins()&&!$scope.demandingAuth()&&!$scope.demandingChallenge()},$scope.hideEntriesPanel=function(){return $scope.demandingOtherLogins()||$scope.demandingAuth()||$scope.demandingChallenge()||$scope.editingContestant()},$scope.ensureInstagramScript=function(){return $window.instgrm?$window.instgrm.Embeds.process():0===$("#instagram-embed-script").length&&$("head").append('<script id="instagram-embed-script" async defer src="//platform.instagram.com/en_US/embeds.js"></script>'),!0},$scope.ensureVimeoScript=function(){var script;return 0===$("#vimeo-root").length&&(script='<div id="vimeo-root"></div> <script src="https://player.vimeo.com/api/player.js"></script>',$("head").append(script)),!0},$scope.instagramPostHeight=function(entry_method){var height,width;return width=parseInt(entry_method.config4),height=parseInt(entry_method.config5),0<width&&0<height?($scope.widgetWidth()-20)*(height/width)+207+"px":"auto"},$scope.setMediaSource=function(entry_method,provider){if(entry_method.mediaSourceAuth=null,"upload"===provider||campaignService.isAuthenticated(entry_method,provider))switch(unexpand(entry_method),entry_method.entering=!0,entry_method.mediaSource=provider){case"instagram":case"twitter":return mediaService.getMedia(entry_method,{provider:provider,success:function(data){return entry_method.entering=!1,entry_method.media=data,entry_method.config.enterOnSingleMedia&&entry_method.config.enterOnSingleMedia(entry_method)?1===data.length?($scope.mediaChoice(entry_method,data[0]),$scope.mediaChoiceContinue(entry_method)):($scope.mediaChoice(entry_method,data[0]),expand(entry_method)):expand(entry_method)},authExpired:function(){return expireAuth(entry_method,provider)},accountPrivate:function(){return entry_method.entering=!1,alert(t("account_private_error"))},error:function(){return entry_method.entering=!1,alert(t("feed_error",{service:provider}))}});case"facebook":return mediaService.getFacebookMedia(entry_method,campaignService.contestantState.facebookPermissions,{login:function(response){return campaignService.contestantState.facebookAccessToken=response.authResponse.accessToken},success:function(data){return $scope.$apply(function(){return campaignService.contestantState.facebooks=data,entry_method.entering=!1,entry_method.config.enterOnSingleMedia&&entry_method.config.enterOnSingleMedia(entry_method)?1===data.length?($scope.mediaChoice(entry_method,data[0]),$scope.confirmFacebookMediaChoice(entry_method,entry_method.selected)):($scope.mediaChoice(entry_method,data[0]),expand(entry_method)):expand(entry_method)})},denied:function(permissions){return campaignService.contestantState.facebookPermissions=permissions,entry_method.entering=!1}});case"upload":return entry_method.entering=!1,expand(entry_method)}else"facebook"===(entry_method.mediaSourceAuth=provider)?openAuthentication(provider,entry_method,"user_link,email,user_photos,user_videos,user_status,user_posts"):openAuthentication(provider,entry_method)},$scope.confirmFacebookMediaChoice=function(entry_method,media){var big_image,type;return type=media.embed_html?"video/mp4":"image/jpeg",big_image=$filter("orderBy")(media.images||[media],"width",!0)[0],campaignService.entryDetailsState[entry_method.id]={id:media.id,url:big_image.source,thumb:media.picture,post_url:media.link,uid:media.from.id,reference:media.from.name,name:media.from.name,text:media.description||media.name,created:Date.parse(media.created_time.replace(/-/g,"/").replace("T"," "))/1e3,file_type:type,provider:"facebook"},$scope.updateEntryMethodView(entry_method),attemptEntry(entry_method)},expand=function(entry_method,userInitated){return null==userInitated&&(userInitated=!0),campaignService.entryState.expanded=entry_method,userInitated&&campaignService.entryState.autoExpanded!==entry_method&&(campaignService.entryState.autoExpanded=null),$timeout(function(){if($scope.$broadcast("entry-method-expanded",entry_method),entry_method.onExpand)return entry_method.onExpand.call()},1)},$scope.unexpand=unexpand=function(entry_method){var em,len,n,prevExpanded,ref1;if(prevExpanded=campaignService.entryState.expanded,campaignService.entryState.expanded=null,entry_method)entry_method.information_expanded=!1,entry_method.onUnexpand&&entry_method.onUnexpand.call();else for(n=0,len=(ref1=campaignService.entry_methods).length;n<len;n++)em=ref1[n],unexpand(em);if(null!=prevExpanded)return $scope.$broadcast("entry-method-unexpanded",prevExpanded)},$scope.unableToEnter=function(){return!(campaignService.campaign.banned||campaignService.contestantState.location_allowed&&campaignService.contestantState.referrer_allowed&&campaignService.isRunning()||campaignService.isTestMode()||!$scope.cookiesEnabled)},$scope.imageChoiceClasses=function(entry_method){switch(campaignService.choices(entry_method).length){case 1:return"one-row";case 2:return"two-row";case 3:case 6:return"three-row";case 4:case 7:case 11:case 12:return"four-row";default:return"five-row"}},$scope.hasVisited=function(entryMethod){return campaignService.getTrackingCookie("V",entryMethod)||campaignService.getTrackingCookie("D",entryMethod)},$scope.delayedTriggerVisit=function(entry_method,delayMilliseconds){return null==delayMilliseconds&&(delayMilliseconds=5e3),$timeout(function(){return $scope.triggerVisit(entry_method)},delayMilliseconds)},$scope.triggerVisit=function(entry_method,apply,value){var visitedAt;return null==apply&&(apply=!0),null==value&&(value=null),campaignService.useVisitCookie(entry_method)?campaignService.setTrackingCookie("V",entry_method,value||"V",1):campaignService.setTrackingCookie("D",entry_method,value||"V",7),campaignService.isTimerAction(entry_method)&&(visitedAt=Math.floor(Date.now()/1e3),entry_method.secondsOpen&&(visitedAt-=entry_method.secondsOpen),campaignService.setTrackingCookie("T",entry_method,visitedAt,1)),trackPageview($window.pageViewOverride+("/visited/"+entry_method.id).replace(/\/$/,"")),ifvisible.blur(),setTimeout(function(){if("VisitAuto"===entry_method.workflow&&attemptEntry(entry_method),entry_method.config.completeAfterVisit&&entry_method.config.completeAfterVisit(entry_method)&&$scope.saveEntryDetails(entry_method),apply)return $scope.$apply()},100)},$scope.bestCampaignUrl=function(entry_method){return"Gleam"===campaignService.campaign.stand_alone_option?shareLink(entry_method)||parentUrl()||campaignService.campaign.landing_page:shareLink(entry_method)||campaignService.campaign.landing_page_override||parentUrl()||campaignService.campaign.landing_page},$scope.markAsEntered=function(entry_method,existing_at,worth,tier){var tiers;return tiers=tier?[tier.id]:[],campaignService.contestantState.contestant.entered[entry_method.id].push({t:existing_at,w:worth,c:1,ts:tiers})},postEntryRedirect=function(){if(campaignService.campaign.post_entry_url&&campaignService.isAllEntered())return $timeout(function(){return window.top.location.href=campaignService.campaign.post_entry_url},50)},$scope.instagramMediaType=function(entry_method){return"video"===entry_method.config3?t("instagram_media_video"):t("instagram_media_photo")},$scope.facebookMediaType=function(entry_method){return"video"===entry_method.config3?t("media_object_video"):"photo"===entry_method.config3?t("media_object_photo"):t("media_object_post")},$scope.widgetWidth=function(){return $(".popup-blocks-container").width()||540},$scope.secretCodeEntryWidth=function(entry_method){var maxLength,placeholder;return maxLength=entry_method.maxlength,(placeholder=entry_method.config5)&&placeholder.length>maxLength&&(maxLength=placeholder.length),17<maxLength?12:.7*maxLength},$scope.unshortenedShareLink=unshortenedShareLink=function(){var contestant,sharePath;return sharePath=(contestant=campaignService.contestantState.contestant).viral_share_paths[campaignService.campaign.key]?contestant.viral_share_paths[campaignService.campaign.key]:(contestant.gettingViralSharePath||(contestant.gettingViralSharePath=!0,$http.get("/share/"+campaignService.campaign.key).then(function(response){if(response.data&&response.data.viral_share_paths&&response.data.viral_share_paths[campaignService.campaign.key])return contestant.gettingViralSharePath=!1,contestant.viral_share_paths||(contestant.viral_share_paths={}),contestant.viral_share_paths[campaignService.campaign.key]=response.data.viral_share_paths[campaignService.campaign.key]})),"/"+campaignService.campaign.key+"-"+contestant.share_key),location.protocol+"//"+location.host+sharePath},$scope.shareLink=shareLink=function(entry_method){var contestant,l,pathDelayMs,shortenSuccessCallback;return contestant=campaignService.contestantState.contestant,campaignService.campaign.share&&campaignService.contestantState.contestant.id&&(l=unshortenedShareLink(),campaignService.campaign.multiple_shares&&entry_method.share_suffix&&(l+="-"+entry_method.share_suffix),"Gleam"===campaignService.campaign.stand_alone_option&&parentUrl()||campaignService.campaign.shortener.url?(parentUrl()&&(l+="?l="+encodeURIComponent(parentUrl())),!contestant.gettingShareLink&&campaignService.isExpanded(entry_method)&&(contestant.gettingShareLink=!0,campaignService.campaign.shortener.url?(pathDelayMs=contestant.gettingViralSharePath?3e3:0,$timeout(function(){if(!contestant.shareLink)return $scope.$apply(function(){return contestant.shareLink=l})},5e3+pathDelayMs),shortenSuccessCallback=function(data){return $scope.$apply(function(){return contestant.shareLink=data.data.url})},$timeout(function(){return"local"===campaignService.campaign.shortener.type?shortenerService.shortenLocal(l,campaignService.campaign.shortener.url,campaignService.campaign.shortener.method,{success:shortenSuccessCallback}):shortenerService.shortenRemote(l,campaignService.campaign.shortener.url,campaignService.campaign.shortener.username,campaignService.campaign.shortener.api_key,{success:shortenSuccessCallback})},pathDelayMs)):contestant.shareLink=l)):contestant.shareLink=l),contestant.shareLink},$scope.continueTooltip=function(entry_method){return entry_method.config.continueTooltip?entry_method.config.continueTooltip(entry_method):"good"!==campaignService.verifyStatus(entry_method)&&campaignService.continueDisabled(entry_method)?"youtube_video"===entry_method.entry_type?t("youtube_invalid_video"):"pinterest_choose_board"===entry_method.entry_type?t("pinterest_invalid_board"):t("tooltip_invalid_value"):"twitter"===entry_method.provider?t("tooltip_twitter_username"):null},$scope.entryMethodView=function(entry_method){return campaignService.entryState.currentView&&campaignService.entryState.currentView[entry_method.id]||$scope.updateEntryMethodView(entry_method),"empty"===campaignService.entryState.currentView[entry_method.id]?null:campaignService.entryState.currentView[entry_method.id]},$scope.updateEntryMethodView=function(entry_method){var alwaysRequireContactInfoFirst,base,canSubmit,displayInformation,requireContactInfoNow;return(base=campaignService.entryState).currentView||(base.currentView={}),campaignService.entryState.currentView[entry_method.id]=(canSubmit=campaignService.canSubmitEntryForm(entry_method),alwaysRequireContactInfoFirst=entryMethodAlwaysRequiresContactInfoFirst(entry_method),requireContactInfoNow=campaignService.requireContactInfo(entry_method)&&(campaignService.contestantState.unconfirmed||alwaysRequireContactInfoFirst),displayInformation=campaignService.displayInformationRequired(entry_method,resumeAction),null!=entry_method.kill_switch_message?"views/enter/kill-switch.html":displayInformation||campaignService.enoughUserDetails(entry_method)&&!campaignService.contestantState.unconfirmed||!(canSubmit||campaignService.enoughEntryDetails(entry_method)||requireContactInfoNow)?0===entry_method.entry_type.indexOf("pinterest")&&campaignService.campaign.pinterest_app_banned&&!campaignService.getAuthentication("pinterest")?"/"+campaignService.campaign.key+"/ng-view/enter/pinterest-username.html":entry_method.requires_details||entry_method.api_denied||entry_method.display_information||displayInformation||$scope.mustOptIn(entry_method)?(entry_method.information_expanded=!0,entry_method.template.match("choose_image|multiple_choice|choose_option|blog_comment|visit")?"views/entry-details/templates/"+entry_method.template.replace(/_/,"-")+".html":($("body").trigger("widget:thirdpartyparse"),"views/entry-details/"+entry_method.entry_type+".html")):"empty":"/"+campaignService.campaign.key+"/ng-view/enter/contestant-details.html")},entryMethodAlwaysRequiresContactInfoFirst=function(entry_method){var config;return null!=(config=entry_method.config).alwaysRequireContactInfoFirst?config.alwaysRequireContactInfoFirst:null!=config.alwaysRequireContactInfoFirstFunc&&config.alwaysRequireContactInfoFirstFunc(entry_method)},$scope.scrollIntoView=function($element){return setTimeout(function(){var rect;if(window.parent&&window.postMessage&&$element&&$element.length)return rect=$element[0].getBoundingClientRect(),window.parent.postMessage(appName+"ScrollToView"+campaignService.campaign.key+"="+rect.top,"*")},100)},$scope.youtubeVideoStateChange=function(entry_method,event){if(event.data===YT.PlayerState.ENDED)return entry_method.timePassed=!0},$scope.videoFinishedPlaying=function(entry_method){return entry_method.timePassed=!0},$scope.vimeoPlayer=function(entry_method){return $sce.trustAsResourceUrl("//player.vimeo.com/video/"+encodeURIComponent(entry_method.config3)+"?api=1&player_id=vimeoVideo"+encodeURIComponent(entry_method.id))},$scope.kickstarterEmbed=function(entry_method){var matches;return matches=entry_method.config2.match(/\/projects\/(.+)\/([^\/?&#]+)/i),$sce.trustAsResourceUrl("https://www.kickstarter.com/projects/"+matches[1]+"/"+matches[2]+"/widget/video.html")},$scope.indiegogoEmbed=function(entry_method){var matches;return matches=entry_method.config2.match(/\/projects\/([^\/?&#]+)/i),$sce.trustAsResourceUrl("https://www.indiegogo.com/project/"+matches[1]+"/embedded")},$scope.visitAndComplete=function(entry_method){return $scope.triggerVisit(entry_method,!1),attemptEntry(entry_method)},$scope.songListened=$scope.videoWatched=function(entry_method){if(entry_method.timePassed)return confirmAction(entry_method,"W")},$scope.iframeUrl=function(entry_method){return $sce.trustAsResourceUrl(entry_method.iframe_url)},autoEntryForm=function(){return $("[data-generated=AutoEnter]")},updateDefaultAutoEnterText=function(){var desiredTranslation,existingValue,locale,ref1,results;if($scope.auto_enter_translation&&(existingValue=autoEntryForm().find("input[name$='[config1]']").val(),desiredTranslation=$scope.auto_enter_translation[campaignService.campaign.default_language])){for(locale in results=[],ref1=$scope.auto_enter_translation)ref1[locale]===existingValue?results.push(autoEntryForm().find("input[name$='[config1]']").val(desiredTranslation)):results.push(void 0);return results}},$scope.autoEnterChanged=function(){return $timeout(function(){return campaignService.campaign.auto_enter&&campaignService.campaign.login_first?addAutomaticEntry():autoEntryForm().find(".remove").click()})},autoEnter=function(){var em,len,n,ref1,results;if(campaignService.campaign.login_first&&campaignService.campaign.auto_enter){for(!0,results=[],n=0,len=(ref1=campaignService.entry_methods).length;n<len;n++)em=ref1[n],campaignService.canEnter(em)&&"custom_action"===em.entry_type&&!em.auth_for_details&&campaignService.enoughEntryDetails(em)&&campaignService.enoughUserDetails(em)?results.push(attemptEntry(em)):results.push(void 0);return results}},addAutomaticEntry=function(){return addTemplateForm($("#entry-methods"),$("#auto-enter-template"),"entry_method","campaign[entry_methods_attributes][0]",{insertFirst:!0,reuseExisting:!0}).then(function(){return autoEntryForm().find('[name$="[_destroy]"]').val("false"),updateDefaultAutoEnterText(),$timeout(function(){if(0<$('[name$="[mandatory]"]:checked').length)return $('[data-generated=AutoEnter] [name$="[mandatory]"][type=checkbox]').prop("checked",!0).trigger("update").closest("label").addClass("checked")})})},emailLogin=function(){return campaignService.contestantState.emailLogin=!0,focusFirstContestantInput()},focusFirstContestantInput=function(){return $timeout(function(){return $("form.contestant :input:visible:not(.ng-valid)").first().focus()},1)},hashed=function(entry_method){return $window.jsmd5([-campaignService.contestantState.contestant.id,entry_method.id,entry_method.entry_type,campaignService.campaign.key].join("-"))},$scope.facebookContestantLoginStatus=function(loginResponse,callback){if("connected"===loginResponse.status)return campaignService.contestantState.facebookAccessToken=loginResponse.authResponse.accessToken,FB.api("/me/permissions?fields=permission,status",function(response){if(campaignService.contestantState.facebookPermissions=facebookLoginService.parsePermissions(response),callback)return callback.call()})},$scope.cancelEntry=function(tracking,unexpandAction){var emId,entry_method,toEnter;return null==unexpandAction&&(unexpandAction=!0),unexpandAction&&unexpand(),$scope.screen=1,$scope.contestantStep=0,campaignService.contestantState.emailLogin=!1,campaignService.contestantState.otherLogins=null,campaignService.contestantState.pinterestValidatedUsername=null,(toEnter=campaignService.toEnter())&&(entry_method=toEnter,$scope.resetEntryDetails(entry_method),emId=entry_method.id,campaignService.entryState.files[emId]&&(campaignService.entryState.files[emId].$cancel(),campaignService.entryState.files[emId]=null)),$window.trackEvent(tracking)},$scope.requireOtherLogin=function(data,allowRecovery){return campaignService.contestantState.otherLogins=data,campaignService.contestantState.allowRecovery=allowRecovery,campaignService.contestantState.recoveryState=null,trackPageview($window.pageViewOverride+"/contestant/other-login"),$scope.scrollIntoView($("#other-logins"))},$scope.contestantStep=0,$scope.nextStepAvailable=function(){return $scope.contestantStep<campaignService.campaign.contestant_steps-1&&nextVisibleStepPresent()},isStepVisible=function(step){var field,group,key,ref1,ref2;for(key in group=campaignService.campaign.contestant_details_groups[step]){if("select"!==(ref1=(field=group[key]).type)&&"largeselect"!==ref1&&"separator"!==ref1)return!0;if("select"===(ref2=field.type)||"largeselect"===ref2){if(!field.dependent)return!0;if(field.options[campaignService.contestantState.form[field.dependent_form_name]])return!0}}return!1},nextVisibleStepPresent=function(){var step;for(step=$scope.contestantStep+1;step<campaignService.campaign.contestant_steps;){if(isStepVisible(step))return!0;step++}return!1},clearCurrentStepFields=function(){var key,results;for(key in results=[],campaignService.campaign.contestant_details_groups[$scope.contestantStep])results.push(delete campaignService.contestantState.form[key]);return results},$scope.currentStepIsVisible=function(){return isStepVisible($scope.contestantStep)},$scope.setNextStep=function(){var results;for($scope.contestantStep++,results=[];!$scope.currentStepIsVisible();)clearCurrentStepFields(),results.push($scope.contestantStep++);return results},$scope.initializeSelect=function(model,defaultValue,possibleValues){var value;return value=model||defaultValue,0<=indexOf.call(possibleValues,value)?model||defaultValue:null},$scope.dcOptions=function(name,dependent){var config,keyValues;return config=$scope.dc[name],keyValues=(dependent?$scope.dc[name].options[dependent]:$scope.dc[name].options).map(function(v,i){return{position:i,value:v,label:v}}),config.other_option&&keyValues.push({position:-1,value:"Other",label:config.other_option_text||"Other"}),keyValues},$scope.setContestant=function(){var contestant,dobStringISO,key,ref1,value;for(key in contestant={},ref1=campaignService.contestantState.form)"Other"===(value=ref1[key])&&key+"Other"in campaignService.contestantState.form&&(value=campaignService.contestantState.form[key+"Other"]),/Other$/.test(key)||(contestant[key]=value);return(dobStringISO=storedDobService.contestantFormDOB())&&(contestant.stored_dob=dobStringISO),campaignService.contestantState.sending=!0,campaignService.contestantState.unconfirmed=!1,$http.post("/set-contestant",{campaign_key:campaignService.campaign.key,contestant:contestant,additional_details:campaignService.campaign.additional_contestant_details}).then(function(response){var data;return data=response.data,campaignService.contestantState.sending=!1,data.error?(campaignService.contestantState.failedEmail=campaignService.contestantState.form.email,campaignService.contestantState.failedEmailKey=data.details.message_key,$scope.contestantStep=0,$(".expanded input[name=email]:visible").focus()):data.require_other_login?$scope.requireOtherLogin(data.require_other_login,data.allow_recovery):(setContestantSuccess(data.contestant),dobStringISO&&!campaignService.campaign.event_mode?storedDobService.set(dobStringISO):void 0)})["catch"](function(){return alert(t("generic_error")),campaignService.contestantState.sending=!1})},setContestantSuccess=function(contestant_data){return campaignService.updateContestant(contestant_data),campaignService.toEnter()?$scope.resumeEntry():autoEnter(),trackPageview($window.pageViewOverride+"/contestant/new"),$scope.loginPromise.resolve(),$scope.loginEvent()},$scope.contestantButtonTooltip=function(valid){return campaignService.contestantState.sending?t("tooltip_sending"):valid?null:t("tooltip_complete_details")},$scope.enterLinkClick=function(entry_method){return campaignService.isExpanded(entry_method)?(campaignService.setToEnter(null),unexpand()):(attemptEntry(entry_method),trackPageview($window.pageViewOverride+("/entry-details/"+entry_method.id+"/"+entry_method.entry_type).replace(/\/$/,"")))},$scope.enterTierLinkClick=function(entry_method,tier){return attemptTierEntry(entry_method,tier),trackPageview($window.pageViewOverride+("/entry-details/"+entry_method.id+"/"+entry_method.entry_type+"/"+tier.id+"/"+tier.entry_type).replace(/\/$/,""))},expireAuth=function(entry_method,provider){var authentication,len,n,ref1;if(null==provider&&(provider=null),entry_method.entering=!1,provider||(provider=entry_method.provider),campaignService.contestantState.contestant&&campaignService.contestantState.contestant.authentications)for(n=0,len=(ref1=campaignService.contestantState.contestant.authentications).length;n<len;n++)0===(authentication=ref1[n]).provider.indexOf(provider)&&(authentication.expired=!0);return openAuthentication(provider,entry_method)},$scope.showPopover=showPopover=function(entry_method,delay){return null==delay&&(delay=2e3),$scope.popoverElement($("#em"+entry_method.id).find(".tally").eq(0),delay)},$scope.showTierPopover=showTierPopover=function(tier,delay){return null==delay&&(delay=2e3),$scope.popoverElement($("#tier"+tier.id).find(".tally"),delay)},$scope.popoverElement=function(element,delay){return $timeout(function(){return element.trigger("mouseover")},0),element.data("popover-timeout")&&clearTimeout(element.data("popover-timeout")),element.data("popover-timeout",$timeout(function(){return element.trigger("mouseout")},delay))},$scope.showMessage=showMessage=function(entry_method,error,tier){return tier?(tier.error=error,showTierPopover(tier,5e3)):(entry_method.error=error,showPopover(entry_method,5e3)),!0},$scope.copySuccess=function(entry_method){var $button;return($button=$("#em"+entry_method.id).find(".copy")).tooltip({title:t("share_copied"),trigger:"manual",placement:"top"}).tooltip("show"),setTimeout(function(){return $button.tooltip("hide")},2e3)},$scope.allowAutoticking=function(){return campaignService.contestantState.allow_autoticking},$scope.copyFallback=function(text){return prompt("",text)},$scope.resetEntryDetails=function(entry_method,resetMedia){if(null==resetMedia&&(resetMedia=!0),campaignService.entryState.verifyStatus&&(campaignService.entryState.verifyStatus[entry_method.id]=null),campaignService.entryState.formData[entry_method.id]=null,campaignService.entryDetailsState[entry_method.id]=null,resetMedia&&(entry_method.media=null),entry_method.selected=null,resetMedia)return entry_method.mediaSource=null},$scope.enterPromise=$q.defer(),$scope.attemptEntry=attemptEntry=function(entry_method){var toEnter;return!campaignService.canEnter(entry_method)&&campaignService.isEntered(entry_method)&&entry_method.shows_content_after_entry?expand(entry_method,!1):null==entry_method.kill_switch_message||campaignService.isEntered(entry_method)?entry_method.entering||!campaignService.canEnter(entry_method)||campaignService.entryMethodCouponNotAvailable(entry_method)?$scope.hideEntryMethodAndShowPopover(entry_method):(campaignService.isExpanded(entry_method)||unexpand(),(null!=(toEnter=campaignService.toEnter())?toEnter.id:void 0)!==entry_method.id&&(toEnter&&($scope.enterPromise.reject(new Error("another entry is happening")),$scope.enterPromise=$q.defer()),campaignService.setToEnter(entry_method)),!entry_method.requires_authentication&&!campaignService.expiredAuthentication(entry_method.provider)||campaignService.isAuthenticated(entry_method)||campaignService.displayInformationRequired(entry_method,resumeAction)?campaignService.needMoreDetailsBeforeEntry(entry_method,resumeAction)?isTryingAMOE(entry_method)?withLogin(entry_method).then(function(){return entry_method.entering=!0,unexpand(),attemptEntryByPostSubmit(entry_method)}):requestDetails(entry_method):(entry_method.entering=!0,unexpand(),attemptEntryByPostSubmit(entry_method)):$scope.showAuthenticationNow(entry_method)):expand(entry_method,!1),$scope.$broadcast("entry-attempt",entry_method),$scope.updateEntryMethodView(entry_method),$scope.scrollIntoView($("#em"+entry_method.id)),$scope.enterPromise.promise},$scope.attemptTierEntry=attemptTierEntry=function(entry_method,tier){return tier.entering||campaignService.isTierLocked(tier)||campaignService.isTierEntered(entry_method,tier)?$scope.showTierPopover(tier):(campaignService.setToEnter(entry_method),campaignService.needMoreDetailsBeforeEntry(entry_method,resumeAction)?requestDetails(entry_method):(tier.entering=!0,attemptEntryByPostSubmit(entry_method,{tier:tier})),$scope.updateEntryMethodView(entry_method)),$scope.$broadcast("entry-attempt",entry_method),$scope.scrollIntoView($("#em"+entry_method.id))},$scope.loginPromise=$q.defer(),withLogin=function(){var ref1,ref2;return(null!=(ref1=$scope.contestantState)&&null!=(ref2=ref1.contestant)?ref2.id:void 0)?$q.resolve():(emailLogin(),$scope.loginPromise.promise)},isTryingAMOE=function(em){return!!AMOEService.formData[em.id]},$scope.AMOECaptchaResponse={},$scope.AMOECaptchaPassed=function(entry_method_id,response){return $scope.AMOECaptchaResponse[entry_method_id]=response},$scope.AMOECaptchaExpired=function(entry_method_id){return $scope.AMOECaptchaResponse[entry_method_id]=null},$scope.currentAMOEMethod={},$scope.isAMOEOpen=function(em){return $scope.currentAMOEMethod.id===em.id},$scope.closeAMOE=function(){return $scope.currentAMOEMethod={}},$scope.toggleAMOE=function(em){return $scope.currentAMOEMethod=$scope.currentAMOEMethod.id===em.id?{}:em},$scope.attemptAMOE=function(evt,entry_method_id){var closeToS;return $scope.enterPromise=$q.defer(),closeToS=function(em){return campaignService.campaign.showTermsAndConditions=!1,em},AMOEService.prepareAMOE(evt,entry_method_id,$scope.AMOECaptchaResponse[entry_method_id]).then(closeToS).then(attemptEntry.bind(null))["finally"](function(){return AMOEService.cleanup(entry_method_id)})},$scope.hideEntryMethodAndShowPopover=function(entry_method){return unexpand(),showPopover(entry_method,1e3)},$scope.showAuthenticationNow=function(entry_method){return unexpand(),openAuthentication(entry_method.provider,entry_method)},$scope.requireAuthentication=function(entry_method){return!((entry_method.requires_authentication||campaignService.expiredAuthentication(entry_method.provider))&&!campaignService.isAuthenticated(entry_method)&&!campaignService.displayInformationRequired(entry_method,resumeAction))||(openAuthentication(entry_method.provider,entry_method),!1)},unexpectedEnteringError=function(entry_method,tier,default_message){var error;return null==default_message&&(default_message="generic_error"),error=entry_method.config.errorMessage?entry_method.config.errorMessage(entry_method):t(entry_method.entry_type+"_error")?t(entry_method.entry_type+"_error"):t(default_message,{provider:entry_method.provider.toProperCase()}),showMessage(entry_method,error,tier),expand(entry_method)},attemptEntryByPostSubmit=function(entry_method,arg){var tier;return tier=(null!=arg?arg:{}).tier,fraudService.callback(function(){var cookie,hash,ref1,url;return(cookie=campaignService.getTrackingCookie("D",entry_method))&&entry_method.entry_type.match(/^(twitter|patreon_visit)/)&&("TWEET"===cookie||"FOLLOW"===cookie||"null"===cookie||"V"===cookie)&&campaignService.removeTrackingCookie("D",entry_method),(hash={details:campaignService.getTrackingCookie("D",entry_method)||campaignService.entryDetailsState[entry_method.id],l:parentUrl(),h:hashed(entry_method),f:fraudService.hashedFraud(),grecaptcha_response:isTryingAMOE?(null!=(ref1=AMOEService.formData[entry_method.id])?ref1.grecaptcha_response:void 0)||$scope.challenge.userResponse:void 0,amoe:AMOEService.formData[entry_method.id]}).dbg=campaignService.entryDetailsState,hash.frm=campaignService.entryState.formData,hash.emid=entry_method.id,
url="/enter/"+campaignService.campaign.key+"/"+entry_method.id,tier&&(url+="/"+tier.id),$http.post(url,hash).then(function(response){return checkSuccessfulEntry(campaignService.campaign,response.data,entry_method,tier)})["catch"](function(response){return $scope.enterPromise.reject(response),entry_method.entering=!1,tier&&(tier.entering=!1),unexpectedEnteringError(entry_method,tier)})})},getUsername=function(entry_method){var ref1,ref2,ref3;return entry_method.provider.match(/^twitter/)?(null!=(ref1=campaignService.getAuthentication(entry_method.provider))?ref1.reference:void 0)||(null!=(ref2=campaignService.entryState.formData[entry_method.id])?ref2.twitter_username:void 0):null!=(ref3=campaignService.getAuthentication(entry_method.provider))?ref3.reference:void 0},checkSuccessfulEntry=function(campaign,data,entry_method,tier){var messageKey;if(entry_method.entering=!1,entry_method.error=null,tier&&(tier.entering=!1,tier.error=null),!data.error)return entryCompleteWithoutError(data,entry_method,tier);switch($scope.enterPromise.reject(data.error),data.error){case"error_auth_expired":return entry_method.config&&entry_method.config.resetBeforeAuth&&thirdChoiceReset(entry_method),expireAuth(entry_method);case"error_unique_value":return thirdChoiceReset(entry_method),entry_method.not_unique_error=!0,attemptEntry(entry_method),showMessage(entry_method,t("not_unique_error"),tier);case"error_limit_reached":return entry_method.limit=data.limit,showMessage(entry_method,t("tooltip_entry_limit_hit",{count:data.limit}),tier);case"error_previously_entered":return showMessage(entry_method,t("previously_entered_entry"),tier);case"error_upload_failed":return thirdChoiceReset(entry_method),attemptEntry(entry_method),showMessage(entry_method,t("upload_error"),tier);case"error_not_found":return showMessage(entry_method,t("not_found_error"),tier);case"error_twitter_not_found":return showMessage(entry_method,t("twitter_not_found_error"),tier);case"error_submission_not_found":return campaignService.entryDetailsState[entry_method.id]=null,showMessage(entry_method,t("submission_not_found_error")),campaignService.removeTrackingCookie("D",entry_method),$scope.updateEntryMethodView(entry_method),expand(entry_method),$scope.triggerVisit(entry_method,!1);case"error_too_long":return campaignService.entryDetailsState[entry_method.id]=null,showMessage(entry_method,t("too_long_error"),tier),entry_method.entering=!0,null!=entry_method.too_long_timeout&&clearTimeout(entry_method.too_long_timeout),entry_method.too_long_timeout=setTimeout(function(){return attemptEntryByPostSubmit(entry_method)},5e3);case"error_invalid_username":return campaignService.entryDetailsState[entry_method.id]=null,showMessage(entry_method,t("not_found_error"),tier),$scope.updateEntryMethodView(entry_method),expand(entry_method);case"error_no_profile":return showMessage(entry_method,t("no_steam_profile_error"),tier);case"error_api_denied":return entry_method.api_denied=!0,$scope.updateEntryMethodView(entry_method),requestDetails(entry_method);case"error_action_forbidden":if(entry_method.api_denied=!0,(""+data.message).match(/(cannot perform write actions|is over daily status update limit)/)?showMessage(entry_method,t("tooltip_twitter_use_button"),tier):showMessage(entry_method,t("rejected_error",{provider:entry_method.provider.toProperCase(),message:data.message||t("rejected_error_default")}),tier),entry_method.api_fallback)return $scope.updateEntryMethodView(entry_method),requestDetails(entry_method);break;case"error_google_plus":return entry_method.api_denied=!0,showMessage(entry_method,t("google_plus_error"),tier),$scope.updateEntryMethodView(entry_method),expand(entry_method);case"error_privacy":return showMessage(entry_method,t(data.message),tier),$scope.updateEntryMethodView(entry_method),expand(entry_method);case"error_action_not_completed":return"twitchtv_follow"===entry_method.entry_type?(showMessage(entry_method,t("generic_error"),tier),$scope.updateEntryMethodView(entry_method)):("twitchtv_subscribe"===entry_method.entry_type?campaignService.entryState.formData[entry_method.id]=!1:"youtube_subscribe"===entry_method.entry_type&&campaignService.isAuthenticated(entry_method)?showMessage(entry_method,t("youtube_delayed_error"),tier):(messageKey=function(){switch(entry_method.entry_type){case"twitter_retweet":return"action_not_completed_twitter_retweet";case"twitter_tweet":return"action_not_completed_twitter_tweet";case"twitter_follow":return"action_not_completed_twitter_follow";case"discord_join_server":return"action_not_completed_discord_join_server";case"eventbrite_attend_event":return"action_not_completed_eventbrite_attend_event";default:return"action_not_completed_error"}}(),showMessage(entry_method,t(messageKey,{username:getUsername(entry_method)}),tier)),$scope.updateEntryMethodView(entry_method),expand(entry_method));case"error_steam_community":return entry_method.api_denied=!0,showMessage(entry_method,t("steam_community_error"),tier),$scope.updateEntryMethodView(entry_method),expand(entry_method);case"error_custom_message":return showMessage(entry_method,data.message,tier),$scope.updateEntryMethodView(entry_method),expand(entry_method);case"error_steam_games_privacy":return entry_method.api_denied=!0,showMessage(entry_method,t("steam_play_game_error"),tier),entry_method.steam_profile_link=data.message,$scope.showExtra(entry_method),$scope.updateEntryMethodView(entry_method),expand(entry_method);case"error_twitter_duplicated":return entry_method.api_denied=!0,showMessage(entry_method,t("twitter_duplicated_error"),tier),$scope.updateEntryMethodView(entry_method),expand(entry_method);case"error_throwaway_account":return showMessage(entry_method,t(data.message),tier);case"not_logged_in":return showMessage(entry_method,t("logged_in_error"),tier),$window.location.reload();case"error_twitchtv_self_subscribe":return showMessage(entry_method,t("twitchtv_self_subscribe_error"),tier),$scope.updateEntryMethodView(entry_method);case"error_twitchtv_max_follow":return showMessage(entry_method,t("twitchtv_max_follow_error"),tier),$scope.updateEntryMethodView(entry_method);default:return thirdChoiceReset(entry_method),t(data.error)?showMessage(entry_method,t(data.error),tier):unexpectedEnteringError(entry_method,tier,"third_party_error")}},entryCompleteWithoutError=function(data,entry_method,tier){var actionCookie,actions,base,index,key,name1;return(base=campaignService.contestantState.contestant.entered)[name1=entry_method.id]||(base[name1]=[]),actionCookie=Cookies.get("A-"+campaignService.campaign.key),entry_method.config.actionKey&&actionCookie&&(key=entry_method.config.actionKey(entry_method),-1<(index=(actions=(actionCookie||"").split(/,/)).indexOf(key))&&(actions.splice(index,1),Cookies.set("A-"+campaignService.campaign.key,actions.join(","),{expires:14}))),$scope.handleSpecialCasesForEntry(data,entry_method,tier)||(campaignService.checkAlreadyEntered(entry_method,data.existing_at)||($scope.markAsEntered(entry_method,data.existing_at,data.worth,tier),tier?showTierPopover(tier):showPopover(entry_method)),$scope.alertOnIntervalSeconds(entry_method,data)),$scope.handleClaimsAfterEntry(data),$window.trackEvent(appName+" Enter|"+entry_method.entry_type.replace(/_/,"|")),$scope.autoExpandLastShareAction(),1===campaignService.timesEntered(entry_method)&&postEntryRedirect(),(1===entry_method.interval_seconds||entry_method.shows_content_after_entry)&&(entry_method.justEntered=!0,expand(entry_method),setTimeout(function(){return $scope.$apply(function(){return entry_method.justEntered=!1})},2e3)),$scope.enterPromise.resolve(entry_method)},$scope.alertOnIntervalSeconds=function(entry_method,data){return 0===entry_method.interval_seconds||0===data.interval_seconds||300<data.difference?(alert(t("already_entered_error")),$window.location.reload()):alert(t("clock_sync_error",{seconds:data.difference}))},$scope.handleSpecialCasesForEntry=function(data,entry_method,tier){var entries,len,n,ref1,tierId,tiers;if(data.ended)campaignService.campaign.finished=!0,campaignService.isReward()?showMessage(entry_method,t("just_missed_error",{reward_description:rewardTypeDescription()})):showMessage(entry_method,t("promotion_ended_error"));else if(data.cheater||data.contestant_ban)showMessage(entry_method,t("cheater_error"));else if(data.ip_ban||data.dodgy_share||data.bounced_email)campaignService.contestantState.demandAuth=!0;else if(data.reward_limit_error)showMessage(entry_method,t("reward_limit_error"));else if(data.bad_location)showMessage(entry_method,t("bad_location_error"));else if(data.hash_error)$window.location.reload();else if(data.require_social_login)alert(t("logged_in_error")),$window.location.reload();else if(data.require_campaign_refresh)$window.location.reload();else if(data.error_challenge_failed)$scope.challenge.userResponse=null,$scope.challenge.demand=!0,$window.grecapcha&&$window.grecapcha.reset(),$scope.updateEntryMethodView(entry_method);else{if(!data["new"]&&!data.new_but_in_list)return!1;if(callbackService.sendEntered({entryMethod:entry_method,campaign:campaignService.campaign}),data["new"]&&(trackingPixelService.trackAction(entry_method,campaignService.campaign.tracking_pixels,0===campaignService.contestantEntries()),$window.conversionTracking))for(n=0,len=(ref1=$window.conversionTracking).length;n<len;n++)ref1[n].call(null,entry_method,0===campaignService.contestantEntries());tier?(entries=campaignService.contestantState.contestant.entered[entry_method.id],tierId=tier.id.toString(),0===entries.length?((tiers={})[tierId]=data.worth,entries.push({t:data["new"],w:data.worth,c:1,ts:tiers})):entries[0].ts[tierId]=data.worth,showTierPopover(tier)):(campaignService.contestantState.contestant.entered[entry_method.id].push({t:data["new"],w:data.worth,c:1,ts:[]}),showPopover(entry_method)),campaignService.removeTrackingCookie("D",entry_method),$scope.resetEntryDetails(entry_method,!1)}return!0},$scope.handleClaimsAfterEntry=function(data){var claim_data,claimable,claimable_id,claims,ref1,results;if(data.claims){for(claimable in results=[],ref1=data.claims)claims=ref1[claimable],results.push(function(){var base,results1;for(claimable_id in results1=[],claims)claim_data=claims[claimable_id],(base=campaignService.contestantState.contestant.claims[claimable])[claimable_id]||(base[claimable_id]=[]),campaignService.contestantState.contestant.claims[claimable][claimable_id].push(claim_data[0]),"Redirect"===campaignService.incentive.data_type?results1.push(setTimeout(function(){return $window.parent?$window.parent.location.href=claim_data[0]:$window.location.href=claim_data[0]},1e3)):results1.push(void 0);return results1}());return results}},$scope.tallyIcon=function(entry_method){return campaignService.isExpanded(entry_method)?"fas fa-chevron-down":entry_method.entering?"fas fa-sync fa-spin":0!==entry_method.interval_seconds&&campaignService.hasTimeToEnterAgain(entry_method)||campaignService.canEnter(entry_method)||!campaignService.isEntered(entry_method)?0<entry_method.interval_seconds&&!campaignService.canEnter(entry_method)&&campaignService.isEntered(entry_method)?campaignService.entryMethodLimitHit(entry_method)?"fas fa-check":"far fa-clock":campaignService.canEnter(entry_method)||campaignService.isEntered(entry_method)?null!=entry_method.coupon?campaignService.entryMethodCouponClaimed(entry_method)?"fas fa-unlock":"":campaignService.isReward()?"fas fa-question":"":"fas fa-lock":"fas fa-check"},$scope.tallyTierIcon=function(entry_method,tier){return tier.error?"fas fa-exclamation-triangle":tier.entering?"fas fa-sync fa-spin":campaignService.isTierEntered(entry_method,tier)?"fas fa-check":campaignService.isTierLocked(tier)?"fas fa-lock":""},$scope.showTwitterExtra=function(entry_method){return $scope.showExtra(entry_method),setTimeout(function(){return $("#em"+entry_method.id+"Details").focus()},150)},$scope.showExtra=function(entry_method){return entry_method.show_extra=!0},$scope.hideExtra=function(entry_method){return entry_method.show_extra=!1},$scope.verifiedValueChanged=function(entry_method){var base,base1,name1,value;if(value=campaignService.entryState.formData[entry_method.id]+"",entry_method.entry_type.match(/youtube_video|pinterest_choose_board/)||(value=value.toUpperCase()),value&&(entry_method.config6&&entry_method.must_verify&&value.match(new RegExp(entry_method.config6))||entry_method.entry_type.match(/youtube_video|pinterest_choose_board|custom_action/))&&((base=campaignService.entryState).verifyStatus||(base.verifyStatus={}),(base1=campaignService.entryState.verifyStatus)[name1=entry_method.id]||(base1[name1]={}),!campaignService.entryState.verifyStatus[entry_method.id][value]))return campaignService.entryState.verifyStatus[entry_method.id][value]="checking",verifyValueService.check(value,entry_method,{success:function(status){if(null!==campaignService.entryState.verifyStatus[entry_method.id])return campaignService.entryState.verifyStatus[entry_method.id][value]=status},error:function(){return alert(t("generic_error"))}})},$scope.tallyText=function(entry_method){var len,n,ref1,show_entries_number_types,v;if(show_entries_number_types=["share_action","facebook_media","instagram_choose","twitter_media","upload_action","media_action"],0<=$.inArray(entry_method.entry_type,show_entries_number_types)&&campaignService.contestantState.contestant.entered[entry_method.id]&&entry_method.interval_seconds<=1){for(n=v=0,len=(ref1=campaignService.contestantState.contestant.entered[entry_method.id]).length;n<len;n++)v+=ref1[n].w;return $filter("kShorten")(v,t("thousand_suffix"))}return null!=entry_method.coupon?(v=campaignService.entryMethodCouponPaused(entry_method)?0:entry_method.coupon.claims_available,$filter("kShorten")(v,t("thousand_suffix"))):entry_method.variable_worth?"+"+$scope.unearnedTierEntryCount(entry_method):t("worth",{count:$filter("kShorten")(entry_method.worth,t("thousand_suffix"))})},$scope.unearnedTierEntryCount=function(entry_method){var count,len,n,ref1,tier;for(n=count=0,len=(ref1=entry_method.tiers).length;n<len;n++)tier=ref1[n],campaignService.isTierEntered(entry_method,tier)||(count+=tier.worth);return count},$scope.hideTallyNumber=function(entry_method){var ref1,ref2;return!!campaignService.isExpanded(entry_method)||(null!=entry_method.coupon?!campaignService.canEnter(entry_method)||0<(null!=(ref1=entry_method.coupon)&&null!=(ref2=ref1.data)?ref2.length:void 0):campaignService.isReward()||entry_method.entering||!campaignService.canEnter(entry_method))},timeDifference=function(time,now){var days,hours,minutes,seconds;return days=Math.floor((time-now)/864e5),hours=Math.floor((time-now)/36e5),minutes=Math.floor((time-now)/6e4),seconds=Math.floor((time-now)/1e3),2<=days?days+" "+t("days"):2<=hours?hours+" "+t("hours"):2<=minutes?minutes+" "+t("minutes"):seconds+" "+pl(seconds,"second","seconds")},$scope.hideTally=function(entry_method){return!entry_method.entering&&!campaignService.isExpanded(entry_method)&&null==entry_method.coupon&&(campaignService.canEnter(entry_method)&&campaignService.isReward()&&campaignService.bestCouponCode())},$scope.tallyTierTooltip=function(entry_method,tier){var actual,number_required;return tier.error?tier.error:tier.entering?t("tooltip_entering"):campaignService.isTierEntered(entry_method,tier)?pl(campaignService.awardedTierValue(entry_method,tier),"tooltip_done_singular","tooltip_done_plural"):campaignService.isTierLocked(tier)?(actual=campaignService.contestantState.contestant.tier_data?campaignService.contestantState.contestant.tier_data[tier.entry_type]:0,number_required=tier.requirement-actual,pl(number_required,"tooltip_tier_locked_"+tier.entry_type+"_singular","tooltip_tier_locked_"+tier.entry_type+"_plural")):pl(tier.worth,"tooltip_worth_singular","tooltip_worth_plural")},$scope.tallyTooltip=function(entry_method){var diff;return $scope.hideTally(entry_method)?"":entry_method.error?entry_method.error:campaignService.canEnter(entry_method)?entry_method.entering?t("tooltip_entering"):campaignService.isExpanded(entry_method)?(entry_method.entry_type.match(/youtube_watch|vimeo_watch|wistia_watch/)&&t("tooltip_watch_video"),"share_action"===entry_method.entry_type?showViralShareTooltip(entry_method):entry_method.justEntered&&1===entry_method.interval_seconds?t("tooltip_enter_again_now"):t("tooltip_enter_details")):entry_method.variable_worth?pl($scope.unearnedTierEntryCount(entry_method),"tooltip_worth_singular","tooltip_variable_worth_entries_plural"):"share_action"===entry_method.entry_type?showViralShareTooltip(entry_method):"coupon_action"===entry_method.entry_type?null!=entry_method.coupon.data?"":t("tooltip_optional_action"):campaignService.isReward()?0===campaignService.contestantEntries()?pl(campaignService.actionsStillNeededToUnlockReward(),"tooltip_undone_entries_to_unlock_singular","tooltip_undone_entries_to_unlock_plural",{reward_type:rewardTypeDescription()}):pl(campaignService.actionsStillNeededToUnlockReward(),"tooltip_undone_more_entries_to_unlock_singular","tooltip_undone_more_entries_to_unlock_plural",{reward_type:rewardTypeDescription()}):3600===entry_method.interval_seconds?pl(entry_method.worth,"tooltip_enter_each_hour_singular","tooltip_enter_each_hour_plural"):86400===entry_method.interval_seconds?pl(entry_method.worth,"tooltip_enter_each_day_singular","tooltip_enter_each_day_plural"):604800===entry_method.interval_seconds?pl(entry_method.worth,"tooltip_enter_each_week_singular","tooltip_enter_each_week_plural"):0<campaignService.currentEntries(entry_method)?pl(campaignService.currentEntries(entry_method),"tooltip_done_singular","tooltip_done_plural"):pl(entry_method.worth,"tooltip_worth_singular","tooltip_worth_plural"):campaignService.hasUndoneEntriesToUnlock(entry_method)?(diff=entry_method.actions_required-campaignService.totalUniqueActionsCompleted(),pl(diff,"tooltip_more_entries_for_entry_singular","tooltip_more_entries_for_entry_plural")):campaignService.entryMethodLimitHit(entry_method)?t("tooltip_entry_limit_hit",{count:entry_method.limit}):campaignService.hasTimeToEnterAgain(entry_method)?(diff=timeDifference((new Date).getTime()+campaignService.nextEntryMilliseconds(entry_method),(new Date).getTime()),t("tooltip_enter_again_in",{delay:diff})):campaignService.isReward()?campaignService.bestCouponCode()?campaignService.displayCouponCode()?t("tooltip_see_reward",{reward_type:rewardTypeDescription()}):t("tooltip_email_reward",{reward_type:rewardTypeDescription()}):pl(campaignService.actionsStillNeededToUnlockReward(),"tooltip_more_entries_to_unlock_singular","tooltip_more_entries_to_unlock_plural",{reward_type:rewardTypeDescription()}):entry_method.double_opt_in?pl(campaignService.currentEntries(entry_method),"tooltip_double_opt_in_singular","tooltip_double_opt_in_plural"):pl(campaignService.currentEntries(entry_method),"tooltip_done_singular","tooltip_done_plural")},showViralShareTooltip=function(entry_method){var shares_required;return 0===entry_method.limit?campaignService.isReward()?t("tooltip_share_for_action"):t("tooltip_share_for_entries"):(shares_required=campaignService.entryMethodEntriesRequiredToHitLimit(entry_method),campaignService.isReward()?pl(shares_required,"tooltip_share_for_action_singular","tooltip_share_for_action_plural"):pl(shares_required,"tooltip_share_for_entries_singular","tooltip_share_for_entries_plural"))},$scope.confirmAction=confirmAction=function(entry_method,detail_value){return campaignService.entryDetailsState[entry_method.id]=detail_value,campaignService.setTrackingCookie("D",entry_method,detail_value,7),$scope.updateEntryMethodView(entry_method),attemptEntry(entry_method)},$scope.handleFacebookSubscribe=function(ref){var entryMethodId;return entryMethodId=parseInt(ref.replace(/^em/,"")),campaignService.entryDetailsState[entryMethodId]="D",campaignService.setTrackingCookie("D",campaignService.getEntryMethod(entryMethodId),"D",1),$scope.$apply()},$scope.handleLike=function(url){var entry_method,len,n,noSlash,ref1,results;if(noSlash=url.replace(/\/$/,""),campaignService.campaign.facebook_url&&campaignService.campaign.facebook_url===noSlash&&0<$("[data-campaign-facebook]:visible").length)return eventService.createLikeEvent(campaignService.campaign.key,"Facebook Like (via user details)",url),campaignService.campaign.liked=!0;if(!campaignService.entryState.expanded||campaignService.entryState.expanded.config1.replace(/\/$/,"")!==noSlash&&campaignService.entryState.expanded.config3.replace(/\/$/,"")!==noSlash){for(results=[],n=0,len=(ref1=campaignService.entry_methods).length;n<len;n++)(entry_method=ref1[n]).config1.replace(/\/$/,"")===noSlash?results.push(acceptLike(entry_method,noSlash)):results.push(void 0);return results}return acceptLike(campaignService.entryState.expanded,noSlash)},acceptLike=function(entry_method,url){return"facebook_enter"===entry_method.entry_type?(eventService.createLikeEvent(campaignService.campaign.key,entry_method.config3+" Facebook Like (via enter action)",url),$scope.$apply(function(){return confirmAction(entry_method,"LIKED")})):(eventService.createLikeEvent(campaignService.campaign.key,entry_method.config2+" Facebook Like (via visit action)",url),$scope.saveEntryDetails(entry_method))},$scope.customActionText=function(entry_method){var split;return split=entry_method.config1.split("//"),campaignService.isEntered(entry_method)?split[split.length-1]:split[0]},$scope.handleSoundCloudRepost=function(entry_method){return $scope.$apply(function(){return confirmAction(entry_method,"REPOST")})},$scope.handlePlusOne=function(entry_method){return $scope.$apply(function(){return"googleplus_plusone"===entry_method.entry_type?confirmAction(entry_method,"+1"):(eventService.createEvent(campaignService.campaign.key,"Google+ +1","+1 "+entry_method.config2+" on Google+",entry_method.config1),$scope.saveEntryDetails(entry_method))})},$scope.rewardTypeDescription=rewardTypeDescription=function(){return t("reward_description_"+campaignService.incentive.data_type.toLowerCase())},$scope.resumeEntry=resumeEntry=function(entry_method){var toEnter;return null==entry_method&&(entry_method=null),resumeAction=!0,entry_method&&campaignService.setToEnter(entry_method),(toEnter=campaignService.toEnter())&&attemptEntry(toEnter),resumeAction=!1},propagatePinterestUsername=function(entry_method){var auth;if(entry_method.entry_type.match(/pinterest(_pin|_follow)/)&&(auth=campaignService.getAuthentication("pinterest")))return campaignService.entryState.formData[entry_method.id]=auth.reference},propogateTwitterUsername=function(entry_method){var len,n,other_em,ref1,results;if(entry_method.entry_type.match(/twitter_/)&&campaignService.entryState.formData[entry_method.id]&&campaignService.entryState.formData[entry_method.id].twitter_username){for(results=[],n=0,len=(ref1=campaignService.entry_methods).length;n<len;n++)(other_em=ref1[n]).config.acceptsTwitterUsername?results.push(campaignService.entryState.formData[other_em.id]=campaignService.entryState.formData[entry_method.id]):results.push(void 0);return results}},$scope.moveToScreen=function(screen){return $scope.screen=screen},$scope.saveEntryDetails=function(entry_method,resume){var name,ref1,strs;if(null==resume&&(resume=!0),!campaignService.continueDisabled(entry_method)){if("custom_action"===entry_method.entry_type&&"None"===entry_method.method_type||entry_method.entry_type.match(/(pinterest|facebook)_enter/)||entry_method.timePassed&&0<parseInt(entry_method.timer_action))campaignService.entryDetailsState[entry_method.id]="Done";else{if("multiple_choice"===entry_method.template){for(name in strs=[],ref1=campaignService.entryState.formData[entry_method.id])ref1[name]&&strs.push(name);campaignService.entryDetailsState[entry_method.id]=strs.join("\n")}else campaignService.entryDetailsState[entry_method.id]=campaignService.entryState.formData[entry_method.id];propagatePinterestUsername(entry_method),propogateTwitterUsername(entry_method)}if(resume)return $scope.resumeEntry()}},$scope.inputDimensions=function(entry_method){var s;return"width: "+(s=entry_method.config3.split(/x/))[0]+"px; height: "+Math.min(30,parseInt(s[1]))+"px;"},$scope.toggleTermsAndConditions=function(){return campaignService.campaign.showTermsAndConditions=!campaignService.campaign.showTermsAndConditions},$scope.campaignType=function(){return t("campaign_type_"+campaignService.campaign.campaign_type.toLowerCase())},$scope.entryMethodIconColor=function(entry_method){var background;return!(background=campaignService.entryMethodColor(entry_method))&&entry_method.provider.match(/^snapchat/)?$filter("visibleTextColor")("#FFFC00"):$filter("visibleTextColor")(background)},$scope.entryMethodIcon=function(entry_method){return"custom_action"===entry_method.entry_type?entry_method.config4&&!entry_method.config2?entry_method.normal_icon||"far fa-edit":entry_method.unlocked_icon!==entry_method.normal_icon&&campaignService.enoughEntryDetails(entry_method)&&(campaignService.canEnter(entry_method)||campaignService.isEntered(entry_method))?entry_method.unlocked_icon||"fas fa-unlock":entry_method.normal_icon||"fas fa-lock":entry_method.normal_icon},$scope.pinterestInit=function(){if(window.pinterestInit)return setTimeout(function(){return window.pinterestInit()},100)},$scope.initSoundcloudTrack=function(){if(window.initSoundcloudTrack)return $timeout(function(){return window.initSoundcloudTrack()},100)},$scope.parseJson=function(json){return JSON.parse(json)},$scope.parseURL=function(url){var a;return(a=document.createElement("a")).href=url,{protocol:a.protocol,hostname:a.hostname,port:a.port,pathname:a.pathname,search:a.search,hash:a.hash,host:a.host}},$scope.validatePinterestUsername=function(entry_method,username){return unexpand(entry_method),entry_method.entering=!0,pinterestService.validateUsername(username,{valid:function(){return campaignService.contestantState.pinterestValidatedUsername=username,entry_method.entering=!1,expand(entry_method),$scope.pinterestInit(),$scope.$apply()},error:function(){return entry_method.entering=!1,expand(entry_method),showMessage(entry_method,t("pinterest_invalid_username"))}})},$scope.pinterestLogin=function(entry_method,username){var authUrl,len,n,providerName,providerPath,ref1;for(providerPath="pinterest",n=0,len=(ref1=campaignService.campaign.all_possible_login_providers).length;n<len;n++)0===(providerName=ref1[n]).indexOf("pinterest")&&(providerPath=providerName);return authUrl=location.protocol+"//"+location.host+"/auth/"+providerPath+"/callback?reference="+username,unexpand(entry_method),$window.open(authUrl,gleamAuthWindowName,"width=780,height=410,toolbar=0,scrollbars=0,status=0,resizable=0,location=0,menuBar=0,left=10,top=10"),!0},$scope.login=function(contestant,newContestantFlag){return campaignService.updateContestant(JSON.parse(contestant)),campaignService.contestantState.form.email=campaignService.contestantState.contestant.email,campaignService.contestantState.form.name=campaignService.contestantState.contestant.name,campaignService.contestantState.form.firstname=campaignService.contestantState.contestant.firstname,campaignService.contestantState.form.lastname=campaignService.contestantState.contestant.lastname,campaignService.contestantState.form.competition_subscription=campaignService.contestantState.contestant.competition_subscription,storedDobService.applyStoredDOB(),campaignService.contestantState.contestant._app_session&&Cookies.set("_app_session",campaignService.contestantState.contestant._app_session),campaignService.campaign.key!==campaignService.contestantState.contestant.auth_key?$timeout(function(){return $window.location.reload()},1):campaignService.contestantState.otherLogins=null,newContestantFlag&&(trackPageview($window.pageViewOverride+"/contestant/new"),campaignService.contestantState.unconfirmed=!0),initTwitterUsernameFallback(),$scope.resumeEntry(),$scope.$apply(),focusFirstContestantInput(),campaignService.campaign.additional_contestant_details?$http.get("/"+campaignService.campaign.key+"/completed-details").then(function(response){if("true"===response.data)return campaignService.contestantState.contestant.completed_details=!0,resumeEntry(),autoEnter()}):autoEnter(),$scope.loginEvent()},$scope.loginEvent=function(){return $window.parent.postMessage(appName+"Login"+campaignService.campaign.key,"*")},$scope.tallyType=function(){return t(campaignService.isReward()?"actions":"entries")},$scope.mustOptIn=function(entry_method){var ref1;return $scope.showOptIn(entry_method)&&(null!=(ref1=entry_method.config)&&"function"==typeof ref1.continueDisabled?ref1.continueDisabled(entry_method):void 0)},$scope.showOptIn=function(entry_method){var ref1;return null!=(ref1=entry_method.config)&&"function"==typeof ref1.showOptIn?ref1.showOptIn(entry_method):void 0},$scope.nonMandatoryEntriesCount=function(){var entries,entry_method,len,n,ref1;for(n=entries=0,len=(ref1=campaignService.entry_methods).length;n<len;n++)(entry_method=ref1[n]).mandatory||(entries+=entry_method.worth);return entries},fileDone=function(event,obj){var $form,base,captionInput,contentType,entry_method,key,name1;if(entry_method=obj.scope.entry_method,key=($form=$(event.target)).find('input[name="key"]').val(),contentType=$form.find('input[name="Content-Type"]').val(),(base=campaignService.entryState.formData)[name1=entry_method.id]||(base[name1]={}),campaignService.entryState.formData[entry_method.id].file_type=contentType,campaignService.entryState.formData[entry_method.id].url=key,campaignService.entryState.formData[entry_method.id].provider="upload","1"===entry_method.config5){if(0<(captionInput=$form.find("textarea")).length)return captionInput.last().focus()}else if(!$scope.isImage(key))return $scope.saveEntryDetails(entry_method)},$scope.isImage=function(url){return/.+(jpeg|jpg|gif|png|bmp)$/i.test(url)},$scope.uploadOptions={dataType:"xml",always:function(event,obj){return obj.errorThrown&&"TypeError"!==obj.errorThrown.name||"error"===obj.textStatus||fileDone.call(this,event,obj),obj.scope.entry_method.uploading=!1},add:function(event,obj){var $form,contentType,entryMethod,file,filename,match,megLimit,size,submit,upload_data;return(entryMethod=obj.scope.entry_method).uploading=!0,file=obj.files[0],submit=function(){return obj.submit()},angular.forEach(obj.files,function(file,index){return file._index=index,file.$state=function(){return obj.state()},file.$progress=function(){return obj.progress()},file.$response=function(){return obj.response()}}),file.$cancel=function(){return obj.scope.clear(obj.files),obj.abort()},"rejected"===file.$state()?file._$submit=submit:file.$submit=submit,$form=$(event.target),contentType=file.type,size=file.size,megLimit="media_action"===entryMethod.entry_type?150:entryMethod.config4||10,filename=file.name,campaignService.entryState.errors[entryMethod.id]=[],$("#em"+entryMethod.id+" [data-file-upload-progress]").scope().num=0,(entryMethod.config2||"media_action"===entryMethod.entry_type)&&((match=filename.match(/\.([a-z0-9]+)$/i))&&-1!==entryMethod.allowed_file_extensions.indexOf(match[1].toUpperCase())||campaignService.entryState.errors[entryMethod.id].push(t("upload_filetype_error",{formats:entryMethod.allowed_file_extensions.join(", ")}))),size&&1048576*megLimit<size&&campaignService.entryState.errors[entryMethod.id].push(t("upload_size_error",{megabytes:megLimit})),0===size&&campaignService.entryState.errors[entryMethod.id].push(t("upload_size_zero")),0===campaignService.entryState.errors[entryMethod.id].length?(campaignService.entryState.files[parseInt(entryMethod.id)]=file,upload_data={title:filename,content_type:contentType,size:size,entry_method_id:entryMethod.id},$.ajax({url:"/signed_urls",type:"POST",data:upload_data,success:function(response){return $form.find("input[name=key]").val(response.key),$form.find("input[name=policy]").val(response.policy),$form.find("input[name=signature]").val(response.signature),$form.find('input[name="Content-Type"]').val(response.content_type),obj.process().done(function(){return obj.scope.queue.push(file),obj.submit()["catch"](function(){return alert("Network error occurred uploading a file")})})},error:function(){return alert("An unexpected error occurred uploading a file"),entryMethod.uploading=!1}})):entryMethod.uploading=!1,$scope.$apply()}},$scope.mediaChoice=function(entry_method,media){return entry_method.selected=media},$scope.imageChoice=function(entry_method,src){var base,count,elementIndex,max,name1;return entry_method.workflow&&/^ChooseUpTo\d+$/.test(entry_method.workflow)?(max=parseInt(/ChooseUpTo(\d+)/.exec(entry_method.workflow)[1]),(base=campaignService.choiceState)[name1=entry_method.id]||(base[name1]=[]),-1===(elementIndex=campaignService.choiceState[entry_method.id].indexOf(src))?campaignService.choiceState[entry_method.id].push(src
):campaignService.choiceState[entry_method.id].splice(elementIndex,1),count=campaignService.choiceState[entry_method.id].length,campaignService.choiceState[entry_method.id]=campaignService.choiceState[entry_method.id].slice(Math.max(0,count-max),max+1)):campaignService.choiceState[entry_method.id]=src},$scope.nextImage=function(entry_method){var c,position;return c=campaignService.choices(entry_method),(position=$.inArray(campaignService.choiceState[entry_method.id],c))===c.length-1?campaignService.choiceState[entry_method.id]=c[0]:campaignService.choiceState[entry_method.id]=c[position+1]},$scope.prevImage=function(entry_method){var c,position;return c=campaignService.choices(entry_method),position=$.inArray(campaignService.choiceState[entry_method.id],c),campaignService.choiceState[entry_method.id]=0===position?c[c.length-1]:c[position-1]},$scope.initChoice=function(entry_method){if(entry_method.config_toggle)return campaignService.choiceState[entry_method.id]=campaignService.choices(entry_method)[0]},$scope.mediaChoiceContinue=function(entry_method){var media;return media=entry_method.selected,campaignService.entryDetailsState[entry_method.id]=media,$scope.updateEntryMethodView(entry_method),attemptEntry(entry_method)},thirdChoiceReset=function(entry_method){return("upload_action"===entry_method.entry_type||"media_action"===entry_method.entry_type&&"upload"===entry_method.mediaSource)&&$scope.resetEntryDetails(entry_method),campaignService.entryDetailsState[entry_method.id]=null,entry_method.not_unique_error=null,$scope.updateEntryMethodView(entry_method)},$scope.imageChoiceContinue=function(entry_method){return entry_method.workflow?campaignService.entryDetailsState[entry_method.id]=campaignService.choiceState[entry_method.id].join("\n"):campaignService.entryDetailsState[entry_method.id]=campaignService.choiceState[entry_method.id],$scope.updateEntryMethodView(entry_method),attemptEntry(entry_method)},$scope.previewImageSrc=function(){var defaultImage,divide,img,src;return defaultImage="https://js.out.sh/images/"+campaignService.campaign.campaign_type.toLowerCase()+"-overlay@2X.png",src=$(".user-asset-overlay-image-original .user-asset__preview img").not("[src^=data]").attr("src")||defaultImage,$scope.previewImageSizes[src]||(divide=src.match(/@2x\.[a-z0-9]+$/i)?2:1,(img=new Image).onload=function(){var h,w;return h=this.height,w=this.width,$scope.$apply(function(){return $scope.previewImageSizes[src]={},$scope.previewImageSizes[src].height=h/divide,$scope.previewImageSizes[src].width=w/divide})},img.src=src),src},$scope.inFrame=function(){return $window.parent!==$window},$scope.landingPageOption=function(){return"Page"===campaignService.campaign.stand_alone_option?"Override":"Full"===campaignService.campaign.stand_alone_option?"IFrame":"Automatic"},$scope.previewImageSizes={"https://js.out.sh/images/reward-overlay@2X.png":{height:70,width:200},"https://js.out.sh/images/competition-overlay@2X.png":{height:70,width:200}},$scope.previewImageMarginTop=function(){return campaignService.campaign.overlay_position.match(/^center-/)?"Image"===campaignService.campaign.theme&&$scope.previewImageSizes[$scope.previewImageSrc()]?$scope.previewImageSizes[$scope.previewImageSrc()].height/-2:32-$("#c9-button").width():0},$scope.toTrusted=function(html_code,removeProtocol){return $sce.trustAsHtml(removeProtocol?(html_code+"").replace(/https?:\/\//,"//"):html_code)},$scope.toTrustedUrl=function(url){return $sce.trustAsResourceUrl(url)},$scope.logoutLink=function(){return $window.logoutPath||"/entry/logout"},$scope.toggleEdit=function(){var authentication,len,n,ref1,results;for(campaignService.contestantState.editMode=!campaignService.contestantState.editMode,results=[],n=0,len=(ref1=campaignService.contestantState.contestant.authentications).length;n<len;n++)authentication=ref1[n],results.push(authentication.toRemove=!1);return results},$scope.prepareUnlink=function(authentication){return"remove"===authentication.toRemove?authentication.toRemove=!1:authentication.toRemove="remove"},$scope.updateContestant=function(){var contestant,form;return campaignService.contestantState.updating=!0,form=campaignService.contestantState.form,contestant=campaignService.contestantState.contestant,$http.post("/update-contestant",{campaign_key:campaignService.campaign.key,competition_subscription:form.competition_subscription,contestant:{id:contestant.id,name:form.name,firstname:form.firstname,lastname:form.lastname,email:form.email,send_confirmation:form.send_confirmation,authentications:contestant.authentications}}).then(function(response){var data;if((data=response.data).details)return campaignService.mergeContestant({name:data.details.name,email:data.details.email,authentications:data.details.authentications}),campaignService.contestantState.updating=!1,campaignService.contestantState.editMode=!1})["catch"](function(response){var data;switch(data=response.data,campaignService.contestantState.updating=!1,data.error){case"not_logged_in":return alert(t("logged_in_error"));case"cheater_error":return alert(t("cheater_error"));case"not_logged_in":return alert(t("logged_in_error"));case"invalid_email":return campaignService.contestantState.failedEmail=data.details.failed_email,campaignService.contestantState.failedEmailKey=data.details.message_key;default:return alert(t("generic_error"))}})},toFormName=function(name){return name.toLowerCase().trim().replace(/[^a-z0-9 _]/gi,"").replace(/( |_)+/gi,"_")},prefillContestantForm=function(apply){var formName,k,prefillStr,ref1,v;if((prefillStr=Cookies.get("Prepop-"+campaignService.campaign.key))&&$scope.contestantState&&campaignService.contestantState.form){for(k in ref1=angular.fromJson(prefillStr))v=ref1[k],(formName=toFormName(k))&&(campaignService.contestantState.form[formName]=v);if(campaignService.updateFormFirstAndLastName(),apply)return $scope.$apply()}},$scope.addTemplate=function($event,subTemplates){var $add,$target,$template,parent;if(null==subTemplates&&(subTemplates=[]),$event.preventDefault(),!($add=$($event.target).closest("[data-entry-type]")).hasClass("disabled"))return $target=(parent=$add.closest(".template-add")).children(".template-add-to"),0===($template=parent.find($add.data("template"))).length&&($template=$($add.data("template"))),addTemplateForm($target,$template,$add.data("replace-prefix"),$add.data("replacement"),{entryType:$add.data("entry-type"),autoImport:$add.data("auto-import"),ruleScope:$add.data("rule-scope")}).then(function($element){var addSubTemplates;return $element&&(addSubTemplates=subTemplates.map(function(template){return addTemplateForm.bind(null,$element.find(".template-add-to"),$(template),$add.data("replace-prefix"),$add.data("replacement"))}),$q.all(addSubTemplates).then(function(){return 0<subTemplates.length&&toEntryMethod($element),$scope.isAllRuleGroupsRemoved=0===$("#rule-groups .sort-group").length})),null})},$scope.toEntryMethodKind="focus",toEntryMethod=function($element){switch($scope.toEntryMethodKind){case"scroll":return $element[0].scrollIntoView();case"focus":return focusFirstEntryMethodInput($element)}},focusFirstEntryMethodInput=function($element){return $timeout(function(){var empty_inputs,id,inputs,to_focus;return to_focus=(empty_inputs=(inputs=$element.find(":input:visible, .ta-text-element:visible").not('button, .small-colorpicker, [type="file"], [type="radio"]').not(".chzn-control-group :input").not(function(){return-1!==this.id.indexOf("actions_required")})).filter(function(){return $(this).is(":input")?""===this.value:""===$(this).text()})).filter(function(){return $(this).closest(".form-group").is(".required")})[0]||empty_inputs[0]||inputs[0],$(to_focus).is(".ta-text-element")&&(id=$(to_focus).attr("id").replace(/Html/,"Element"),to_focus=$("#"+id)),null!=to_focus?to_focus.focus():void 0})},canAddTemplate=function(existing,$template){var customErrorMessage,customLimit;return customLimit=$template.data("removable-limit"),customErrorMessage=$template.data("removable-limit-message"),customLimit?existing>=parseInt(customLimit)?(alert(customErrorMessage),$q.reject(new Error(customErrorMessage))):$q.resolve():campaignService.isTryingFeatures()?$q.resolve():repeatActionService.canAdd(existing)["catch"](function(err){return alert(err),$q.reject(new Error(err))})},$scope.loadingTemplates=[],templateWithCorrectIndices=function($template,replacePrefix,prefixReplacer,options){var regex,replacement,template;return(template=$template.html())?(replacement=prefixReplacer.replace("[0]","["+(new Date).getTime()+"]"),regex=new RegExp("((?:name|id|for)=(?:\"|'))"+replacePrefix+"([^\"']*(?:\"|'))","gi"),template=replacePrefix.includes("(")&&!replacePrefix.includes("\\(")?template.replace(regex,"$1"+replacement+"$3"):template.replace(regex,"$1"+replacement+"$2"),$q.resolve(template)):(addEntryMethodSkeleton(options.target,options.entryType),$scope.loadingTemplates.push(options.entryType),$http.get("/"+campaignService.campaign.campaign_type.toLowerCase()+"s/entry_method_template?entry_type="+options.entryType+"&site="+campaignService.campaign.site_id).then(function(response){return response.data})["catch"](function(err){return 422===err.status&&alert(err.data.error),$q.reject(new Error(err.data))})["finally"](function(){return removeEntryMethodSkeleton(options.target,options.entryType),$scope.loadingTemplates.splice($scope.loadingTemplates.indexOf(options.entryType),1)}))},addEntryMethodSkeleton=function($target,entryType){var $element,badge,link,scope,template;return 0===(badge=(link=$("[data-entry-type="+entryType+"]:not(.entry-method-skeleton)")).closest(".dropdown").find("> a")).length&&(badge=link),(scope=$scope.$new(!0)).entryType=entryType,scope.entryMethodName=link.text(),scope.iconClass=Array.from(badge.find("> i")[0].classList).filter(function(x){return 0===x.indexOf("fa")}).join(" "),scope.bgColor=Array.from(badge[0].classList).filter(function(x){return!["add","btn","dropdown","dropdown-toggle","ng-scope"].includes(x)}).join(" "),template=$("#entry-method-skeleton").html(),$element=angular.element(template),$target.append($element),$compile($element)(scope),$target.trigger("reorder"),$target.parents(".sortable, .unsortable").trigger("reorder"),$target.find(".sortable, .unsortable").trigger("reorder")},removeEntryMethodSkeleton=function($target,entryType){return $($target.find(".entry-method-skeleton[data-entry-type="+entryType+"]")[0]).remove()},addTemplateForm=function($target,$template,replacePrefix,prefixReplacer,options){var $existing,entryType,existing,insertFirst,reuseExisting,unique;return null==options&&(options={}),insertFirst=options.insertFirst,reuseExisting=options.reuseExisting,(unique=$template.data("removable-unique"))&&0<($existing=$target.find("[data-unique-key="+unique+"]")).length?(reuseExisting?($existing.removeClass("removed"),$existing.find('[name$="[_destroy]"]').val("false")):($existing.hasClass("closed")?$existing.find(".handle").click():$("html, body").animate({scrollTop:$existing.offset().top},500),toEntryMethod($element)),$q.reject(new Error("Tried to add a unique form that was already added"))):(entryType=$template.data("unique-key")||options.entryType,existing=$target.find("[data-unique-key="+entryType+"]:not(.removed)").length+$scope.loadingTemplates.filter(function(et){return et===entryType}).length,options.target=$target,canAddTemplate(existing,$template).then(function(){return templateWithCorrectIndices($template,replacePrefix,prefixReplacer,options)}).then(function(template){var $element,$new,actionsRequiredController,ref1;return $element=angular.element(template),insertFirst?$target.prepend($element):$target.append($element),$compile($element)($scope),$target.trigger("reorder"),$target.parents(".sortable, .unsortable").trigger("reorder"),$target.find(".sortable, .unsortable").trigger("reorder"),window.inits.datePicker($target),$new=insertFirst?$target.children().first():$target.children().last(),$(".sortable",$target).sortable({handle:".handle",opacity:.9,tolerance:"pointer",update:function(event,ui){return ui.item.parent().trigger("reorder")}}),$new.find(".chzn-select").chosen().parents(".form-group").addClass("chzn-control-group"),$new.find(".chzn-select-dynamic").chosen({create_option:!0,persistent_create_option:!0,skip_no_results:!0,create_option_text:"Add",placeholder_text_multiple:"Click to add",width:"100%"}).parents(".form-group").addClass("chzn-control-group"),void 0===$template.data("noScrollOnAdd")&&toEntryMethod($element),$new.find("select").not(".chzn-select, .chzn-select-dynamic, .no-dropkick").each(function(){return $(this).data("random-id")&&$(this).attr("id",("dropkick"+Math.random()).replace(/\./,"")),$(this).dropkick()}),$new.find("i.help-hover").popover(),options.ruleScope&&($new.find(".behavioural-rule-scope").val(options.ruleScope),$new.find("[data-rule-scope]").each(function(i,el){return $(el).data("rule-scope")===options.ruleScope?$(el).show():$(el).hide()})),$timeout(function(){return $new.find("[checked=checked]").click(),$new.find("[type=checkbox]:checked, [checked=checked]").trigger("click").trigger("change"),$new.find("select").trigger("change"),$new.find(".chzn-select").trigger("chosen:updated")},0),(actionsRequiredController=null!=(ref1=$scope.$root.actionsRequiredControllers)?ref1[0]:void 0)&&actionsRequiredController.$validators.actionsRequired(actionsRequiredController.$modelValue,actionsRequiredController.$viewValue),$element}))},$scope.isTimerAction=function(entry_method){return campaignService.isTimerAction(entry_method)},$scope.toggleEmailRecovery=function(){return $scope.contestantState.recoveryState=$scope.contestantState.recoveryState?null:"info"},$scope.sendEmailRecoveryCode=function(){return $scope.contestantState.recoveryState="sending",$http.post("/contestant_recovery_codes",{contestant_recovery_code:{email:$scope.contestantState.form.email},campaign_key:$scope.campaign.key}).then(function(){return $scope.contestantState.recoveryState="sent"})["catch"](function(){return alert(t("generic_error"))})},$scope.showRecoveryForm=function(){return 0<=["sending","sent","submitting","good","bad"].indexOf($scope.contestantState.recoveryState)},$scope.submitRecoveryCodeDisabled=function(form){return form.$invalid||"good"===$scope.contestantState.recoveryState||"checking"===$scope.contestantState.recoveryState},$scope.submitRecoveryCode=function(form){if(!$scope.submitRecoveryCodeDisabled(form))return $scope.contestantState.recoveryState="submitting",$http.post("/recover-contestant",{code:$scope.contestantState.recoveryCode.toUpperCase(),campaign_key:$scope.campaign.key,email:$scope.contestantState.form.email}).then(function(response){return response.data.contestant?($scope.contestantState.recoveryState="good",setContestantSuccess(response.data.contestant),campaignService.contestantState.otherLogins=null):$scope.contestantState.recoveryState="bad"})["catch"](function(){return $scope.contestantState.recoveryState=null,alert(t("generic_error"))})},$scope.cancelRecovery=function(){return $scope.contestantState.showEmailRecovery=!1,$scope.contestantState.recoveryCode=null},isActionPerformed=function(entry_method){return 0<=$.inArray(entry_method.config.actionKey(entry_method),(campaignService.contestantState.contestant.actions+","+(Cookies.get("A-"+campaignService.campaign.key)||"")).split(/,/))},startExpandedTimer=function(){var em,len,n,ref1;if(campaignService.entry_methods)for(n=0,len=(ref1=campaignService.entry_methods).length;n<len;n++)if(em=ref1[n],campaignService.isTimerAction(em)&&!em.config.isTimerTriggered)return setInterval(function(){var timed_em;if((timed_em=campaignService.entryState.expanded)&&campaignService.isTimerAction(timed_em)&&!timed_em.config.isTimerTriggered)return $scope.$apply(function(){return timed_em.secondsOpen||(timed_em.secondsOpen=0),timed_em.secondsOpen+=1,campaignService.checkIfTimePassed(timed_em)})},1e3)},startVisitActionTimer=function(){if(campaignService.entry_methods)return campaignService.entry_methods.some(function(em){var array,key;return!!(em.config.actionKey&&em.config.actionKey(em)&&(key=em.config.actionKey(em),array=(campaignService.contestantState.contestant.actions+","+(Cookies.get("A-"+campaignService.campaign.key)||"")).split(/,/),$.inArray(key,array)<0))||(!("custom_action"!==em.entry_type||!em.config2)||(!("instagram_visit_profile"!==em.entry_type||!campaignService.isTimerAction(em))||void 0))})?setInterval(function(){var expanded_em,timerCompleted;if(campaignService.cookieStateUpdated()&&$scope.$apply(),(expanded_em=campaignService.entryState.expanded)&&campaignService.canSubmitEntryForm(expanded_em)&&(timerCompleted=!1,expanded_em.config.actionKey&&expanded_em.config.actionKey(expanded_em)&&"Done"!==campaignService.entryDetailsState[expanded_em.id]&&isActionPerformed(expanded_em)&&(timerCompleted=!0),"instagram_visit_profile"===expanded_em.entry_type&&"Done"!==campaignService.entryDetailsState[expanded_em.id]&&expanded_em.config.canContinueAutomatically(expanded_em)&&(timerCompleted=!0),timerCompleted))return $scope.$apply(function(){return $scope.saveEntryDetails(expanded_em)})},1e3):void 0},bindVisitActionsTriggers=function(){var em,last_time_visited,len,len1,n,o,ref1,ref2;if(campaignService.entry_methods){for(n=0,len=(ref1=campaignService.entry_methods).length;n<len;n++)(em=ref1[n]).config.isTimerTriggered&&(last_time_visited=campaignService.getTrackingCookie("T",em))&&(em.secondsOpen=Math.floor(Date.now()/1e3)-last_time_visited,campaignService.checkIfTimePassed(em));for(o=0,len1=(ref2=campaignService.entry_methods).length;o<len1;o++)if((em=ref2[o]).config.isTimerTriggered)return ifvisible.on("idle",function(){if(campaignService.entryState.expanded)return campaignService.entryState.expanded.pausedTimestamp=Math.floor(Date.now()/1e3)}),void ifvisible.on("wakeup",function(){var sleepSeconds,sleep_em;if((sleep_em=campaignService.entryState.expanded)&&sleep_em.pausedTimestamp&&sleep_em.config.isTimerTriggered&&campaignService.isTimerAction(sleep_em)&&campaignService.isTimerTriggered(sleep_em))return sleepSeconds=Math.floor(Date.now()/1e3)-sleep_em.pausedTimestamp,$scope.$apply(function(){return sleep_em.secondsOpen||(sleep_em.secondsOpen=0),sleep_em.secondsOpen+=sleepSeconds,campaignService.checkIfTimePassed(sleep_em)})})}},mandatoryFirstEntryMethod=function(){var m;return 1===campaignService.entry_methods.length?campaignService.entry_methods[0]:1===(m=$filter("filter")(campaignService.entry_methods,{mandatory:!0})).length&&m[0].completable?m[0]:null},autoExpandFirstAction=function(){var em,ref1;if((em=mandatoryFirstEntryMethod())&&em.auto_expandable&&(em.display_information||!em.requires_authentication||campaignService.isAuthenticated(em))&&campaignService.canEnter(em)&&(em.expandable||!campaignService.enoughUserDetails(em)||(null!=(ref1=em.config)&&"function"==typeof ref1.showOptIn?ref1.showOptIn(em):void 0)&&!campaignService.entryState.formData[em.id]))return campaignService.setToEnter(em),$scope.updateEntryMethodView(em),requestDetails(em),campaignService.entryState.autoExpanded=em},$scope.showActionFooter=function(entry_method){return entry_method===campaignService.entryState.autoExpanded&&$scope.campaign.terms_and_conditions},$scope.autoExpandLastShareAction=autoExpandLastShareAction=function(){var entry_method,i,incomplete;if(campaignService.entry_methods.length-1,1===(incomplete=function(){var len,n,ref1,results;for(ref1=campaignService.entry_methods,results=[],i=n=0,len=ref1.length;n<len;i=++n)entry_method=ref1[i],campaignService.canEnter(entry_method)&&results.push(i);return results}()).length&&!campaignService.bestCouponCode())return"share_action"===campaignService.entry_methods[incomplete[0]].entry_type?attemptEntry(campaignService.entry_methods[incomplete[0]]):void 0},triggerOnloadPixel=function(){return trackingPixelService.onLoad(campaignService.campaign.tracking_pixels)},$scope.initContestant=function(contestantData){if(contestantData=$filter("unescapeAngular")(contestantData),campaignService.initContestant(contestantData),$scope.contestantState=campaignService.contestantState,(widgetIsStandalone()||inFacebookTab())&&($scope.contestantState.referrer_allowed=!0),!$scope.contestantState.contestant.id)return storedDobService.remove()},widgetIsStandalone=function(){return 0<$(".enter-page").length},inFacebookTab=function(){return 0<$(".facebook-page").length},$scope.initEntryCount=function(c){return $timeout(function(){return campaignService.campaign.entry_count=c||0},1)},$scope.hasFeature=function(feature){return!(null==campaignService||!campaignService.isTryingFeatures())||$scope.features&&!!$scope.features[feature]},$scope.setFeatures=function(features){return $scope.$apply(function(){return $scope.features=features})},$scope.initRepeatActionsService=repeatActionService.setLimits,initFrontEndEntryMethodConfig=function(){var entry_method,len,n,ref1,results;for(results=[],n=0,len=(ref1=campaignService.entry_methods).length;n<len;n++)entry_method=ref1[n],results.push(entry_method.config=actionsConfig(entry_method.entry_type));return results},initEventModeTimeout=function(){var eventTimeoutInterval;if(campaignService.campaign.event_mode)return $(document).on("keydown mousedown","body",function(){return $scope.lastUserInteraction=new Date}),eventTimeoutInterval=setInterval(function(){if($scope.lastUserInteraction&&$scope.lastUserInteraction.getTime()<(new Date).getTime()-12e4)return clearInterval(eventTimeoutInterval),$("[data-logout-link]").click()},1e3)},initTwitterUsernameFallback=function(){var authentication,base,base1,entry_method,len,len1,n,name1,o,ref1,ref2,results,twitterUsername;if(campaignService.contestantState.contestant&&campaignService.contestantState.contestant.authentications){for(twitterUsername=null,n=0,len=(ref1=campaignService.contestantState.contestant.authentications).length;n<len;n++)(authentication=ref1[n]).provider.match(/twitter/)&&(twitterUsername=authentication.reference);if(twitterUsername){for(results=[],o=0,len1=(ref2=campaignService.entry_methods).length;o<len1;o++)(entry_method=ref2[o]).provider.match(/twitter/)&&$scope.isAuthenticated(entry_method,"twitter")?(entry_method.config=actionsConfig(entry_method.entry_type),entry_method.config.acceptsTwitterUsername?((base=campaignService.entryState.formData)[name1=entry_method.id]||(base[name1]={}),results.push((base1=campaignService.entryState.formData[entry_method.id]).twitter_username||(base1.twitter_username=twitterUsername))):results.push(void 0)):results.push(void 0);return results}}},$scope.initCampaign=function(campaignData){var cookieChecker,toEnter;return campaignData=$filter("unescapeAngular")(campaignData),$scope.initCookiesEnabled(),$scope.cookiesEnabled||(cookieChecker=setInterval(function(){if($scope.cookiesEnabled)return $scope.$apply(),clearInterval(cookieChecker)},2500)),campaignService.initCampaign(campaignData),callbackService.init(campaignData.campaign.widget_callbacks),$scope.campaign=campaignService.campaign,$scope.incentive=campaignService.incentive,$scope.entry_methods=campaignService.entry_methods,$scope.paid_entry_methods=campaignService.paid_entry_methods,$scope.entryMethodMap=campaignService.entryMethodMap,$scope.entryState=campaignService.entryState,$scope.entryDetailsState=campaignService.entryDetailsState,$scope.appName=campaignData.appName,$scope.browser=angular.browser,$scope.nameRegex=campaignService.campaign.first_and_last_name?"[^ ]+ [^ ]+":".*",$scope.challenge={userResponse:null,demand:!1},initFrontEndEntryMethodConfig(),startExpandedTimer(),bindVisitActionsTriggers(),startVisitActionTimer(),prefillContestantForm(),triggerOnloadPixel(),initEventModeTimeout(),initTwitterUsernameFallback(),storedDobService.applyStoredDOB(),callbackService.sendLoaded(campaignService.campaign),(toEnter=campaignService.toEnter())?resumeEntry(toEnter):(autoExpandFirstAction(),autoExpandLastShareAction())},function(){return $timeout(function(){if("user-tab"===window.location.hash.replace(/^#\/?/,""))return campaignService.campaign.selectedTab="user"})}()}])}.call(this),function(){var indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};angular.module("App.directives",[]).directive("textarea",["$sanitize",function($sanitize){return{restrict:"E",require:"?ngModel",terminal:!0,priority:0,link:function(scope,element,attrs,ngModel){var val;if(ngModel&&(val=element.text()))return attrs.skipSanitize||(val=$sanitize(val)),ngModel.$setViewValue(val)}}}]).directive("chosenContainer",function(){return{restrict:"C",terminal:!0,priority:0}}).directive("input",["$filter",function($filter){return{restrict:"E",require:"?ngModel",priority:-1,link:function(scope,element,attrs,ngModel){var $asset,$preview,ref,stringishInputTypes;if(attrs.angularEscaped&&(attrs.value=$filter("unescapeAngular")(attrs.value),element.val(attrs.value)),"number"!==attrs.type&&"range"!==attrs.type||!ngModel||(ngModel.$formatters.push(function(value){return Number(value)}),ngModel.$parsers.push(function(value){return Number(value)})),stringishInputTypes=["date","datetimeLocal","email","month","number","range","text","tel","time","url","week"],ref=attrs.type,(0<=indexOf.call(stringishInputTypes,ref)||!attrs.type)&&ngModel&&attrs.value&&(ngModel.$setViewValue(attrs.value),ngModel.$setPristine()),"text"===attrs.type&&attrs.userAssetTextInput&&element.addClass("user-asset__text-input"),"text"===attrs.type&&element.hasClass("user-asset__text-input")&&attrs.ngModel)return $asset=element.closest(".user-asset"),$preview=$asset.find(".user-asset__preview"),scope.$watch(attrs.ngModel,function(value){return value?(element.val(value),$preview.show().find("img").attr("src",value),$asset.find(".user-asset__echo").text(value).show(),$asset.find(".user-asset__remove").show(),$asset.removeClass("loading")):($preview.hide().find("img").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),$asset.find(".user-asset__remove").hide())})}}}]).directive("pristineInit",function(){return{restrict:"A",require:"ngModel",link:function(_scope,_element,_attrs,controller){return controller.$commitViewValue(),controller.$setPristine()}}}).directive("glCountdown",["$timeout","translationService",function($timeout,translationService){return{scope:!0,link:function(scope,element,attrs){return scope.dateState={},scope.i18n={},attrs.$observe("starts",function(value){return scope.dateState.starts=new Date(1e3*parseInt(value)),setTimeout(function(){return scope.start()},1)}),attrs.$observe("ends",function(value){return scope.dateState.ends=new Date(1e3*parseInt(value))})},controller:["$rootScope","$scope",function($rootScope,$scope){return $scope.isStarted=function(){return new Date>$scope.dateState.starts},$scope.isEnded=function(){return new Date>$scope.dateState.ends},$scope.start=function(){var tick;return tick=function(){var days,end,hours,minutes,now,seconds;return(end=(now=new Date)<$scope.dateState.starts?$scope.dateState.starts:$scope.dateState.ends)<now?($scope.status=translationService.translate("campaign_ended"),$scope.description=""):(days=Math.floor((end-now)/864e5),hours=Math.floor((end-now)/36e5),minutes=Math.floor((end-now)/6e4),seconds=Math.floor((end-now)/1e3),2<=days?($scope.status=days,$scope.description=translationService.translate("days")):2<=hours?($scope.status=hours,$scope.description=translationService.translate("hours")):2<=minutes?($scope.status=minutes,$scope.description=translationService.translate("minutes")):($scope.status=seconds,$scope.description=translationService.translate("seconds"))),!0},setInterval(function(){var previousDescription,previousStatus;if(previousStatus=$scope.status,previousDescription=$scope.description,tick(),previousStatus!==$scope.status||previousDescription!==$scope.description)return $scope.$apply()},1e3),$scope.$apply(tick)}}]}}]).directive("focusOn",["$timeout",function($timeout){return{link:function(scope,element,attrs){return scope.$watch(attrs.focusOn,function(val){if(val)return $timeout(function(){return element[0].focus()},101)},!0)}}}]).directive("backImg",function(){return{restrict:"A",scope:{backImg:"="},link:function(scope,element){return scope.$watch("backImg",function(n){return element.css({"background-image":"url('"+n+"')"})})}}}).directive("preventClick",function(){return function(scope,element){return angular.element(element).bind("click",function(event){return event.preventDefault()})}}).directive("restrict",["$parse",function($parse){return{restrict:"A",require:"ngModel",link:function(scope,iElement,iAttrs){return scope.$watch(iAttrs.ngModel,function(value){if(value&&iAttrs.restrict)return $parse(iAttrs.ngModel).assign(scope,value.replace(new RegExp(iAttrs.restrict,"g"),""))})}}}]).directive("minimumAge",function(){var DMY_REGEX,MDY_REGEX;return MDY_REGEX=/^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/(19|20)(\d\d)$/,DMY_REGEX=/^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/(19|20)(\d\d)$/,{restrict:"A",scope:{minimumAge:"@",ageFormat:"@"},require:"ngModel",link:function(scope,elm,attrs,ctrl){return ctrl.$parsers.unshift(function(viewValue){var dateOfBirth,day,format,match,maximumDateOfBirth,mdy,month,year;return format=(mdy="DMY"!==scope.ageFormat)?MDY_REGEX:DMY_REGEX,viewValue&&scope.minimumAge?format.test(viewValue)?(ctrl.$setValidity("ageFormat",!0),match=viewValue.match(format),mdy?(day=match[2],month=match[1]):(day=match[1],month=match[2]),year=match[3]+match[4],dateOfBirth=new Date(parseInt(year),parseInt(month)-1,parseInt(day),0,0,0,0),(maximumDateOfBirth=new Date).setFullYear(maximumDateOfBirth.getFullYear()-parseInt(scope.minimumAge)),dateOfBirth<maximumDateOfBirth?(ctrl.$setValidity("minimumAge",!0),viewValue):void ctrl.$setValidity("minimumAge",!1)):void ctrl.$setValidity("ageFormat",!1):(ctrl.$setValidity("minimumAge",!0),viewValue)})}}}).directive("maxWords",["wordCountService",function(wordCountService){return{restrict:"A",scope:{maxWords:"@"},require:"ngModel",link:function(scope,elm,attrs,ctrl){return ctrl.$parsers.unshift(function(viewValue){return viewValue&&scope.maxWords?wordCountService.count(viewValue)<=scope.maxWords?ctrl.$setValidity("maxWords",!0):ctrl.$setValidity("maxWords",!1):ctrl.$setValidity("maxWords",!0),viewValue})}}}]).directive("xfbmlParse",["$window","$timeout",function($window,$timeout){var reparseParentElement;return reparseParentElement=function(element){return $timeout(function(){var e;if($window.FB&&$window.FB.XFBML)try{if($window.FB.XFBML.parse(element.parent()[0]),element.hasClass("fb-like")&&(element.find("> span").css("width","100%"),element.find("> span").css("height","20px"),element.find("> span").css("overflow",""),0<element.find("iframe").length))return element.find("iframe").css("width",element.find("iframe body").width()||450),element.find("iframe").css("height",""),element.find("iframe")[0].onload=function(){return element.find("iframe").css("width",element.find("iframe body").width()||450),element.find("iframe").css("height","")}}catch(error){if(e=error,$window.console)return $window.console.log("Failed to re-parse fb like",e)}},100)},{restrict:"A",link:function(scope,element){return reparseParentElement(element)}}}]).directive("snapchatResize",function(){var snapchatHeightCalc;return snapchatHeightCalc=function(scope,element,width,height){var ratio,ratio2;return null==scope.snapchat_width&&(scope.snapchat_width=.8*element.width()),ratio=width()/height(),ratio2=width()/scope.snapchat_width,1<=ratio?Math.floor(scope.snapchat_width/ratio).toString()+"px":Math.floor(height/ratio2)+"px"},{restrict:"A",scope:{width:"&",height:"&"},link:function(scope,element){var newHeight;return newHeight=snapchatHeightCalc(scope,element,scope.width,scope.height),element.css("min-height",newHeight),window.addEventListener("resize",function(){return scope.snapchat_width=null,element.css("min-height","inherit")})}}}).directive("grecaptcha",["$window","$timeout","$parse",function($window){var initCaptchas,initElement;return initElement=function(scope,element,attrs){return grecaptcha.render(element,{sitekey:attrs.grecaptchaSiteKey,callback:function(response){return scope.$apply(function(){return scope.passed()(response)})},"expired-callback":function(){return scope.$apply(function(){var base;return"function"==typeof scope.expired&&"function"==typeof(base=scope.expired())?base():void 0})}}),$window.setInterval(function(){var $iframe;return 0<($iframe=$('iframe[title*="recaptcha"]')).length&&$iframe.is(":visible")&&-5e3<$iframe.offset().top?($iframe.closest("body > div").hasClass("grecaptcha-container")||$iframe.closest("body > div").addClass("grecaptcha-container"),0===$(".enter-page").length?$(".challenge").css({"min-height":$iframe.height()-52}):void 0):$(".challenge").css({"min-height":"0"})},1e3)},initCaptchas=function(
scope,element,attrs){var s;return $window.grecaptcha?initElement(scope,element[0],attrs):($window.toGrecaptcha||($window.toGrecaptcha=[]),$window.toGrecaptcha.push([scope,element[0],attrs]),$window.grecaptchaCallback?void 0:((s=document.createElement("script")).src="https://www.google.com/recaptcha/api.js?onload=grecaptchaCallback&render=explicit",document.body.appendChild(s),$window.grecaptchaCallback=function(){var a,e,j,len,ref,ref1,results;for(results=[],j=0,len=(ref=$window.toGrecaptcha).length;j<len;j++)ref1=ref[j],s=ref1[0],e=ref1[1],a=ref1[2],results.push(initElement(s,e,a));return results}))},{restrict:"A",scope:{passed:"&",expired:"&"},link:function(scope,element,attrs){return initCaptchas(scope,element,attrs)}}}]).directive("autogrow",["$timeout",function($timeout){return{restrict:"A",link:function(scope,element){return $timeout(function(){if(!$(element).data("autogrowed"))return $(element).autogrow().data("autogrowed",!0)})}}}]).directive("autoexpand",function(){return{restrict:"AC",scope:{shortLength:"@"},link:function(scope,element){var $expander,element_html,spaces;return element_html=element.html(),spaces=new RegExp(" +","g"),element_html.trim().replace(spaces," ").length>scope.shortLength?(($expander=$('<span style="cursor: pointer;"></span>')).html(element_html.trim().replace(spaces," ").substr(0,scope.shortLength)+"..."),element.empty().append($expander),$expander.click(function(){return element.html(element_html)})):element.html(element.html().trim().substr(0,scope.length))}}}).directive("ngEnter",function(){return{restrict:"A",link:function(scope,element,attrs){return element.bind("keydown keypress",function(event){if(13===event.which)return scope.$apply(function(){return scope.$eval(attrs.ngEnter,{event:event})}),event.preventDefault()})}}}).directive("ngZapierApiKeyViewer",function(){return{restrict:"A",scope:{},link:function(scope,element){var EMPTY_KEY;return EMPTY_KEY="XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",scope.apiKey={apiKey:EMPTY_KEY,isLoading:!1,errorText:null,isPlaceholder:!0,isCurrentUser:!1,user:null},element.addClass("zapier-api-key-viewer")},controller:["$scope","$http","$timeout",function($scope,$http,$timeout){var setApiKey,setError;return setApiKey=function(response){return $scope.apiKey.user&&$scope.apiKey.user.id!==response.data.user.id?($scope.apiKey.isLoading=!1,$scope.apiKey.errorText="Something went wrong."):$scope.apiKey={apiKey:response.data.zapier_api_key,user:response.data.user,isCurrentUser:response.data.is_current_user,isLoading:!1,errorText:null,isPlaceholder:!1}},setError=function(response){return $scope.apiKey.isLoading=!1,$scope.apiKey.errorText="Something went wrong: "+response.statusText,$timeout(function(){return $scope.apiKey.errorText=null},3e3)},{getZapierApiKey:function(evt){return evt.preventDefault(),$scope.apiKey.isLoading=!0,$http.get("/zapier_api_key").then(setApiKey,setError)},resetZapierApiKey:function(evt){if(evt.preventDefault(),confirm("Do you really want to reset api key? It will invalidate all connections as well."))return $scope.apiKey.isLoading=!0,$http.post("/zapier_api_key/reset").then(setApiKey,setError)}}}],controllerAs:"ctrl",template:'<div class="zapier-api-key-label">Zapier Api Key (<a href="/docs/integrations/zapier" target="_blank">How to use it?</a>):</div>\n<div class="zapier-api-key-controls">\n  <div class="zapier-api-key-value" ng-class="{\'zapier-api-key-value-hidden\': apiKey.isPlaceholder}" ng-bind="apiKey.apiKey"></div>\n  <button ng-if="apiKey.isPlaceholder" class="zapier-api-key-get" ng-class="{\'zapier-api-key-get-loading\': apiKey.isLoading}" ng-disabled="apiKey.isLoading" ng-click="ctrl.getZapierApiKey($event)">\n    <i ng-if="apiKey.isLoading" class="fas fa-sync" aria-hidden="true"></i>\n    <i ng-if="!apiKey.isLoading" class="far fa-eye" aria-hidden="true"></i>\n  </button>\n  <a ng-if="!apiKey.isPlaceholder" class="zapier-api-key-reset" ng-class="{\'zapier-api-key-reset-loading\': apiKey.isLoading, \'zapier-api-key-reset-locked\': !apiKey.isCurrentUser}" ng-disabled="apiKey.isLoading || !apiKey.isCurrentUser" title="{{!apiKey.isCurrentUser ? \'You can\\\'t reset api key of this user\'  : \'\'}}" ng-click="ctrl.resetZapierApiKey($event)">\n    <i class="fas fa-sync" aria-hidden="true"></i>\n  </a>\n  <div class="zapier-api-key-error" ng-if="!apiKey.isLoading && apiKey.errorText" ng-bind="apiKey.errorText">Something went wrong</div>\n</div>\n<div class="zapier-api-key-notice" ng-if="!apiKey.isCurrentUser && apiKey.user">Note that this api key belongs to <a ng-href="/users/{{apiKey.user.id}}/edit" ng-bind="apiKey.user.name"></a></div>'}}).directive("beforeAndAfterSlider",function(){return{link:function(scope,element){var $afterImage,$slide,el,slideMarginLeft;return el=element[0],slideMarginLeft=20,$afterImage=el.querySelector(".js-ba-after-image"),$slide=el.querySelector(".js-ba-slide"),element.bind("mousemove",function(event){var imageWidth;imageWidth=event.offsetX,TweenMax.set($afterImage,{width:imageWidth}),TweenMax.set($slide,{x:imageWidth-slideMarginLeft})}),element.bind("mouseleave",function(event){event.pageX<=$(this).offset().left?(TweenMax.set($afterImage,{width:0}),TweenMax.set($slide,{x:0-slideMarginLeft})):event.pageX>=$(this).offset().left+$(this).outerWidth()&&(TweenMax.set($afterImage,{width:820}),TweenMax.set($slide,{x:820-slideMarginLeft}))})}}}).directive("clickOutside",["$document","$parse","$timeout",function($document,$parse,$timeout){return{restrict:"A",link:function($scope,elem,attr){$timeout(function(){var _hasTouch,classList,eventHandler;classList=void 0!==attr.outsideIfNot?attr.outsideIfNot.split(/[ ,]+/):[],eventHandler=function(e){var classNames,element,i,id,l,r;if(l=classNames=id=r=element=i=void 0,!angular.element(elem).hasClass("ng-hide")&&e&&e.target){for(element=e.target;element;){if(element===elem[0])return;if(id=element.id,classNames=element.className,l=classList.length,classNames&&void 0!==classNames.baseVal&&(classNames=classNames.baseVal),classNames||id)for(i=0;i<l;){if(r=new RegExp("\\b"+classList[i]+"\\b"),void 0!==id&&id===classList[i]||classNames&&r.test(classNames))return;i++}element=element.parentNode}$timeout(function(){$parse(attr.clickOutside)($scope,{event:e})})}},(_hasTouch=function(){return"ontouchstart"in window||navigator.maxTouchPoints})()&&$document.on("touchstart",eventHandler),$document.on("click",eventHandler),$scope.$on("$destroy",function(){_hasTouch()&&$document.off("touchstart",eventHandler),$document.off("click",eventHandler)})})}}}]).directive("amountSelect",["$timeout",function($timeout){return{restrict:"A",scope:{options:"=",model:"=ngModel",onSelection:"=?"},link:function(scope,element){var _actionsClassNames,el,modelIndex;return el=element[0],modelIndex=scope.options.indexOf(scope.model),_actionsClassNames=function(){return 0===modelIndex?(angular.element(el.querySelector(".js-minus")).addClass("is-disable"),angular.element(el.querySelector(".js-plus")).removeClass("is-disable")):modelIndex===scope.options.length-1?(angular.element(el.querySelector(".js-plus")).addClass("is-disable"),angular.element(el.querySelector(".js-minus")).removeClass("is-disable")):(angular.element(el.querySelector(".js-minus")).removeClass("is-disable"),angular.element(el.querySelector(".js-plus")).removeClass("is-disable"))},$timeout(function(){return _actionsClassNames(),scope.$watch("model",function(){modelIndex!==scope.options.indexOf(scope.model)&&(modelIndex=scope.options.indexOf(scope.model)),_actionsClassNames(),scope.onSelection&&scope.onSelection()},!0),angular.element(element).on("click",function(event){var targetClassName;if(-1!==(targetClassName=event.target.className).indexOf("js-action"))return-1!==targetClassName.indexOf("js-minus")?modelIndex--:modelIndex++,scope.model=scope.options[modelIndex],scope.$apply()})})}}}]).directive("customSelect",["$timeout",function($timeout){return{restrict:"A",scope:{isOpen:"=",model:"=ngModel",onSelection:"=?"},link:function(scope,element){var _valueClassNames;return element[0],_valueClassNames=function(){return scope.isOpen?element.addClass("is-select-open"):element.removeClass("is-select-open")},scope.$watch("isOpen",function(){_valueClassNames()},!0),$timeout(function(){return _valueClassNames(),angular.element(element).on("click",function(event){var targetClassName;return-1!==(targetClassName=event.target.className).indexOf("js-value")&&(scope.isOpen=!scope.isOpen),-1!==targetClassName.indexOf("js-option")&&(scope.model=JSON.parse(event.target.attributes.data.value),scope.isOpen=!1,scope.onSelection&&scope.onSelection()),scope.$apply()})})}}}]).directive("tip",["$timeout",function(){return{restrict:"A",scope:{charLength:"=?",value:"="},template:"{{value}}",link:function(scope,element){var updateClass;return updateClass=function(){var multiline;return multiline=!1,scope.charLength?scope.value.length>Number(scope.charLength)&&(multiline=!0):50<scope.value.length&&(multiline=!0),multiline?element.addClass("is-multiline"):element.removeClass("is-multiline")},scope.$watch("charLength",function(){return updateClass()},!0),scope.$watch("value",function(){return updateClass()},!0)}}}]).directive("customCollapse",["$timeout",function($timeout){return{restrict:"A",scope:{className:"@",isCollapsable:"@",isOpen:"@",toggleClass:"@"},link:function(scope,element){var _classNames;return element[0],_classNames=function(){return!0===scope.isOpen?element.addClass(scope.toggleClass):element.removeClass(scope.toggleClass)},scope.$watch("isOpen",function(){_classNames()},!0),$timeout(function(){if(scope.isCollapsable="true"===scope.isCollapsable,scope.isOpen="true"===scope.isOpen,scope.isCollapsable)return _classNames(),angular.element(element).on("click",function(event){return-1!==event.target.className.indexOf(scope.className)&&(scope.isOpen=!scope.isOpen),scope.$apply()})})}}}]).directive("lookup",["$q","$http",function($q,$http){return{restrict:"A",require:"ngModel",link:function(scope,el,attrs,controller){var debouncedLookup,forceLookup,performLookup,resetLookup,resetLookupBtn,retryLookupBtn;return retryLookupBtn=el.siblings(".btn.invalid-lookup"),resetLookupBtn=el.siblings(".btn.reset-lookup-fallback"),performLookup=function(){var value;return""===el.val()?$q.resolve(!0):attrs.ngLookup&&!controller.$$scope.$eval(attrs.ngLookup)?$q.resolve(!0):controller.$dirty?(value=el.val(),$http.get("/lookup",{params:{type:attrs.lookup,value:value,context:attrs.lookupContext}})["catch"](function(data){var ref;return data.data.allow_fallback?(scope.showFallbackInputs=!0,el.siblings("label.lookup-fallback").html(data.data.errors),el.siblings(".help-block").hide(),el.attr("readonly",!0),data.data.needs_retry&&retryLookupBtn.addClass("with-reset"),!0):(controller.$setValidity("lookup",!1),el.val()===value&&(null!=(ref=data.data)?ref.errors:void 0)?el.siblings("label.invalid-lookup").html(data.data.errors):el.siblings("label.invalid-lookup").html("Couldn't open the page"),!1)})):$q.resolve(!0)},debouncedLookup=_.debounce(performLookup,300),forceLookup=function(){if(0===Object.keys(controller.$error).filter(function(key){return"lookup"!==key}).length)return resetLookup(null,{nullify:!1}),controller.$validate()},resetLookup=function(_evt,arg){var nullify;return nullify=(null!=arg?arg:{nullify:!0}).nullify,scope.showFallbackInputs=!1,el.attr("readonly",!1),nullify&&el.val(""),el.siblings(".help-block").show(),retryLookupBtn.removeClass("with-reset"),controller.$validate(),scope.$applyAsync()},controller.$asyncValidators.lookup=function(){return debouncedLookup()||$q.resolve(!0)},retryLookupBtn.on("click",forceLookup),resetLookupBtn.on("click",resetLookup),scope.showFallbackInputs&&(el.siblings(".help-inline, .help-block").hide(),el.siblings("label.lookup-fallback").html(el.siblings(".help-inline").html())),el.on("$destroy",function(){return retryLookupBtn.off("click",forceLookup),resetLookupBtn.off("click",resetLookup)})}}}]).directive("httpPrefix",function(){return{restrict:"A",require:"ngModel",link:function(_scope,_element,_attrs,controller){var ensureHttpPrefix;return ensureHttpPrefix=function(value){var result;return value&&!/^(https?):\/\//i.test(value)&&0!=="http://".indexOf(value.toLowerCase())&&0!=="https://".indexOf(value.toLowerCase())?(controller.$setViewValue("https://"+value),controller.$render(),"https://"+value):value?(result=value.slice(0,5).toLowerCase()+value.slice(5),controller.$setViewValue(result),controller.$render(),result):value},controller.$formatters.push(ensureHttpPrefix),controller.$parsers.unshift(ensureHttpPrefix)}}}).directive("cutAtSymbol",function(){return{restrict:"A",require:"ngModel",link:function(_scope,_el,_attrs,controller){var cutAtSymbol;return cutAtSymbol=function(value){var result;return value&&"@"===value[0]?(result=value.substr(1),controller.$setViewValue(result),controller.$render(),result):value},controller.$formatters.push(cutAtSymbol),controller.$parsers.unshift(cutAtSymbol)}}}).directive("timeBefore",function(){return{restrict:"A",link:function(_scope,el,attrs){var getDatepicker,laterEl;return laterEl=$("#"+attrs.timeBefore),getDatepicker=function(element){return element.closest(".form-group.datetime-picker").data("datetimepicker")},el.closest(".datetime-picker").on("changeDate",function(evt){var dp,endValue,value;if(value=evt.date)return(dp=getDatepicker(laterEl)).startDate=_.clone(value),dp._date&&dp._date<value?(endValue=value.setDate(value.getDate()+30),dp.setValue(endValue)):dp.setValue(dp._date)}),laterEl.closest(".datetime-picker").on("changeDate",function(evt){var dp,endValue,value;if(value=evt.localDate)return(dp=getDatepicker(el))._date&&dp._date>value?(endValue=value.setDate(value.getDate()-30),dp.setValue(endValue)):void 0}),el.on("$destroy",function(){return laterEl.closest(".datetime-picker").off("changeDate"),el.closest(".datetime-picker").off("changeDate")})}}}).directive("tweetLimit",function(){return{restrict:"A",require:"ngModel",link:function(_scope,el,attrs,controller){var $l,$sizeHint,validateLimit;return $l=$(el).closest(".form-group").find(".form-label label"),0===($sizeHint=$l.find(".size-hint")).length&&($sizeHint=$("<span class=size-hint></span>"),$l.append($sizeHint)),validateLimit=function(){var $t,data,hashtagAllocation,hashtagField,initialSize,j,len,linkParsedSize,tag,tags;if(data=($t=$(el)).val(),$l=$t.closest(".form-group").find(".form-label label"),initialSize=data.replace(/\[LINK\]/gi,"https://bit.ly/1234567").replace(/http:\/\/[^\s]{14,280}/gi,"_______________________").replace(/https:\/\/[^\s]{15,280}/gi,"_______________________").replace(/(^|[^\/a-z0-9])([a-z0-9-]+\.)+[a-z]+\/[^\s]+/gi,"$1________________________").length,hashtagAllocation=0,hashtagField=$t.data("hashtags-field"))for(j=0,len=(tags=$("[name='"+$t.attr("name").replace(/config\d/,hashtagField)+"']").val().split(",")).length;j<len;j++)tag=tags[j],data.match(RegExp(escapeStringRegexp(tag)))||(hashtagAllocation+=tag.length+1);return linkParsedSize=initialSize+hashtagAllocation+(data.match(/https?:\/\/(?!pic\.twitter\.com|t\.co)[^ ]+[^ ,.]/i)?0:24),$sizeHint.text(" ("+linkParsedSize+"/280)"),$sizeHint.toggleClass("size-hint-error",0===initialSize||280<linkParsedSize),linkParsedSize<=280},controller.$validators.tweetLimit=validateLimit}}}).directive("withLink",function(){return{restrict:"A",require:"ngModel",link:function(_scope,_el,attrs,controller){var hasLink;return hasLink=function(_modelValue,viewValue){return!(!attrs.withLink||controller.$$scope.$eval(attrs.withLink))||/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)/.test(viewValue)},controller.$validators.withLink=hasLink}}}).directive("antipattern",function(){return{restrict:"A",require:"ngModel",link:function(_scope,el,attrs,controller){var antipatternRegex,antipatterns,errorEl,validator;return attrs.antipatterns?(errorEl=el.siblings(".invalid-antipattern"),antipatterns=JSON.parse(attrs.antipattern),validator=function(viewValue){return antipatterns.every(function(antipattern){var result;return(result=!new RegExp(antipattern.regex).test(viewValue))||errorEl.html(antipattern.msg),result})}):(antipatternRegex=new RegExp(attrs.antipattern),validator=function(viewValue){return!antipatternRegex.test(viewValue)}),controller.$validators.antipattern=function(_modelValue,viewValue){return void 0===viewValue||validator(viewValue)}}}}).directive("actionsRequired",["$rootScope",function($rootScope){return{restrict:"A",require:"ngModel",link:function(_scope,el,attrs,controller){var dailyInput,hasActionsRequiredInput,isDaily,validActionsRequired;return dailyInput="daily"===attrs.actionsRequired,hasActionsRequiredInput=function(ctrl){return ctrl.$$element.closest("[ng-form]").find('[name$="actions_required]"]').length},null==$rootScope.actionsRequiredControllers&&($rootScope.actionsRequiredControllers=[]),dailyInput||$rootScope.actionsRequiredControllers.push(controller),dailyInput&&!hasActionsRequiredInput(controller)&&$rootScope.actionsRequiredControllers.push(controller),isDaily=function(ctrl){var formScope,ref;if(formScope=ctrl.$$scope[ctrl.$$element.closest("[ng-form]").attr("name")])return null!=(ref=formScope.$$controls.find(function(x){return x.$name.match(/interval_seconds\]$/)}))?ref.$viewValue:void 0},validActionsRequired=function(_modelValue,viewValue){var actionsRequiredNumbers,enoughActions,hasValidDaily;return actionsRequiredNumbers=Array.from(el.closest(".template-add").find("[ng-form][enterable=true].removable:not(.removed)")).map(function(f){var ref;return(null!=(ref=$(f).find("[ng-model=actions_required]"))?ref.val():void 0)||0}),enoughActions=function(value){return actionsRequiredNumbers.filter(function(x){return Number(x)<Number(value)}).length>=Number(value)},hasValidDaily=$rootScope.actionsRequiredControllers.some(function(c){return isDaily(c)&&("daily"===c.$$attr.actionsRequired?0<c.$viewValue:enoughActions(c.$viewValue||0))}),$rootScope.actionsRequiredControllers.filter(function(c){return c.$viewValue}).forEach(function(c){return c.$setValidity("actionsRequired",hasValidDaily||enoughActions(c.$viewValue))}),!viewValue||(!!dailyInput||(hasValidDaily||enoughActions(viewValue)))},(controller.$validators.actionsRequired=validActionsRequired)(controller.$viewValue),el.on("$destroy",function(){var idx;return idx=$rootScope.actionsRequiredControllers.findIndex(function(c){return controller.$id===c.$id}),$rootScope.actionsRequiredControllers.splice(idx,1),validActionsRequired(controller.$viewValue)})}}}]).directive("navTabAutoSteps",["$timeout",function(){return{restrict:"A",scope:!0,link:function(scope){var activeSteps,steps;return steps=[],activeSteps=function(){return steps.filter(function(key){return("rules-tab"!==key||!("function"==typeof scope.isEmbeddable?scope.isEmbeddable():void 0))&&("open-conversation-rules-tab"!==key||("function"==typeof scope.haveOpenConversationRules?scope.haveOpenConversationRules():void 0))&&("email-integration-tab"!==key||("function"==typeof scope.isIntegratable?scope.isIntegratable():void 0))})},scope.step=function(key){return indexOf.call(steps,key)<0&&steps.push(key),activeSteps().indexOf(key)+1}}}}])}.call(this),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function($parse,$compile){function contains(arr,item,comparator){if(angular.isArray(arr))for(var i=arr.length;i--;)if(comparator(arr[i],item))return!0;return!1}function add(arr,item,comparator){return contains(arr=angular.isArray(arr)?arr:[],item,comparator)||arr.push(item),arr}function remove(arr,item,comparator){if(angular.isArray(arr))for(var i=arr.length;i--;)if(comparator(arr[i],item)){arr.splice(i,1);break}return arr}function postLinkFn(scope,elem,attrs){function setChecked(newArr){scope[attrs.ngModel]=contains(newArr,value,comparator)}var checklistModel=attrs.checklistModel;attrs.$set("checklistModel",null),$compile(elem)(scope),attrs.$set("checklistModel",checklistModel);var getter=$parse(checklistModel),setter=getter.assign,checklistChange=$parse(attrs.checklistChange),value=attrs.checklistValue?$parse(attrs.checklistValue)(scope.$parent):attrs.value,comparator=angular.equals;if(attrs.hasOwnProperty("checklistComparator"))if("."==attrs.checklistComparator[0]){var comparatorExpression=attrs.checklistComparator.substring(1);comparator=function(a,b){return a[comparatorExpression]===b[comparatorExpression]}}else comparator=$parse(attrs.checklistComparator)(scope.$parent);scope.$watch(attrs.ngModel,function(newValue,oldValue){if(newValue!==oldValue){var current=getter(scope.$parent);angular.isFunction(setter)&&setter(scope.$parent,!0===newValue?add(current,value,comparator):remove(current,value,comparator)),checklistChange&&checklistChange(scope)}}),angular.isFunction(scope.$parent.$watchCollection)?scope.$parent.$watchCollection(checklistModel,setChecked):scope.$parent.$watch(checklistModel,setChecked,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(tElement,tAttrs){if(("INPUT"!==tElement[0].tagName||"checkbox"!==tAttrs.type)&&"MD-CHECKBOX"!==tElement[0].tagName&&!tAttrs.btnCheckbox)throw'checklist-model should be applied to `input[type="checkbox"]` or `md-checkbox`.';if(!tAttrs.checklistValue&&!tAttrs.value)throw"You should provide `value` or `checklist-value`.";return tAttrs.ngModel||tAttrs.$set("ngModel","checked"),postLinkFn}}}]),function(){var debouncedTouchBody,linkFunction,slice=[].slice;debouncedTouchBody=function(func,threshold,execAsap){var timeout;return timeout=null,function(){var args,delayed,obj;return args=1<=arguments.length?slice.call(arguments,0):[],obj=this,delayed=function(){return execAsap||func.apply(obj,args),timeout=null},timeout?clearTimeout(timeout):execAsap&&func.apply(obj,args),timeout=setTimeout(delayed,threshold||100)}}(function(){return $(document.body).trigger("click")}),linkFunction=function(scope,element){var choice,input,inputModel,refresh,refreshRadioGroup,temp;return temp=element.find("input[ng-model]"),input=0!==temp.length?temp:element.find("input"),inputModel=input.attr("ng-model"),0!==(choice=0<element.find("label").length?element.find("label"):element).find(".icon").length&&0!==choice.find(".icon-to-fade").length||choice.prepend("<span class='icon'></span><span class='icon-to-fade'></span>"),refreshRadioGroup=function(name){return $("[name='"+name+"']").each(function(){var wrapper;if((wrapper=$(this).closest(".radio")).removeClass("checked"),$(this).is(":checked")&&wrapper.addClass("checked"),$(this).is(":disabled"))return wrapper.addClass("disabled")})},(refresh=function(){var name;if(element.removeClass("checked"),input.is(":checked")&&element.addClass("checked"),input.is(":disabled")&&element.addClass("disabled"),"radio"===input.attr("type")&&!inputModel)return name=input.attr("name"),refreshRadioGroup(name)})(),input.on("change",refresh),inputModel&&scope.$watch(inputModel,refresh),debouncedTouchBody()},angular.module("App.directives").directive("checkbox",function(){return{restrict:"C",link:linkFunction}}).directive("radio",function(){return{restrict:"C",link:linkFunction}})}.call(this),function(){angular.module("App.directives").directive("dobInputField",["translationService","$timeout",function(translationService,$timeout){return{restrict:"C",require:"ngModel",scope:{name:"@",dobMinimumAge:"@",dobRequired:"@",dayPlaceholder:"@",monthPlaceholder:"@",yearPlaceholder:"@"},template:'<div ng-form name="{{ uniqId }}" class="split-dob-form" style="display: inline-block;">\n  <input type="hidden" name="{{ name }}">\n  <input ng-if="monthFirst"\n         class="dob-input-field__month"\n         type="text"\n         name="{{ name + \'-month\' }}"\n         pattern="{{ dob.month_pattern }}"\n         ng-model="dob.month"\n         ng-model-options="{ allowInvalid: true }"\n         inputmode="numeric"\n         maxlength="2"\n         placeholder="{{ monthPlaceholder }}"\n         ng-required="required"\n         restrict="[^\\d]"\n         ng-change="onMonthChange()"\n         ng-blur="onMonthBlur()"\n         ng-keydown="onMonthKeydown($event)"\n         style="width: 38px !important; margin-right: 6px;">\n  <input class="dob-input-field__day"\n         type="text"\n         name="{{ name + \'-day\' }}"\n         ng-model="dob.day"\n         ng-model-options="{ allowInvalid: true }"\n         inputmode="numeric"\n         pattern="{{ dob.day_pattern }}"\n         maxlength="2"\n         placeholder="{{ dayPlaceholder }}"\n         ng-required="required"\n         restrict="[^\\d]"\n         ng-change="onDayChange()"\n         ng-blur="onDayBlur()"\n         ng-keydown="onDayKeydown($event)"\n         style="width: 38px !important; margin-right: 6px;"">\n  <input ng-if="!monthFirst"\n         class="dob-input-field__month"\n         type="text"\n         name="{{ name + \'-month\' }}"\n         ng-model="dob.month"\n         ng-model-options="{ allowInvalid: true }"\n         inputmode="numeric"\n         pattern="{{ dob.month_pattern }}"\n         maxlength="2"\n         placeholder="{{ monthPlaceholder }}"\n         ng-required="required"\n         restrict="[^\\d]"\n         ng-change="onMonthChange()"\n         ng-blur="onMonthBlur()"\n         ng-keydown="onMonthKeydown($event)"\n         style="width: 38px !important; margin-right: 6px;">\n  <input class="dob-input-field__year"\n         type="text"\n         name="{{ name + \'-year\' }}"\n         ng-model="dob.year"\n         ng-model-options="{ allowInvalid: true }"\n         inputmode="numeric"\n         pattern="{{ dob.year_pattern }}"\n         maxlength="4"\n         placeholder="{{ yearPlaceholder }}"\n         ng-required="required"\n         restrict="[^\\d]"\n         ng-change="onYearChange()"\n         ng-blur="onYearBlur()"\n         ng-keydown="onYearKeydown($event)"\n         style="width: 56px !important;">\n</div>',link:function(scope,element,attrs,ctrl){var convertTo4DigitYear,debounceTimer,dob,monthFirst,oldDobMinimumAge,setDate,setValidity,setViewValue;scope.uniqId="dobForm"+Math.random().toString(36).substr(2,9),scope.ctrl=ctrl,scope.monthFirst=monthFirst="12/31/2010"===new Date(2010,11,31).toLocaleDateString(),scope.dob=dob={day:void 0,month:void 0,year:void 0,day_pattern:"^((3[01])|([12][0-9])|(0?[1-9]?))$",month_pattern:"^((1[0-2]{1})|(0?[1-9]{1}))$",year_pattern:"^((((19)|(20))\\d{2})|([0-9]{1,2}))$"},scope.$watch("ctrl.$viewValue",function(){var date,dobDay,dobMonth,dobYear;if(ctrl.$viewValue)return dobYear=""+(date=new Date(Date.parse(ctrl.$viewValue))).getUTCFullYear(),(dobMonth=""+(date.getUTCMonth()+1)).match("..")||(dobMonth="0"+dobMonth),(dobDay=""+date.getUTCDate()).match("..")||(dobDay="0"+dobDay),dob.day=dobDay,dob.month=dobMonth,dob.year=dobYear}),scope.$watch("dobRequired",function(){return scope.required="true"===scope.dobRequired}),scope.t=function(key,map){return null==map&&(map=null),translationService.translate(key,map)},convertTo4DigitYear=function(yearString){var year,yyyy;return(year=parseInt(yearString)).toString().match(/^\d{1,2}$/)&&(yyyy=(new Date).getUTCFullYear())<(year+=yyyy-yyyy%100)&&(year-=100),year},oldDobMinimumAge=scope.dobMinimumAge,scope.$watch("dobMinimumAge",function(){if(oldDobMinimumAge!==scope.dobMinimumAge)return oldDobMinimumAge=scope.dobMinimumAge,setDate()}),scope.onDayChange=function(){if(setDate(),dob.day&&dob.day.match(/../))return monthFirst?element.find(".dob-input-field__year").focus().select():element.find(".dob-input-field__month").focus().select()},scope.onMonthChange=function(){var input;if(setDate(),input=element.find(".dob-input-field__month")[0],dob.month&&dob.month.match(/../)&&input.selectionStart===dob.month.length)return monthFirst?element.find(".dob-input-field__day").focus().select():element.find(".dob-input-field__year").focus().select()},scope.onYearChange=function(){var input,ref;return input=element.find(".dob-input-field__year")[0],(null!=(ref=dob.year)?ref.match(/^\d{2}$/):void 0)&&!["19","20"].includes(dob.year)&&input.selectionStart===dob.year.length&&(dob.year=convertTo4DigitYear(dob.year).toString()),setDate()},scope.onDayKeydown=function(event){if("Backspace"===event.key&&""===dob.day&&monthFirst)return element.find(".dob-input-field__month").focus()},scope.onMonthKeydown=function(event){if("Backspace"===event.key&&""===dob.month&&!monthFirst)return element.find(".dob-input-field__day").focus()},scope.onYearKeydown=function(event){if("Backspace"===event.key&&""===dob.year)return monthFirst?element.find(".dob-input-field__day").focus():element.find(".dob-input-field__month").focus()},scope.onDayBlur=function(){if(dob.day&&dob.day.match(/^\d$/))return dob.day="0"+dob.day},scope.onMonthBlur=function(){if(dob.month&&dob.month.match(/^\d$/))return dob.month="0"+dob.month},scope.onYearBlur=function(){return dob.year&&dob.year.match(/^\d{3}$/)?(dob.year="0"+dob.year,setDate()):dob.year&&dob.year.match(/^\d{1,2}$/)?(dob.year=convertTo4DigitYear(dob.year).toString(),setDate()):void 0},setValidity=function(type,value){var dobForm;if(ctrl.$setValidity(type,value),["minimumAge","ageFormat"].includes(type))return(dobForm=scope[scope.uniqId])[scope.name+"-day"].$setValidity(type,value),dobForm[scope.name+"-month"].$setValidity(type,value),dobForm[scope.name+"-year"].$setValidity(type,value)},setViewValue=function(value){return setValidity("required",!!value||!scope.required),ctrl.$setViewValue(value)},debounceTimer=null,setDate=function(){return clearTimeout(debounceTimer),debounceTimer=$timeout(function(){var dateOfBirth,day,maximumDateOfBirth,month,year;return(dob.day||"").match(new RegExp(dob.day_pattern))&&(dob.month||"").match(new RegExp(dob.month_pattern))&&(dob.year||"").match(new RegExp(dob.year_pattern))?(day=parseInt(dob.day),month=parseInt(dob.month),year=convertTo4DigitYear(dob.year),dateOfBirth=new Date(Date.UTC(year,month-1,day)),(maximumDateOfBirth=new Date).setFullYear(maximumDateOfBirth.getUTCFullYear()-parseInt(scope.dobMinimumAge)),!isNaN(dateOfBirth)&&dateOfBirth instanceof Date?maximumDateOfBirth<dateOfBirth&&dob.year.match(/^[0-9]{4}$/)?(setValidity("minimumAge",!1),setValidity("ageFormat",!0),setViewValue("")):(setValidity("minimumAge",!0),setValidity("ageFormat",!0),dob.year.match(/^[0-9]{4}$/)?setViewValue(dateOfBirth.toISOString().substring(0,10)):setViewValue("")):(setValidity("minimumAge",!0),setValidity("ageFormat",!1),setViewValue(""))):(setValidity("minimumAge",!0),setValidity("ageFormat",!0),void setViewValue(""))},300)}}}}])}.call(this),function(){var maskLinkFunction;maskLinkFunction=function(scope,element){var newValue,oldValue,updateInput;return newValue=oldValue=null,updateInput=function(value){return newValue=value,element[0].value=value,element[0].dispatchEvent(new Event("input"))},element.on("keydown",function(){return oldValue=element[0].value}),element.on("keyup",function(){var full_year,two_digit_year_match;if(["DD/MM/YYYY","MM/DD/YYYY"].includes(element[0].placeholder))return(newValue=element[0].value).replace(/[^0-9\/]/g,"").length!==newValue.length?updateInput(newValue.replace(/[^0-9\/]/g,"")):null==oldValue||newValue.length>oldValue.length?("/"===element[0].placeholder[newValue.length]?updateInput(newValue+"/"):newValue.match(/\/\//)&&updateInput(newValue.replace(/\/\//,"/")),(two_digit_year_match=newValue.match(/^\d{2}\/\d{2}\/(\d{2})$/))&&!["19","20"].includes(two_digit_year_match[1])&&(full_year="",full_year=parseInt(two_digit_year_match[1])>(new Date).getFullYear()-2e3?"19"+two_digit_year_match[1]:"20"+two_digit_year_match[1],updateInput(newValue.match(/^\d{2}\/\d{2}\//)+full_year))):newValue.length<oldValue.length&&"/"===element[0].placeholder[element[0].value.length]&&updateInput(element[0].value.slice(0,element[0].value.length-1)),oldValue=newValue})},angular.module("App.directives").directive("dobInputMask",function(){return{restrict:"C",link:maskLinkFunction}})}.call(this),function(){angular.module("App.directives").directive("prizeArea",["$window","$sce",function($window,$sce){return{restrict:"EAC",scope:!0,
template:"<div class='incentive-wrapper clearfix relative grey-bg incentive-layout-{{incentive.layout}}' ng-class=\"{'no-image': !imageSrc() || has_embedded_youtube(), 'full-image': !has_side_image(), center: !has_side_image()}\" ng-style=\"{'min-height': imageHeight()}\" ng-hide=\"hide_incentive()\"><img ng-if='show_image_above_name() && has_single_image()' class='crisp incentive-banner' ng-src='{{imageSrc()}}' ng-style='{height: imageHeight()}' alt='{{incentive.name}}' ng-class=\"{top: incentive.description, center: !incentive.description && incentive.layout == 'SideImage'}\"><div ng-if='show_image_above_name() && has_image_gallery()' class='prize-slider' images='{{imageGroup()}}' navigation-colour=\"{{incentive.navigation_colour || '#b4b4b4'}}\"></div><div ng-show=\"incentive.layout != 'OnlyImage'\" class='incentive-description' ng-class=\"{'center': !imageSrc() || !incentive.description, middle: !incentive.description}\"><h3 ng-if='show_name_text()'>{{ incentive.name }}</h3><img ng-if='!show_image_above_name() && has_single_image()' class='crisp incentive-banner' ng-src='{{imageSrc()}}' ng-style='{height: imageHeight()}' alt='{{incentive.name}}' ng-class='{top: incentive.description}'><div ng-if='!show_image_above_name() && has_image_gallery()' class='prize-slider' images='{{imageGroup()}}' navigation-colour=\"{{incentive.navigation_colour || '#b4b4b4'}}\"></div><iframe ng-if='has_embedded_twitch()' id='twitchPrizePlayer' type='text/html' src='about:blank' frameborder='0' scrolling='no' ng-src='{{twitchUrl()}}'></iframe><div ng-if='has_embedded_youtube()' class='cover-video-container'><div class='cover-video youtube youtube-auto-init' id='youtubeVideoPrize' frameBorder='0'></div></div><div ng-if='has_embedded_vimeo()' class='cover-video-container'><div ng-init='ensureVimeoScript()' class='cover-video vimeo' id='vimeoVideoPrize'></div></div><div ng-if='has_embedded_wistia()' class='cover-video-container'><div class='cover-video wistia wistia-lazy-init wistia_embed wistia_async_{{incentive.wistia_video_id}}' id='wistiaVideoPrize' frameBorder='0'></div></div><div ng-show='show_description_text()' class='user-fragment' ng-bind-html='descriptionText() | forceHTML' ng-class=\"{'no-bottom-margin': descriptionWithoutBottomMargin()}\"></div></div><div ng-if='isReward()'><div ng-include=\"'views/enter/reward.html'\"></div> </div></div>",link:function(scope){var imageCount,lastPageWidth,topContainer;topContainer=$(".popup-blocks-container"),lastPageWidth=0,scope.imageSrc=function(){return scope.campaign.editMode?scope.incentive.single_image:"SideImage"===scope.incentive.layout?scope.incentive.medium_url:scope.incentive.image_group?scope.incentive.image_group[0].medium_url?scope.incentive.image_group[0].medium_url:scope.incentive.image_group[0].original_url:scope.incentive.url},imageCount=function(){return scope.incentive.image_group?scope.incentive.image_group.length:scope.imageSrc()?1:0},scope.imageGroup=function(){if(scope.incentive.image_group)return scope.incentive.image_group},scope.hide_incentive=function(){return scope.isTryingFeatures()&&!scope.isTestMode()},scope.has_embedded_player=function(){return scope.incentive.embedded_layout},scope.has_embedded_youtube=function(){return scope.incentive.youtube_video_id},scope.has_embedded_vimeo=function(){return scope.incentive.vimeo_video_id},scope.has_embedded_wistia=function(){return scope.incentive.wistia_video_id},scope.has_embedded_twitch=function(){return scope.incentive.twitch_embed},scope.twitchUrl=function(){var match,parentDomainSuffix;return parentDomainSuffix=(match=window.location.href.match(/[?&]l=https?%3A%2F%2F([^?&%]+)/i))?"&parent="+match[1]:"",$sce.trustAsResourceUrl(scope.incentive.twitch_embed+parentDomainSuffix)},scope.has_side_image=function(){return"SideImage"===scope.incentive.layout},scope.has_single_image=function(){return!scope.incentive.embedded_layout&&1===imageCount()&&"OnlyText"!==scope.incentive.layout},scope.has_image_gallery=function(){return!scope.incentive.embedded_layout&&1<imageCount()},scope.show_image_above_name=function(){return"NameImageDesc"!==scope.incentive.layout},scope.show_name_text=function(){return"YouTubeOnly"!==scope.incentive.layout&&"ImageAbove"!==scope.incentive.layout},scope.show_description_text=function(){return scope.descriptionText()&&"YouTubeOnly"!==scope.incentive.layout},scope.descriptionText=function(){var required;return scope.incentive.description?scope.incentive.description:scope.isReward()?scope.campaign.editMode?"Instructions will go here":(required=parseInt(scope.incentive.actions_required))<=scope.totalActionsCompleted()||scope.bestCouponCode()?null:1<required?scope.pl(scope.actionsStillNeededToUnlockReward(),"description_complete_some_singular","description_complete_some_plural",{reward_type:scope.rewardTypeDescription()}):scope.pl(scope.entry_methods.length,"description_complete_one_singular","description_complete_one_plural",{reward_type:scope.rewardTypeDescription()}):null},scope.descriptionWithoutBottomMargin=function(){var ref;return("NameImageDesc"===(ref=scope.incentive.layout)||"YouTube"===ref||"Twitch"===ref)&&scope.requiresInitialLogin()&&!scope.contestantState.contestant.id&&!scope.campaign.paused&&(!scope.showPromotionEnded()||scope.isTestMode())&&(!scope.showPromotionStartsIn()||scope.isTestMode())&&(!scope.isTryingFeatures()||scope.isTestMode())&&!scope.campaign.banned&&scope.contestantState.location_allowed&&scope.cookiesEnabled},scope.imageHeight=function(){var widgetWidth;return 0===(widgetWidth=Math.min($($window).width(),topContainer.width()))?widgetWidth=0===lastPageWidth?540:lastPageWidth:lastPageWidth=widgetWidth,scope.incentive.medium_url||scope.incentive.single_image?"SideImage"===scope.incentive.layout?widgetWidth/540*175/scope.incentive.image_width*scope.incentive.image_height+"px":widgetWidth/scope.incentive.image_width*scope.incentive.image_height+"px":""}}}}]).directive("prizeSlider",["$timeout",function($timeout){return{restrict:"C",scope:{images:"@images",autoSlideInterval:"@autoSlideInterval",navigationColour:"@navigationColour"},template:"<nav class='prize-slider__nav'> <ul class='prize-slider__dots'> <li class='prize-slider__dot' ng-repeat='image in imageArray track by $index'> <a class='fa-circle' ng-class=\"{'fas': currentSlide==$index+1, 'far': currentSlide!=$index+1}\" ng-click='activateImage($index + 1)'></a> </li> </ul> </nav> <div class='prize-slider__slide-control prize-slider__left-slide' ng-mousedown='slideLeft()'><div class='fas fa-angle-left prize-slider__arrow prize-slider__left-arrow'></div></div> <div class='prize-slider__slide-control prize-slider__right-slide' ng-mousedown='slideRight()'><div class='fas fa-angle-right prize-slider__arrow prize-slider__right-arrow'></div></div> <div class='prize-slider__slideshow'><div class='prize-slider__content {{animate}} slide_{{$index + 1}}' ng-repeat='image in imageArray track by $index'> <div class='prize-slider__image'> <img ng-src='{{image.original_url}}'> </div> </div></div>",link:function(scope,element){var destroyed,hexToRgbA,hideSlide,navigationColour,navigationColourHover,resetTimer,resizeElements,runTransition,setAnimate,showSlide,slideFocus,slideTimeout,slideTimer,sliderWidth,slidesInSlideshow,slidesTimeIntervalInMs,zCounter;slidesTimeIntervalInMs=scope.autoSlideInterval||1e4,zCounter=1,sliderWidth=540,destroyed=!(slideFocus=!(slideTimer=null)),scope.currentSlide=1,scope.animate="animate",scope.imageArray=JSON.parse(scope.images),slidesInSlideshow=scope.imageArray.length,!!("ontouchstart"in window)||0<window.navigator.msMaxTouchPoints?element.addClass("prize-slider__fake-hover"):element.addClass("prize-slider__real-hover"),element.on("$destroy",function(){return destroyed=!0,$timeout.cancel(slideTimer)}),navigationColour=(hexToRgbA=function(hex,alpha){var c;if(null==alpha&&(alpha=1),/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex))return 3===(c=hex.substring(1).split("")).length&&(c=[c[0],c[0],c[1],c[1],c[2],c[2]]),"rgba("+[(c="0x"+c.join(""))>>16&255,c>>8&255,255&c].join(",")+","+alpha+")";throw new Error("Bad Hex")})(scope.navigationColour,.6),navigationColourHover=hexToRgbA(scope.navigationColour,1),element.find(".prize-slider__slide-control").css({color:navigationColour}),element.find(".prize-slider__slide-control").hover(function(){return $(this).css("color",navigationColourHover)},function(){return $(this).css("color",navigationColour)}),$timeout(function(){return element.find(".prize-slider__dot > a").css("color",navigationColour),element.find(".prize-slider__dot > a").hover(function(){return $(this).css("color",navigationColourHover)},function(){return $(this).css("color",navigationColour)})},0),$timeout(function(){var slide_1;(slide_1=element.find(".slide_1")).css("z-index",0),slide_1.show(),slide_1.addClass("slide-active")},0),$(window).on("blur focus",function(e){if($(this).data("prevType")!==e.type)switch(e.type){case"blur":slideFocus=!1;break;case"focus":slideFocus=!0}return $(this).data("prevType",e.type)}),resizeElements=function(){var height,width;if(!destroyed)return(width=element.width())!==sliderWidth&&(sliderWidth=width,height=Math.round(3*width/4),element.height(height),element.find(".prize-slider__image").css("width",width),element.find(".prize-slider__image").css("height",height)),$timeout(resizeElements,2e3)},showSlide=function(i){var img,prev_img;if(prev_img=void 0,(img=element.find(".slide_"+i)).hasClass("prize-slider__animating")){if(10<element.find(".prize-slider__content.clone").length)return;(img=(prev_img=img).clone()).off("transitionend webkitTransitionEnd oTransitionEnd"),prev_img.addClass("clone").removeClass("slide_"+i),img.removeClass("prize-slider__animating"),img.insertAfter(prev_img)}img.css("z-index",zCounter),zCounter++,element.find(".prize-slider__content").addClass("hide-me"),img.removeClass("ng-leave ng-leave-active ng-enter-active hide-me").addClass("prize-slider__animating ng-enter slide-active").show(),element.find(".slide-active.hide-me").each(function(){return hideSlide($(this))}),$timeout(function(){img.addClass("ng-enter-active"),img.one("transitionend webkitTransitionEnd oTransitionEnd",function(){img.hasClass("ng-enter")&&(img.removeClass("ng-enter ng-enter-active prize-slider__animating"),img.hasClass("hide-me")?hideSlide(img):img.hasClass("clone")&&$timeout(function(){return img.remove()},200))})},50)},hideSlide=function(img){img.hasClass("prize-slider__animating")||(img.removeClass("ng-enter ng-enter-active ng-leave-active slide-active").addClass("prize-slider__animating ng-leave"),$timeout(function(){img.addClass("ng-leave-active end-once"),img.one("transitionend webkitTransitionEnd oTransitionEnd",function(){img.hasClass("end-once")&&(img.removeClass("end-once"),$timeout(function(){img.removeClass("ng-leave ng-leave-active prize-slider__animating hide-me"),img.hide(),img.hasClass("clone")&&img.remove()},200))})},60))},runTransition=function(){showSlide(scope.currentSlide),scope.currentSlide},setAnimate=function(newAnimate){newAnimate!==scope.animate&&(element.find(".prize-slider__content").removeClass(scope.animate).addClass(newAnimate),scope.animate=newAnimate)},slideTimeout=function(){destroyed||(slideFocus&&(setAnimate("animate"),scope.currentSlide=scope.currentSlide%slidesInSlideshow+1,runTransition()),slideTimer=$timeout(slideTimeout,slidesTimeIntervalInMs))},resetTimer=function(){$timeout.cancel(slideTimer),slideTimer=$timeout(slideTimeout,slidesTimeIntervalInMs)},scope.slideLeft=function(){setAnimate("lanimate"),scope.currentSlide=(scope.currentSlide+slidesInSlideshow-2)%slidesInSlideshow+1,runTransition(),resetTimer(),document.getSelection().removeAllRanges()},scope.slideRight=function(){setAnimate("ranimate"),scope.currentSlide=scope.currentSlide%slidesInSlideshow+1,runTransition(),resetTimer(),document.getSelection().removeAllRanges()},scope.activateImage=function(index){index!==scope.currentSlide&&(index>=scope.currentSlide?setAnimate("ranimate"):setAnimate("lanimate"),scope.currentSlide=index,runTransition(),resetTimer())},slideTimer=$timeout(slideTimeout,slidesTimeIntervalInMs),$timeout(resizeElements,0)}}}])}.call(this),function(){angular.module("App.controllers").controller("CouponActionController",["$scope","$http","$filter","campaignService","translationService","fraudService",function($scope,$http,$filter,campaignService,translationService,fraudService){var ctrl;return ctrl=this,$scope.isLoading=!1,$scope.code="",$scope.error="",this.init=function(entry_method){if(this.entry_method=entry_method,campaignService.contestantState.contestant.claims.entry_method_coupons[entry_method.coupon.id])return entry_method.coupon.data=campaignService.contestantState.contestant.claims.entry_method_coupons[entry_method.coupon.id][0]},$scope.revealed=function(){var ref;return 0<(null!=(ref=ctrl.entry_method.coupon.data)?ref.length:void 0)},$scope.revealCoupon=function(){var _this;if(!$scope.revealed()&&!$scope.isLoading)return $scope.isLoading=!0,fraudService.callback((_this=this,function(){return $http({url:"/"+campaignService.campaign.key+"/"+_this.entry_method.id+"/claim",params:{f:fraudService.hashedFraud()}}).then(function(response){var ref;return null!=response.data.error?($scope.isLoading=!1,ctrl.entry_method.config3="button",void alert(null!=(ref=translationService.translate(response.data.error))?ref:response.data.error)):($scope.isLoading=!1,ctrl.entry_method.coupon.data=response.data.code)},function(){return $scope.isLoading=!1})}))},$scope.openCouponLink=function(){var url;return url=$filter("forceAbsoluteLink")(ctrl.entry_method.coupon.data),window.open(url,"_blank"),$scope.unexpand()},$scope.$on("entry-attempt",function(event,entry_method){if(entry_method.id===event.currentScope.entry_method.id)return"auto"===entry_method.config3?$scope.revealCoupon():void 0}),$scope.copySuccess=function(e){var obj;return(obj=$(e.trigger).tooltip({title:"Copied!",trigger:"manual",placement:"right"})).tooltip("show"),setTimeout(function(){return obj.tooltip("hide")},1e3)},$scope.copyFallback=function(text){return prompt("",text)},ctrl}])}.call(this),function(){angular.module("App.controllers").controller("EventbriteController",["$scope","$window","$element","$timeout",function($scope,$window,$element,$timeout){var HEIGHT_FUDGE,debounce,eventbriteWidgetUrl,handleEventbriteMessage,iframeElement,lastSeenIframeWidth,onMessageReceived,onWindowResize;return HEIGHT_FUDGE=3,eventbriteWidgetUrl=$scope.toTrustedUrl("https://www.eventbrite.com/tickets-external?eid="+$scope.entry_method.config3+"&ref=etckt&v=2"),lastSeenIframeWidth=null,$scope.iframe={height:256,src:eventbriteWidgetUrl},iframeElement=function(){return $element.find("iframe").get(0)},onMessageReceived=function(event){return $scope.$apply(function(){if(event.source===iframeElement().contentWindow)return handleEventbriteMessage(event.data)})},handleEventbriteMessage=function(data){if(null!=data.widgetHeight)return lastSeenIframeWidth=iframeElement().offsetWidth,$scope.iframe.height=data.widgetHeight+HEIGHT_FUDGE},debounce=function(fn,interval){var timeout;return timeout=null,function(){return timeout&&$timeout.cancel(timeout),timeout=$timeout(fn,interval)}},onWindowResize=function(){return $scope.$apply(function(){if(iframeElement().offsetWidth!==lastSeenIframeWidth)return $scope.iframe.src="",$timeout(function(){return $scope.iframe.src=eventbriteWidgetUrl},200)})},$window.addEventListener("message",onMessageReceived,!1),$window.addEventListener("resize",debounce(onWindowResize,500))}])}.call(this),function(){angular.module("App.controllers").controller("PollResultsController",["$scope","$http","$timeout","campaignService",function($scope,$http,$timeout,campaignService){var fetchResults,onFetchSucceeded,placeholderResults,resultsAreAvailable;return $scope.$on("entry-method-expanded",function(event,entry_method){if(entry_method.id===$scope.entry_method.id)return fetchResults()}),fetchResults=function(){if(resultsAreAvailable()&&!$scope.isLoading)return $scope.isLoading=!0,$http.get("/"+campaignService.campaign.key+"/"+$scope.entry_method.id+"/poll").then(onFetchSucceeded)["finally"](function(){return $scope.isLoading=!1})},resultsAreAvailable=function(){return campaignService.isEntered($scope.entry_method)&&$scope.entry_method.shows_content_after_entry},onFetchSucceeded=function(response){var fetchedIdx,fetchedResults,i,len,ref,result,results;for(fetchedResults=response.data.data.choices,results=[],i=0,len=(ref=$scope.results).length;i<len;i++)result=ref[i],0<=(fetchedIdx=fetchedResults.findIndex(function(r){return r.text===result.text}))?results.push(angular.merge(result,fetchedResults[fetchedIdx])):results.push(void 0);return results},placeholderResults=function(){return campaignService.choices($scope.entry_method).map(function(choice){return{text:choice}})},$scope.isNumber=angular.isNumber,$scope.percentage=function(factor){return Math.round(100*factor)+"%"},$scope.isLoading=!1,$scope.results=placeholderResults()}])}.call(this),function(){angular.entriesControllerPostEntry=function($scope,$filter){var allEntries,capitalize,confirmationImproveChanges,currentEntries,currentEntriesList,currentRedemptionsList,entryCount,entryMethodActionText,gallery_entry_types,initPostEntryPreview,pl,prospectiveEntriesList,remainingEntries,shareableEntries,splitEntriesOn,t;return t=$scope.t,pl=$scope.pl,gallery_entry_types=["facebook_media","instagram_choose","twitter_media","upload_action","youtube_video","media_action","soundcloud_choose","pinterest_choose_pin","pinterest_choose_board"],$scope.$watch("campaign.default_confirmation_email",function(){if($scope.campaign)return $scope.campaign.default_confirmation_email&&($scope.campaign.custom_confirmation_email=!1),$scope.campaign.suppress_email=!$scope.campaign.default_confirmation_email&&!$scope.campaign.custom_confirmation_email}),$scope.$watch("campaign.custom_confirmation_email",function(){if($scope.campaign)return $scope.campaign.custom_confirmation_email&&($scope.campaign.default_confirmation_email=!1),$scope.campaign.suppress_email=!$scope.campaign.default_confirmation_email&&!$scope.campaign.custom_confirmation_email}),splitEntriesOn=function(){var entriesCount;return(entriesCount=$scope.preview.allEntries.length)<=2?1:entriesCount<=5?2:3},allEntries=function(){return($scope.entry_methods||[]).filter(function(entry_method){return"true"!==entry_method._destroy&&"coupon_action"!==entry_method.entry_type&&!entry_method.entry_type.endsWith("_import")})},currentEntries=function(){return $scope.preview.allEntries.slice(0,+(splitEntriesOn()-1)+1||9e9)},remainingEntries=function(){return $scope.preview.allEntries.slice(splitEntriesOn())},shareableEntries=function(){return $scope.preview.allEntries.filter(function(entry_method){return-1<gallery_entry_types.indexOf(entry_method.entry_type)&&$scope.campaign.galleries})},currentEntriesList=function(){if(0<$scope.preview.currentEntries.length)return $scope.preview.currentEntries.map(function(entry_method){return $scope.isReward()?"<li>"+entryMethodActionText(entry_method)+"</li>":"<li>"+entryMethodActionText(entry_method)+" - "+entryCount(entry_method)+"</li>"}).join("")},confirmationImproveChanges=function(){var current_entries_count,remaining_entries_count;return remaining_entries_count=$scope.preview.remainingEntries.reduce(function(total,entry_method){return total+parseInt(entry_method.worth)},0),current_entries_count=$scope.preview.currentEntries.reduce(function(total,entry_method){return total+parseInt(entry_method.worth)},0),0<remaining_entries_count?pl($scope.preview.remainingEntries.length,"confirmation_improve_chances_singular","confirmation_improve_chances_plural",{percentage:Math.round(1*remaining_entries_count/current_entries_count*100)}):""},prospectiveEntriesList=function(){var entries;return 0<(entries=$scope.preview.remainingEntries).length?entries.map(function(entry_method){return null!=entry_method.entry_method_coupon_attributes?"<li>"+entryMethodActionText(entry_method)+" - "+t("optional_suffix")+"</li>":"<li>"+entryMethodActionText(entry_method)+" - "+pl(entry_method.worth,"entry_worth_singular","entry_worth_plural")+"</li>"}).join(""):""},currentRedemptionsList=function(){return $scope.preview.currentEntries.map(function(entry_method){return"<li>"+entryMethodActionText(entry_method)+"</li>"}).join("")},$scope.entryItem=function(entry_method){return $scope.isReward()?""+entryMethodActionText(entry_method):entryMethodActionText(entry_method)+" - <strong>"+entryCount(entry_method)+"</strong>"},$scope.initPostEntryPreview=initPostEntryPreview=function(){return $scope.preview={allEntries:allEntries()},$scope.preview.currentEntries=currentEntries(),$scope.preview.remainingEntries=remainingEntries(),$scope.preview.shareableEntries=shareableEntries(),$scope.isReward()?$scope.preview.currentRedemptionsList=currentRedemptionsList():($scope.preview.currentEntriesList=currentEntriesList(),$scope.preview.prospectiveEntriesList=prospectiveEntriesList(),$scope.preview.confirmationImproveChanges=confirmationImproveChanges()),$scope.preview.shareEntryWorth=($scope.entry_methods&&$scope.entry_methods.filter(function(entry_method){return"share_action"===entry_method.entry_type&&"true"!==entry_method._destroy})[0]||{worth:0}).worth},$scope.refreshPostEntryPreview=function(){var arr,k,ref,v;for(k in arr=[],ref=$("form.campaign").serializeJSON().campaign.entry_methods_attributes)"object"==typeof(v=ref[k])&&arr.push(v);return $scope.entry_methods=arr,initPostEntryPreview()},capitalize=function(string){return string.charAt(0).toUpperCase()+string.slice(1)},entryMethodActionText=function(entry_method){var channel_name,media,mediaKey,page_name,rx,text,username;return text=function(){var ref;switch(entry_method.entry_type){case"facebook_like":return t("confirmation_facebook_like",{page_name:entry_method.config2});case"facebook_visit":return t("confirmation_facebook_visit",{page_name:entry_method.config2||$filter("pathPart")(entry_method.config1)||"My Page"});case"facebook_check_in":return t("confirmation_facebook_check_in",{location_name:entry_method.config2});case"facebook_view_post":return mediaKey="video"===entry_method.config3?"media_object_video":"post"===entry_method.config3?"media_object_post":"media_object_photo",t("confirmation_facebook_view_post",{media:t(mediaKey)});case"facebook_share":return t("confirmation_facebook_share");case"messenger_subscribe":return t("facebook_messenger_subscribe",{page_name:entry_method.config2||$filter("pathPart")(entry_method.config1)||"My Page"});case"twitter_follow":return t("confirmation_twitter_follow",{username:entry_method.config1});case"twitter_retweet":return t("confirmation_twitter_retweet",{username:$filter("pathPart")(entry_method.config1,0,!1)});case"twitter_tweet":return t("confirmation_twitter_tweet");case"twitter_view_post":return t("confirmation_twitter_view_post");case"soundcloud_follow":return t("confirmation_soundcloud_follow",{username:$filter("pathPart")(entry_method.config1)});case"soundcloud_listen":return t("confirmation_soundcloud_listen",{song_name:entry_method.config4});case"soundcloud_like":return t("confirmation_soundcloud_like",{song_name:entry_method.config4});case"soundcloud_repost":return t("confirmation_soundcloud_repost",{song_name:entry_method.config4});case"spotify_follow":return t("confirmation_spotify_follow",{itemname:entry_method.config2||"Artist"});case"spotify_save":return t("confirmation_spotify_save",{itemname:entry_method.config2||"Track Name"});case"spotify_listen":return t("spotify_listen_prefix")+" "+(entry_method.config2||"Track Name")+" "+t("spotify_listen_suffix");case"spotify_presave":return t("confirmation_spotify_presave",{itemname:entry_method.config2});case"pinterest_follow":return t("confirmation_pinterest_follow",{username:entry_method.config1});case"pinterest_visit":return t("confirmation_pinterest_visit",{username:entry_method.config1});case"pinterest_pin":return t("confirmation_pinterest_pin");case"instagram_follow":return t("confirmation_instagram_follow",{username:entry_method.config3});case"instagram_like":return media="video"===entry_method.config1?"Video":"Photo",t("confirmation_instagram_like",{media:media});case"instagram_visit_profile":return t("confirmation_instagram_visit_profile",{username:entry_method.config1});case"instagram_view_post":return media="video"===entry_method.config3?"Video":"Photo",t("confirmation_instagram_view_post",{media:media});case"googleplus_plusone":return t("confirmation_googleplus_plusone",{page_name:entry_method.config2});case"googleplus_visit":return t("confirmation_googleplus_visit",{page_name:entry_method.config2});case"twitchtv_follow":return t("confirmation_twitchtv_follow",{username:entry_method.config1});case"custom_action":return entry_method.config1.replace(/.*\/\//,"");case"tumblr_follow":return t("confirmation_tumblr_follow",{domain:entry_method.config2});case"tumblr_like":return t("confirmation_tumblr_like");case"tumblr_reblog":return t("confirmation_tumblr_reblog");case"eventbrite_attend_event":return t("confirmation_eventbrite_attend_event",{event:entry_method.config2});case"eventbrite_attend_venue":return t("confirmation_eventbrite_attend_venue",{venue:entry_method.config2});case"steam_play_game":return t("confirmation_steam_play_game",{game:entry_method.config2});case"steam_join_group":return t("confirmation_steam_join_group",{group:entry_method.config2});case"goodreads_follow":return t("confirmation_goodreads_follow",{author_name:entry_method.config2});case"producthunt_follow":return t("confirmation_producthunt_follow",{username:entry_method.config1});case"producthunt_upvote":return rx=/^https?:\/\/(www\.)?producthunt\.com\/posts\/([^\/\?]+)$/,page_name=entry_method.config2||_.upperFirst((null!=(ref=rx.exec(entry_method.config1))?ref[2]:void 0)||""),t("confirmation_producthunt_upvote",{page_name:page_name});case"csv_import":return"CSV Import";case"snapchat_snapcode":return t("snapchat_user_details",{username:entry_method.config3});case"youtube_visit_channel":return channel_name=entry_method.config2||"this channel",t("youtube_visit_channel_prefix")+" "+channel_name+" "+t("youtube_visit_channel_suffix");case"patreon_visit":try{username=$filter("pathPart")(entry_method.config1)}catch(error){username="this page"}return t("patreon_visit_prefix")+" "+username+" "+t("patreon_visit_suffix");case"reddit_visit":return t("confirmation_reddit_visit",{subreddit:entry_method.config2||entry_method.config1});default:return"question"===entry_method.template?entry_method.config1+": "+entry_method.config4:""+entry_method.config1}}(),capitalize(text)},entryCount=function(entry_method){var entries_for_this_type,entries_worth;return null==entry_method.worth?t("optional_suffix"):0<parseInt(entry_method.interval_seconds)||"share_action"===entry_method.entry_type?(entries_for_this_type=2,entries_worth=entry_method.worth*entries_for_this_type,pl(entries_worth,"entry_worth_singular","entry_worth_plural")+" "+t("confirmation_for_times_entering",{count:entries_for_this_type})):pl(entry_method.worth,"entry_worth_singular","entry_worth_plural")}}}.call(this),function(){angular.module("App.controllers").controller("SpotifyListenController",["$scope","$interval","$timeout","campaignService",function($scope,$interval,$timeout,campaignService){var IFRAME_HEIGHTS,SECONDS,START_CHECK_INTERVAL,START_DELAY,UPDATE_INTERVAL,checkForListenStart,checkInterval,delayTimeout,entry_method,firstEnterableSpotifyListenAction,item,listenTimeTotal,pad,recentUnexpandCount,reset,shouldPreload,startListening,startedListeningAt,updateInterval,updateListening;return IFRAME_HEIGHTS={show:232,episode:232,"default":380},START_CHECK_INTERVAL=1*(SECONDS=1e3),START_DELAY=2*SECONDS,UPDATE_INTERVAL=.98*SECONDS,item=(entry_method=$scope.entry_method).spotify_listen.item,listenTimeTotal=parseInt(entry_method.config3),updateInterval=checkInterval=delayTimeout=startedListeningAt=null,recentUnexpandCount=0,$scope.iframe={id:"spotify_listen_embed_"+entry_method.id,height:IFRAME_HEIGHTS[item.type]||IFRAME_HEIGHTS["default"],src:$scope.toTrustedUrl("https://open.spotify.com/embed/"+item.type+"/"+item.id)},$scope.listenTimeRemaining=$scope.listenTimeTotal,$scope.shouldLoadIframe=function(){return campaignService.isExpanded(entry_method)||shouldPreload()},shouldPreload=function(){var first;return!(0<recentUnexpandCount)&&(null!=(first=firstEnterableSpotifyListenAction())&&first.id===entry_method.id)},firstEnterableSpotifyListenAction=function(){var em,i,len,ref;for(i=0,len=(ref=campaignService.entry_methods).length;i<len;i++)if("spotify_listen"===(em=ref[i]).entry_type&&campaignService.canEnter(em))return em;return null},$scope.formatDuration=function(duration){var hours,mins,secs;return secs=Math.floor(duration%60),mins=Math.floor(duration/60)%60,0<(hours=Math.floor(duration/3600))?hours+":"+pad(mins)+":"+pad(secs):mins+":"+pad(secs)},pad=function(n){return(n<10?"0":"")+n},$scope.$on("entry-method-expanded",function(event,expanded_entry_method){if(expanded_entry_method.id===entry_method.id)return reset()}),$scope.$on("entry-method-unexpanded",function(event,unexpanded_entry_method){if(unexpanded_entry_method.id===entry_method.id)return recentUnexpandCount+=1,$timeout(function(){return recentUnexpandCount-=1},500)}),reset=function(){return checkInterval&&$interval.cancel(checkInterval),updateInterval&&$interval.cancel(updateInterval),delayTimeout&&$timeout.cancel(delayTimeout),startedListeningAt=delayTimeout=updateInterval=checkInterval=null,$scope.listenTimeRemaining=listenTimeTotal,checkInterval=$interval(checkForListenStart,START_CHECK_INTERVAL)},checkForListenStart=function(){var e;if((e=document.activeElement)&&e.id===$scope.iframe.id)return $interval.cancel(checkInterval),delayTimeout=$timeout(startListening,START_DELAY)},startListening=function(){return startedListeningAt=new Date,updateInterval=$interval(updateListening,UPDATE_INTERVAL)},updateListening=function(){var listenTime;if(listenTime=(new Date).getTime()/SECONDS-startedListeningAt.getTime()/SECONDS,$scope.listenTimeRemaining=Math.floor(listenTimeTotal-listenTime),$scope.listenTimeRemaining<=0)return $scope.entry_method.timePassed=!0,$interval.cancel(updateInterval)}}])}.call(this),function(){angular.module("App.filters",[]).filter("stripUrlStart",function(){return function(input){return input.replace(/https?:\/\/(www\.)?/,"")}}).filter("cut",function(){return function(input,max){return input.length<=max?input:input.substr(0,max).replace(/[. ]$/,"")+" ..."}}).filter("trueFalse",function(){return function(input){return"1"===input?"true":"false"}}).filter("unescapeInterpolation",function(){return function(input){if(input)return(""+input).replace("\\{\\{","{{").replace("\\}\\}","}}")}}).filter("toSentence",function(){return function(input){var last;if(input&&input.join)return last=input[input.length-1],input.join(", ").replace(", "+last," and "+last)}}).filter("prettyDate",function(){return function(date){var day,monthIndex,monthNames,year;return day=(date=new Date(date)).getDate(),monthIndex=date.getMonth(),monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],year=date.getFullYear(),day+" "+monthNames[monthIndex]+", "+year}}).filter("toBoolean",function(){return function(value){var v;return value="function"==typeof value||!(!value||0===value.length)&&!("f"===(v=(""+value).toLowerCase())||"0"===v||"false"===v||"no"===v||"n"===v||"[]"===v)}}).filter("cloudfront",function(){return function(input,domain){return/amazonaws/.test(input)?input.replace(/https?:\/\/[^\/]+/i,"https://"+domain):input}}).filter("prettyNumber",function(){return function(input){return input?(input+"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):"0"}}).filter("prettyPrice",function(){return function(input,roundDown){var output;return input?(output=input,roundDown?output=Math.round(100*output)/100:0<parseFloat(output)-Math.floor(output)&&(output=(parseFloat(output)+.005).toFixed(2)),output=(output+"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")):"0"}}).filter("floor",function(){return function(input){return Math.floor(input)}}).filter("cents",function(){return function(input){var cents;if(0<=(cents=Math.round(input%1*100)))return(""+cents).replace(/^(\d)$/,"$10")}}).filter("tProvider",["translationService",function(translationService){return function(input){return"email"===input?translationService.translate(input):input&&input.toCapitalStart?input.toCapitalStart():input}}]).filter("onlyOnDesktop",function(){return function(input){return angular.browser.mobileDevice?null:input}}).filter("fixedColour",function(){return function(input){var result;if(input)return(result=(input+"").trim().replace(/#+/,"#")).match(/^([a-f0-9]{3}|[a-f0-9]{6})$/i)?"#"+result:result}}).filter(
"pathPart",function(){return function(input,index,replaceHyphens){var s;return null==index&&(index=0),null==replaceHyphens&&(replaceHyphens=!0),input?(s=input.replace(/[\?#&].*/,"").match(/^(?:https?:\/\/)?[^\/]+\/([^\/]+)\/?([^\/]+)?\/?([^\/]+)?\/?/)[index+1],replaceHyphens?s.replace(/-/g," "):s):""}}).filter("visibleTextColor",function(){return function(input){var cleaned;return input&&input.match(/^#?([0-9a-f]{3}){1,2}$/i)?(cleaned=input.replace(/#/,"").replace(/^([0-9a-f]{3})$/i,"$1$1"),224<parseInt(cleaned.substring(2,4),16)?"#333333":"#FFFFFF"):input}}).filter("myTz",function(){return function(dateTime,myOffsetSeconds){return new Date(dateTime.getTime()- -1e3*myOffsetSeconds)}}).filter("shortPlanName",function(){return function(input){return input.replace(/\s(Competitions|Rewards|Galleries|Captures|Package)$/,"")}}).filter("planTierName",function(){return function(input){var result;if(result=input.match(/Free|Hobby|Pro|Business|Premium/))return result[0]}}).filter("capitalize",function(){return function(input){if(input)return input.charAt(0).toUpperCase()+input.slice(1)}}).filter("tweetIdFromUrl",function(){return function(input){return input.match(/\/status\/(\d+)/i)[1]}}).filter("hideCreditCardNumbers",function(){return function(input){return input.replace(/.*(\d{4})$/,"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 $1")}}).filter("planClassNameSuffix",function(){return function(input){var cleaned;return(cleaned=input.toLowerCase().replace(/^Free /i,"").split(" "))[1]+"-"+cleaned[0]}}).filter("singluarize",function(){return function(input){if(input)return input.replace(/s$/i,"")}}).filter("providerIcon",function(){return function(provider){switch(provider){case"twitchtv":return"fab fa-twitch";case"email":return"far fa-envelope";case"steam":return"fab fa-steam-square";case"producthunt":return"fab fa-product-hunt";case"facebook":return"fab fa-facebook-f";case"linkedin":return"fab fa-linkedin-in";case"goodreads":return"fab fa-goodreads-g";default:return"fab fa-"+provider}}}).filter("validClassName",function(){return function(input){return input.toLowerCase().replace(new RegExp(" ","g"),"-")}}).filter("capitalStart",function(){return function(input){return input&&input.toCapitalStart?input.toCapitalStart():input}}).filter("firstPart",function(){return function(input){return(input+"").split(/[^a-z0-9]/i)[0]}}).filter("codesLength",function(){return function(input){return(input+"").trim().split(/[\n,]/i).length}}).filter("firstCode",function(){return function(input){return(input+"").trim().split(/[\n,]/i)[0]}}).filter("simpleUrl",function(){return function(input){return input.replace(/https?:\/\//,"").replace(/[\?#&].*/,"")}}).filter("forceHTML",function(){return function(input){var s;return(s=input||"").match(/<[^<]+>/)?s:s.replace(/\n/g,"<br/> ")}}).filter("maintainNewlines",function(){return function(input){return(input||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\r?\n/g,"<br>")}}).filter("rgb",function(){return function(input){var match;return(match=(input+"").match(/([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i))?parseInt(match[1],16)+","+parseInt(match[2],16)+","+parseInt(match[3],16):"0,0,0"}}).filter("encodeUrl",function(){return function(input){return encodeURIComponent(input)}}).filter("shortCycle",function(){return function(input){return new String(input).toLowerCase().replace(/ly/,"")}}).filter("appReferralLink",function(){return function(path,baseUrl,id){return baseUrl+(path||"/").replace(/^(https?:\/\/)?(gleam.io)?/,"").replace(/^([^\/])/,"/$1")+"?via="+id}}).filter("permalink",function(){return function(input){return input.toPermalink()}}).filter("hashtags",function(){return function(input){return input.replace(/^|,/g," #").trim()}}).filter("removeProtocol",function(){return function(input){if(input)return input.replace(/https?:\/\//,"//")}}).filter("facebookCDN",function(){return function(input){if(input)return input.replace(/^https?:\/\/sphotos[^\/]+/,"https://fbcdn-sphotos-b-a.akamaihd.net")}}).filter("i18nr",function(){return function(input,key1,value1,key2,value2){return key1?key2?input.replace(new RegExp("%\\{"+key1+"\\}","gi"),value1).replace(new RegExp("%\\{"+key2+"\\}","gi"),value2):input.replace(new RegExp("%\\{"+key1+"\\}","gi"),value1):input}}).filter("commaSplitHashtags",function(){return function(input){var j,len,ref,strs,t;if(strs=[],input){for(j=0,len=(ref=input.split(/\s*,\s*/)).length;j<len;j++)(t=ref[j])&&strs.push("#"+t.replace(/^#/,""));return strs.join(" ")}return input}}).filter("forceAbsoluteLink",function(){return function(input){if(input)return input.replace(/^(?!h?t?t?p?s?:?\/\/)/,"http://")}}).filter("numberShorthand",function(){return function(input,fractionSize){var abs,i,isNegative,key,labels,reduced,rounder;if(null===input)return null;if(0===input)return"0";for((!fractionSize||fractionSize<0)&&(fractionSize=1),abs=Math.abs(input),rounder=Math.pow(10,fractionSize),isNegative=input<0,key="",labels=[{key:"Q",value:Math.pow(10,15)},{key:"t",value:Math.pow(10,12)},{key:"b",value:Math.pow(10,9)},{key:"m",value:Math.pow(10,6)},{key:"k",value:1e3}],i=0;i<labels.length;){if(reduced=abs/labels[i].value,1<=(reduced=Math.round(reduced*rounder)/rounder)){abs=reduced,key=labels[i].key;break}i++}return(isNegative?"-":"")+abs+key}}).filter("kShorten",function(){return function(input,character){var s;return input&&(s=String(input)).match(/^\d+$/)?s.match(/^\d[1-9]\d\d$/)?s.replace(/^(\d+)(\d)\d\d$/,"$1.$2"+character):s.replace(/^(\d+)\d\d\d$/,"$1"+character):input}}).filter("commaSplit",function(){return function(input){return input?input.split(/, */):[]}}).filter("uniq",function(){return function(input){var a,j,len,ref,v;for(a=[],j=0,len=(ref=input||[]).length;j<len;j++)v=ref[j],-1===a.indexOf(v)&&a.push(v);return a}}).filter("normalizePattern",function(){return function(input){return input.replace(/^\/?\^?/,"").replace(/\$?\/?$/,"")}}).filter("wordcount",["wordCountService",function(wordCountService){return function(input){return wordCountService.count(input)}}]).filter("html2text",function(){return function(html_code){return html_code&&html_code.replace(/<\/?[^>]+(>|$)/g,"")}}).filter("unescapeAngular",function(){var unescape,unescapeArray,unescapeObject,unescapeString;return unescapeString=function(input){for(;-1!==input.indexOf("\\{\\{");)input=input.replace("\\{\\{","{{").replace("\\}\\}","}}");return input},unescapeArray=function(array){return array.map(function(item){return unescape(item)})},unescapeObject=function(object){var key,value;for(key in object)value=object[key],object[key]=unescape(value);return object},unescape=function(input){return"string"==typeof input?unescapeString(input):"array"==typeof input?unescapeArray(input):"object"==typeof input?unescapeObject(input):input}}).filter("tail",function(){return function(data){return data.slice(1)}}).filter("unescapeAmp",function(){return function(input){return input.replace(/&amp;/gi,"&")}}).filter("firstname",function(){return function(fullname){return fullname?(""+fullname).split(" ")[0]:""}}).filter("lastname",function(){return function(fullname){return fullname?(""+fullname).split(" ").slice(1).join(" "):""}}).filter("unescapeQuote",function(){return function(input){return input.replace(/&#39;/gi,"'")}})}.call(this),function(){var root,factory;root=this,factory=function(){var addEvent,customEvent,doc,hidden,idleStartedTime,idleTime,ie,ifvisible,init,initialized,status,trackIdleStatus,visibilityChange,cgid,listeners,setListener;return ifvisible={},doc=document,initialized=!1,status="active",idleStartedTime=!(idleTime=6e4),function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},listeners={},cgid="__ceGUID",setListener=!(customEvent={add:function(obj,event,callback){return obj[cgid]=undefined,obj[cgid]||(obj[cgid]="ifvisible.object.event.identifier"),listeners[obj[cgid]]||(listeners[obj[cgid]]={}),listeners[obj[cgid]][event]||(listeners[obj[cgid]][event]=[]),listeners[obj[cgid]][event].push(callback)},remove:function(obj,event,callback){var cl,i,j,len,ref;if(callback){if(obj[cgid]&&listeners[obj[cgid]]&&listeners[obj[cgid]][event])for(i=j=0,len=(ref=listeners[obj[cgid]][event]).length;j<len;i=++j)if((cl=ref[i])===callback)return listeners[obj[cgid]][event].splice(i,1),cl}else if(obj[cgid]&&listeners[obj[cgid]]&&listeners[obj[cgid]][event])return delete listeners[obj[cgid]][event]},fire:function(obj,event,memo){var ev,j,len,ref,results;if(obj[cgid]&&listeners[obj[cgid]]&&listeners[obj[cgid]][event]){for(results=[],j=0,len=(ref=listeners[obj[cgid]][event]).length;j<len;j++)ev=ref[j],results.push(ev(memo||{}));return results}}}),addEvent=function(el,ev,fn){return setListener||(setListener=el.addEventListener?function(el,ev,fn){return el.addEventListener(ev,fn,!1)}:el.attachEvent?function(el,ev,fn){return el.attachEvent("on"+ev,fn,!1)}:function(el,ev,fn){return el["on"+ev]=fn}),setListener(el,ev,fn)},function(element,event){var evt;return doc.createEventObject?element.fireEvent("on"+event,evt):((evt=doc.createEvent("HTMLEvents")).initEvent(event,!0,!0),!element.dispatchEvent(evt))},ie=function(){var all,check,div,undef,v;for(undef=void 0,v=3,div=doc.createElement("div"),all=div.getElementsByTagName("i"),check=function(){return div.innerHTML="<!--[if gt IE "+ ++v+"]><i></i><![endif]-->",all[0]};check(););return 4<v?v:undef}(),hidden=!1,visibilityChange=void 0,"undefined"!=typeof doc.hidden?(hidden="hidden",visibilityChange="visibilitychange"):"undefined"!=typeof doc.mozHidden?(hidden="mozHidden",visibilityChange="mozvisibilitychange"):"undefined"!=typeof doc.msHidden?(hidden="msHidden",visibilityChange="msvisibilitychange"):"undefined"!=typeof doc.webkitHidden&&(hidden="webkitHidden",visibilityChange="webkitvisibilitychange"),trackIdleStatus=function(){var timer,wakeUp;return timer=!1,(wakeUp=function(){return clearTimeout(timer),"active"!==status&&ifvisible.wakeup(),idleStartedTime=+new Date,timer=setTimeout(function(){if("active"===status)return ifvisible.idle()},idleTime)})(),addEvent(doc,"mousemove",wakeUp),addEvent(doc,"keyup",wakeUp),addEvent(doc,"touchstart",wakeUp),addEvent(window,"scroll",wakeUp),ifvisible.focus(wakeUp),ifvisible.wakeup(wakeUp)},init=function(){var blur;return!!initialized||(!1===hidden?(blur="blur",ie<9&&(blur="focusout"),addEvent(window,blur,function(){return ifvisible.blur()}),addEvent(window,"focus",function(){return ifvisible.focus()})):addEvent(doc,visibilityChange,function(){return doc[hidden]?ifvisible.blur():ifvisible.focus()},!1),initialized=!0,trackIdleStatus())},ifvisible={setIdleDuration:function(seconds){return idleTime=1e3*seconds},getIdleDuration:function(){return idleTime},getIdleInfo:function(){var now,res;return now=+new Date,res={},"idle"===status?(res.isIdle=!0,res.idleFor=now-idleStartedTime,res.timeLeft=0,res.timeLeftPer=100):(res.isIdle=!1,res.idleFor=now-idleStartedTime,res.timeLeft=idleStartedTime+idleTime-now,res.timeLeftPer=(100-100*res.timeLeft/idleTime).toFixed(2)),res},focus:function(callback){return"function"==typeof callback?this.on("focus",callback):(status="active",customEvent.fire(this,"focus"),customEvent.fire(this,"wakeup"),customEvent.fire(this,"statusChanged",{status:status})),this},blur:function(callback){return"function"==typeof callback?this.on("blur",callback):(status="hidden",customEvent.fire(this,"blur"),customEvent.fire(this,"idle"),customEvent.fire(this,"statusChanged",{status:status})),this},idle:function(callback){return"function"==typeof callback?this.on("idle",callback):(status="idle",customEvent.fire(this,"idle"),customEvent.fire(this,"statusChanged",{status:status})),this},wakeup:function(callback){return"function"==typeof callback?this.on("wakeup",callback):(status="active",customEvent.fire(this,"wakeup"),customEvent.fire(this,"statusChanged",{status:status})),this},on:function(name,callback){return init(),customEvent.add(this,name,callback),this},off:function(name,callback){return init(),customEvent.remove(this,name,callback),this},onEvery:function(seconds,callback){var paused,t;return init(),paused=!1,callback&&(t=setInterval(function(){if("active"===status&&!1===paused)return callback()},1e3*seconds)),{stop:function(){return clearInterval(t)},pause:function(){return paused=!0},resume:function(){return paused=!1},code:t,callback:callback}},now:function(check){return init(),status===(check||"active")}}},"function"==typeof define&&define.amd?define(function(){return factory()}):"object"==typeof exports?module.exports=factory():root.ifvisible=factory()}.call(this),function(){}.call(this),
/**
 * ng-FitText.js v4.2.3
 * https://github.com/patrickmarabeas/ng-FitText.js
 *
 * Original jQuery project: https://github.com/davatron5000/FitText.js
 *
 * Copyright 2015, Patrick Marabeas http://marabeas.io
 * Released under the MIT license
 * http://opensource.org/licenses/mit-license.php
 *
 * Date: 03/03/2017
 */
function(window,document,angular){"use strict";angular.module("ngFitText",[]).value("fitTextDefaultConfig",{debounce:!1,delay:250,loadDelay:10,compressor:1,min:0,max:Number.POSITIVE_INFINITY}).directive("fittext",["$timeout","fitTextDefaultConfig","fitTextConfig",function($timeout,config,fitTextConfig){return{restrict:"A",scope:!0,link:function(scope,element,attrs){function calculate(){var ratio=calcSize*newlines/domElem.offsetWidth/newlines;return Math.max(Math.min((parent[0].offsetWidth-(parseFloat(getComputedStyle(parent[0]).paddingLeft)+parseFloat(getComputedStyle(parent[0]).paddingRight))-6)*ratio*compressor,parseFloat(maxFontSize)),parseFloat(minFontSize))}function resize(){domElem.offsetHeight*domElem.offsetWidth!=0&&(domElemStyle.fontSize=calcSize+"px",domElemStyle.lineHeight="1",domElemStyle.display="inline-block",domElemStyle.fontSize=calculate()+"px",domElemStyle.lineHeight=lineHeight,domElemStyle.display=display)}function resizer(){resizePromise&&$timeout.cancel(resizePromise),resizePromise=$timeout(function(){resizePromise=null,resize()},5)}angular.extend(config,fitTextConfig.config);var resizePromise,parent=element.parent(),domElem=element[0],domElemStyle=domElem.style,computed=window.getComputedStyle(element[0],null),newlines=element.children().length||1,loadDelay=attrs.fittextLoadDelay||config.loadDelay,compressor=isNaN(parseInt(attrs.fittext))?config.compressor:attrs.fittext,min=attrs.fittextMin||config.min,max=attrs.fittextMax||config.max,minFontSize="inherit"===min?computed["font-size"]:min,maxFontSize="inherit"===max?computed["font-size"]:max,lineHeight=computed["line-height"],display=computed.display,calcSize=10;$timeout(function(){resizer()},loadDelay),scope.$watch(function(){return[scope.$eval(attrs.ngBind),parent[0].offsetWidth,element[0].offsetWidth].join("_")},function(){resizer()}),config.debounce?angular.element(window).bind("resize",config.debounce(function(){scope.$apply(resizer)},config.delay)):angular.element(window).bind("resize",function(){scope.$apply(resizer)})}}}]).provider("fitTextConfig",function(){var self=this;return this.config={},this.$get=function(){var extend={};return extend.config=self.config,extend},this})}(window,document,angular),
/*! ngclipboard - v1.1.1 - 2016-02-26
* https://github.com/sachinchoolur/ngclipboard
* Copyright (c) 2016 Sachin; Licensed MIT */
function(){"use strict";var angular,Clipboard,MODULE_NAME="ngclipboard";"object"==typeof module&&module.exports?(angular=require("angular"),Clipboard=require("clipboard"),module.exports=MODULE_NAME):(angular=window.angular,Clipboard=window.Clipboard),angular.module(MODULE_NAME,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(scope,element){var clipboard=new Clipboard(element[0]);clipboard.on("success",function(e){scope.$apply(function(){scope.ngclipboardSuccess({e:e})})}),clipboard.on("error",function(e){scope.$apply(function(){scope.ngclipboardError({e:e})})})}}})}(),
/*! angularjs-slider - v6.2.3 - 
 (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - 
 https://github.com/angular-slider/angularjs-slider - 
 2017-07-08 */
function(root,factory){"use strict";if("function"==typeof define&&define.amd)define(["angular"],factory);else if("object"==typeof module&&module.exports){var angularObj=angular||require("angular");angularObj&&angularObj.module||"undefined"==typeof angular||(angularObj=angular),module.exports=factory(angularObj)}else factory(root.angular)}(this,function(angular){"use strict";var module=angular.module("rzModule",[]).factory("RzSliderOptions",function(){var defaultOptions={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null,ariaLabel:null,ariaLabelledBy:null,ariaLabelHigh:null,ariaLabelledByHigh:null},globalOptions={},factory={options:function(value){angular.extend(globalOptions,value)},getOptions:function(options){return angular.extend({},defaultOptions,globalOptions,options)}};return factory}).factory("rzThrottle",["$timeout",function($timeout){return function(func,wait,options){var context,args,result,getTime=Date.now||function(){return(new Date).getTime()},timeout=null,previous=0;options=options||{};var later=function(){previous=getTime(),timeout=null,result=func.apply(context,args),context=args=null};return function(){var now=getTime(),remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0?($timeout.cancel(timeout),timeout=null,previous=now,result=func.apply(context,args),context=args=null):timeout||!1===options.trailing||(timeout=$timeout(later,remaining)),result}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function($timeout,$document,$window,$compile,RzSliderOptions,rzThrottle){var Slider=function(scope,sliderElem){this.scope=scope,this.lowValue=0,this.highValue=0,this.sliderElem=sliderElem,this.range=this.scope.rzSliderModel!==undefined&&this.scope.rzSliderHigh!==undefined,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return Slider.prototype={init:function(){var thrLow,thrHigh,self=this,calcDimFn=function(){self.calcViewDimensions()};this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",calcDimFn),angular.element($window).on("resize",calcDimFn),this.initHasRun=!0,thrLow=rzThrottle(function(){self.onLowHandleChange()},self.options.interval),thrHigh=rzThrottle(function(){self.onHighHandleChange()},self.options.interval),this.scope.$on("rzSliderForceRender",function(){self.resetLabelsValue(),thrLow(),self.range&&thrHigh(),self.resetSlider()}),this.scope.$watch("rzSliderOptions()",function(newValue,oldValue){newValue!==oldValue&&(self.applyOptions(),self.syncLowValue(),self.range&&self.syncHighValue(),self.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(newValue,oldValue){self.internalChange||newValue!==oldValue&&thrLow()}),this.scope.$watch("rzSliderHigh",function(newValue,oldValue){self.internalChange||newValue!==oldValue&&(null!=newValue&&thrHigh(),(self.range&&null==newValue||!self.range&&null!=newValue)&&(self.applyOptions(),self.resetSlider()))}),this.scope.$on("$destroy",function(){self.unbindEvents(),angular.element($window).off("resize",calcDimFn),self.currentFocusElement=null})},findStepIndex:function(modelValue){for(var index=0,i=0;i<this.options.stepsArray.length;i++){var step=this.options.stepsArray[i];if(step===modelValue){index=i;break}if(angular.isDate(step)){if(step.getTime()===modelValue.getTime()){index=i;break}}else if(angular.isObject(step)&&(angular.isDate(step.value)&&step.value.getTime()===modelValue.getTime()||step.value===modelValue)){index=i;break}}return index},syncLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel):this.lowValue=this.scope.rzSliderModel},syncHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh):this.highValue=this.scope.rzSliderHigh},getStepValue:function(sliderValue){var step=this.options.stepsArray[sliderValue];return angular.isDate(step)?step:angular.isObject(step)?step.value:step},applyLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue):this.scope.rzSliderModel=this.lowValue},applyHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue):this.scope.rzSliderHigh=this.highValue},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var sliderOptions;sliderOptions=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=RzSliderOptions.getOptions(sliderOptions),this.options.step<=0&&(this.options.step=1),this.range=this.scope.rzSliderModel!==undefined&&this.scope.rzSliderHigh!==undefined,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(angular.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(value){return String(value)},this.getLegend=this.options.getLegend),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(modelValue){return this.options.bindIndexForStepsArray?this.getStepValue(modelValue):modelValue},this.getLegend=function(index){var step=this.options.stepsArray[index];return angular.isObject(step)?step.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},initElemHandles:function(){angular.forEach(this.sliderElem.children(),function(elem,index){var jElem=angular.element(elem);switch(index){case 0:this.fullBar=jElem;break;case 1:this.selBar=jElem;break;case 2:this.minH=jElem;break;case 3:this.maxH=jElem;break;case 4:this.flrLab=jElem;break;case 5:this.ceilLab=jElem;break;case 6:this.minLab=jElem;break;case 7:this.maxLab=jElem;break;case 8:this.cmbLab=jElem;break;case 9:this.ticks=jElem}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var hideLabelsForTicks=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,hideLabelsForTicks||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,hideLabelsForTicks||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,hideLabelsForTicks||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(el,hide){(el.rzAlwaysHide=hide)?this.hideEl(el):this.showEl(el)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=undefined,this.maxLab.rzsv=undefined},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(value,label,which,useCustomTr){useCustomTr=useCustomTr===undefined||useCustomTr;var valStr="",getDimension=!1,noLabelInjection=label.hasClass("no-label-injection");useCustomTr?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(value=this.getStepValue(value)),valStr=String(this.customTrFn(value,this.options.id,which))):valStr=String(value),(label.rzsv===undefined||label.rzsv.length!==valStr.length||0<label.rzsv.length&&0===label.rzsd)&&(getDimension=!0,label.rzsv=valStr),noLabelInjection||label.html(valStr),this.scope[which+"Label"]=valStr,getDimension&&this.getDimension(label)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.options.ariaLabel?this.minH.attr("aria-label",this.options.ariaLabel):this.options.ariaLabelledBy&&this.minH.attr("aria-labelledby",this.options.ariaLabelledBy),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"),this.options.ariaLabelHigh?this.maxH.attr("aria-label",this.options.ariaLabelHigh):this.options.ariaLabelledByHigh&&this.maxH.attr("aria-labelledby",this.options.ariaLabelledByHigh))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var handleWidth=this.getDimension(this.minH);if(this.handleHalfDim=handleWidth/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-handleWidth,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun){this.updateFloorLab(),this.updateCeilLab(),this.initHandles();var self=this;$timeout(function(){self.updateTicksScale()})}},updateTicksScale:function(){if(this.options.showTicks){var ticksArray=this.options.ticksArray||this.getTicksArray(),translate=this.options.vertical?"translateY":"translateX",self=this;this.options.rightToLeft&&ticksArray.reverse(),this.scope.ticks=ticksArray.map(function(value){var position=self.valueToPosition(value);self.options.vertical&&(position=self.maxPos-position);var translation=translate+"("+Math.round(position)+"px)",tick={selected:self.isTickSelected(value),style:{"-webkit-transform":translation,"-moz-transform":translation,"-o-transform":translation,"-ms-transform":translation,transform:translation}};if(tick.selected&&self.options.getSelectionBarColor&&(tick.style["background-color"]=self.getSelectionBarColor()),!tick.selected&&self.options.getTickColor&&(tick.style["background-color"]=self.getTickColor(value)),self.options.ticksTooltip&&(tick.tooltip=self.options.ticksTooltip(value),tick.tooltipPlacement=self.options.vertical?"right":"top"),self.options.showTicksValues&&(tick.value=self.getDisplayValue(value,"tick-value"),self.options.ticksValuesTooltip&&(tick.valueTooltip=self.options.ticksValuesTooltip(value),tick.valueTooltipPlacement=self.options.vertical?"right":"top")),self.getLegend){var legend=self.getLegend(value,self.options.id);legend&&(tick.legend=legend)}return tick})}},getTicksArray:function(){var step=this.step,ticksArray=[];this.intermediateTicks&&(step=this.options.showTicks);for(var value=this.minValue;value<=this.maxValue;value+=step)ticksArray.push(value);return ticksArray},isTickSelected:function(value){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var center=this.options.showSelectionBarFromValue;if(this.lowValue>center&&center<=value&&value<=this.lowValue)return!0;if(this.lowValue<center&&value<=center&&value>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(value>=this.lowValue)return!0}else if(this.options.showSelectionBar&&value<=this.lowValue)return!0;return!!(this.range&&value>=this.lowValue&&value<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var position=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,position)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var position=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,position)},updateHandles:function(which,newPos){"lowValue"===which?this.updateLowHandle(newPos):this.updateHighHandle(newPos),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(labelName,newPos){var labelRzsd=this[labelName].rzsd,nearHandlePos=newPos-labelRzsd/2+this.handleHalfDim,endOfBarPos=this.barDimension-labelRzsd;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===labelName||!this.options.rightToLeft&&"maxLab"===labelName?Math.min(nearHandlePos,endOfBarPos):Math.min(Math.max(nearHandlePos,0),endOfBarPos):nearHandlePos},updateLowHandle:function(newPos){if(this.setPosition(this.minH,newPos),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",newPos)),this.options.getPointerColor){var pointercolor=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:pointercolor}}this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(newPos){if(this.setPosition(this.maxH,newPos),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",newPos)),this.options.getPointerColor){var pointercolor=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:pointercolor}}this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){if(!this.options.hidePointerLabels){var flHidden=!1,clHidden=!1,isMinLabAtFloor=this.isLabelBelowFloorLab(this.minLab),isMinLabAtCeil=this.isLabelAboveCeilLab(this.minLab),isMaxLabAtCeil=this.isLabelAboveCeilLab(this.maxLab),isCmbLabAtFloor=this.isLabelBelowFloorLab(this.cmbLab),isCmbLabAtCeil=this.isLabelAboveCeilLab(this.cmbLab);if(isMinLabAtFloor?(flHidden=!0,this.hideEl(this.flrLab)):(flHidden=!1,this.showEl(this.flrLab)),isMinLabAtCeil?(clHidden=!0,this.hideEl(this.ceilLab)):(clHidden=!1,this.showEl(this.ceilLab)),this.range){var hideCeil=this.cmbLabelShown?isCmbLabAtCeil:isMaxLabAtCeil,hideFloor=this.cmbLabelShown?isCmbLabAtFloor:isMinLabAtFloor;hideCeil?this.hideEl(this.ceilLab):clHidden||this.showEl(this.ceilLab),hideFloor?this.hideEl(this.flrLab):flHidden||this.showEl(this.flrLab)}}},isLabelBelowFloorLab:function(label){var isRTL=this.options.rightToLeft,pos=label.rzsp,dim=label.rzsd,floorPos=this.flrLab.rzsp,floorDim=this.flrLab.rzsd;return isRTL?floorPos-2<=pos+dim:pos<=floorPos+floorDim+2},isLabelAboveCeilLab:function(label){var isRTL=this.options.rightToLeft,pos=label.rzsp,dim=label.rzsd,ceilPos=this.ceilLab.rzsp,ceilDim=this.ceilLab.rzsd;return isRTL?pos<=ceilPos+ceilDim+2:ceilPos-2<=pos+dim},updateSelectionBar:function(){var position=0,dimension=0,isSelectionBarFromRight=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,positionForRange=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)dimension=Math.abs(this.maxH.rzsp-this.minH.rzsp),position=positionForRange;else if(null!==this.options.showSelectionBarFromValue){var center=this.options.showSelectionBarFromValue,centerPosition=this.valueToPosition(center);(this.options.rightToLeft?this.lowValue<=center:this.lowValue>center)?(dimension=this.minH.rzsp-centerPosition,position=centerPosition+this.handleHalfDim):(dimension=centerPosition-this.minH.rzsp,position=this.minH.rzsp+this.handleHalfDim)}else isSelectionBarFromRight?(dimension=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,position=this.minH.rzsp+this.handleHalfDim):(dimension=this.minH.rzsp+this.handleHalfDim,position=0);if(this.setDimension(this.selBar,dimension),this.setPosition(this.selBar,position),this.options.getSelectionBarColor){var color=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:color}}else if(this.options.selectionBarGradient){var offset=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0,reversed=0<offset-position^isSelectionBarFromRight,direction=this.options.vertical?reversed?"bottom":"top":reversed?"left":"right";this.scope.barStyle={backgroundImage:"linear-gradient(to "+direction+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(offset+dimension+position+(reversed?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=offset-position+(reversed?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%")}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(pointerType){return"max"===pointerType?this.options.getPointerColor(this.scope.rzSliderHigh,pointerType):this.options.getPointerColor(this.scope.rzSliderModel,pointerType)},getTickColor:function(value){return this.options.getTickColor(value)},updateCmbLabel:function(){if(this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var lowTr=this.getDisplayValue(this.lowValue,"model"),highTr=this.getDisplayValue(this.highValue,"high"),labelVal="";labelVal=this.options.mergeRangeLabelsIfSame&&lowTr===highTr?lowTr:this.options.rightToLeft?highTr+" - "+lowTr:lowTr+" - "+highTr,this.translateFn(labelVal,this.cmbLab,"cmb",!1);var pos=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,pos),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.cmbLabelShown=!1,this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab);this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(value,which){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(value=this.getStepValue(value)),this.customTrFn(value,this.options.id,which)},roundStep:function(value,customStep){var step=customStep||this.step,steppedDifference=parseFloat((value-this.minValue)/step).toPrecision(12);return steppedDifference=Math.round(+steppedDifference)*step,+(this.minValue+steppedDifference).toFixed(this.precision)},hideEl:function(element){return element.css({visibility:"hidden"})},showEl:function(element){return element.rzAlwaysHide?element:element.css({visibility:"visible"})},setPosition:function(elem,pos){elem.rzsp=pos;var css={};return css[this.positionProperty]=Math.round(pos)+"px",elem.css(css),pos},getDimension:function(elem){var val=elem[0].getBoundingClientRect();return this.options.vertical?elem.rzsd=(val.bottom-val.top)*this.options.scale:elem.rzsd=(val.right-val.left)*this.options.scale,elem.rzsd},setDimension:function(elem,dim){elem.rzsd=dim;var css={};return css[this.dimensionProperty]=Math.round(dim)+"px",elem.css(css),dim},sanitizeValue:function(val){return Math.min(Math.max(val,this.minValue),this.maxValue)},valueToPosition:function(val){var fn=this.linearValueToPosition;this.options.customValueToPosition?fn=this.options.customValueToPosition:this.options.logScale&&(fn=this.logValueToPosition);var percent=fn(val=this.sanitizeValue(val),this.minValue,this.maxValue)||0;return this.options.rightToLeft&&(percent=1-percent),percent*this.maxPos},linearValueToPosition:function(val,minVal,maxVal){return(val-minVal)/(maxVal-minVal)},logValueToPosition:function(val,minVal,maxVal){return((val=Math.log(val))-(minVal=Math.log(minVal)))/((maxVal=Math.log(maxVal))-minVal)},positionToValue:function(position){var percent=position/this.maxPos;this.options.rightToLeft&&(percent=1-percent);var fn=this.linearPositionToValue;return this.options.customPositionToValue?fn=this.options.customPositionToValue:this.options.logScale&&(fn=this.logPositionToValue),fn(percent,this.minValue,this.maxValue)||0},linearPositionToValue:function(percent,minVal,maxVal){return percent*(maxVal-minVal)+minVal},logPositionToValue:function(percent,minVal,maxVal){minVal=Math.log(minVal);var value=percent*((maxVal=Math.log(maxVal))-minVal)+minVal;return Math.exp(value)},getEventAttr:function(event,attr){return event.originalEvent===undefined?event[attr]:event.originalEvent[attr]},getEventXY:function(event,targetTouchId){var clientXY=this.options.vertical?"clientY":"clientX";if(event[clientXY]!==undefined)return event[clientXY];var touches=this.getEventAttr(event,"touches");if(targetTouchId!==undefined)for(var i=0;i<touches.length;i++)if(touches[i].identifier===targetTouchId)return touches[i][clientXY];return touches[0][clientXY]},getEventPosition:function(event,targetTouchId){var sliderPos=this.sliderElem.rzsp;return(this.options.vertical?-this.getEventXY(event,targetTouchId)+sliderPos:this.getEventXY(event,targetTouchId)-sliderPos)*this.options.scale-this.handleHalfDim},getEventNames:function(event){var eventNames={moveEvent:"",endEvent:""};return this.getEventAttr(event,"touches")?(eventNames.moveEvent="touchmove",eventNames.endEvent="touchend"):(eventNames.moveEvent="mousemove",eventNames.endEvent="mouseup"),eventNames},getNearestHandle:function(event){if(!this.range)return this.minH;var position=this.getEventPosition(event),distanceMin=Math.abs(position-this.minH.rzsp),distanceMax=Math.abs(position-this.maxH.rzsp);return distanceMin<distanceMax?this.minH:distanceMax<distanceMin?this.maxH:this.options.rightToLeft?position>this.minH.rzsp?this.minH:this.maxH:position<this.minH.rzsp?this.minH:this.maxH},focusElement:function(el){el[0].focus()},bindEvents:function(){var barTracking,barStart,barMove;this.options.draggableRange?(barTracking="rzSliderDrag",barStart=this.onDragStart,barMove=this.onDragMove):(barTracking="lowValue",barStart=this.onStart,barMove=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",angular.bind(this,barStart,null,barTracking)),this.selBar.on("mousedown",angular.bind(this,barMove,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",angular.bind(this,barStart,null,barTracking)),this.maxH.on("mousedown",angular.bind(this,barStart,null,barTracking))):(this.minH.on("mousedown",angular.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",angular.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",angular.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",angular.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",angular.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",angular.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",angular.bind(this,barStart,null,barTracking)),this.selBar.on("touchstart",angular.bind(this,barMove,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",angular.bind(this,barStart,null,barTracking)),this.maxH.on("touchstart",angular.bind(this,barStart,null,barTracking))):(this.minH.on("touchstart",angular.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",angular.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",angular.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",angular.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",angular.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",angular.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",angular.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",angular.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(pointer,ref,event){var ehMove,ehEnd,eventNames=this.getEventNames(event);event.stopPropagation(),event.preventDefault(),this.calcViewDimensions(),pointer?this.tracking=ref:(pointer=this.getNearestHandle(event),this.tracking=pointer===this.minH?"lowValue":"highValue"),pointer.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(pointer),ehMove=angular.bind(this,this.dragging.active?this.onDragMove:this.onMove,pointer),ehEnd=angular.bind(this,this.onEnd,ehMove),$document.on(eventNames.moveEvent,ehMove),$document.on(eventNames.endEvent,ehEnd),this.endHandlerToBeRemovedOnEnd=ehEnd,this.callOnStart();var changedTouches=this.getEventAttr(event,"changedTouches");changedTouches&&(this.touchId||(this.isDragging=!0,this.touchId=changedTouches[0].identifier))},onMove:function(pointer,event,fromTick){var touchForThisSlider,changedTouches=this.getEventAttr(event,"changedTouches");if(changedTouches)for(var i=0;i<changedTouches.length;i++)if(changedTouches[i].identifier===this.touchId){touchForThisSlider=changedTouches[i];break}if(!changedTouches||touchForThisSlider){var newValue,newPos=this.getEventPosition(event,touchForThisSlider?touchForThisSlider.identifier:undefined),ceilValue=this.options.rightToLeft?this.minValue:this.maxValue,flrValue=this.options.rightToLeft?this.maxValue:this.minValue;newPos<=0?newValue=flrValue:newPos>=this.maxPos?newValue=ceilValue:(newValue=this.positionToValue(newPos),newValue=fromTick&&angular.isNumber(this.options.showTicks)?this.roundStep(newValue,this.options.showTicks):this.roundStep(newValue)),this.positionTrackingHandle(newValue)}},onEnd:function(ehMove,event){var changedTouches=this.getEventAttr(event,"changedTouches");if(!changedTouches||changedTouches[0].identifier===this.touchId){this.isDragging=!1,this.touchId=null,this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1;var eventName=this.getEventNames(event);$document.off(eventName.moveEvent,ehMove),$document.off(eventName.endEvent,this.endHandlerToBeRemovedOnEnd),this.endHandlerToBeRemovedOnEnd=null,this.callOnEnd()}},onTickClick:function(pointer,event){this.onMove(pointer,event,!0)},onPointerFocus:function(pointer,ref){this.tracking=ref,pointer.one("blur",angular.bind(this,this.onPointerBlur,pointer)),pointer.on("keydown",angular.bind(this,this.onKeyboardEvent)),pointer.on("keyup",angular.bind(this,this.onKeyUp)),this.firstKeyDown=!0,pointer.addClass("rz-active"),this.currentFocusElement={pointer:pointer,ref:ref}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(pointer){pointer.off("keydown"),pointer.off("keyup"),pointer.removeClass("rz-active"),this.isDragging||(this.tracking="",this.currentFocusElement=null)},getKeyActions:function(currentValue){var increaseStep=currentValue+this.step,decreaseStep=currentValue-this.step,actions={UP:increaseStep,DOWN:decreaseStep,LEFT:decreaseStep,RIGHT:increaseStep,PAGEUP:currentValue+this.valueRange/10,PAGEDOWN:currentValue-this.valueRange/10,HOME:this.minValue,END:this.maxValue};return this.options.rightToLeft&&(actions.LEFT=increaseStep,actions.RIGHT=decreaseStep,this.options.vertical&&(actions.UP=decreaseStep,actions.DOWN=increaseStep)),actions},onKeyboardEvent:function(event){var currentValue=this[this.tracking],keyCode=event.keyCode||event.which,keys={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},action=this.getKeyActions(currentValue)[keys[keyCode]];if(null!=action&&""!==this.tracking){event.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart());var self=this;$timeout(function(){var newValue=self.roundStep(self.sanitizeValue(action));if(self.options.draggableRangeOnly){var newMinValue,newMaxValue,difference=self.highValue-self.lowValue;"lowValue"===self.tracking?(newMaxValue=(newMinValue=newValue)+difference)>self.maxValue&&(newMinValue=(
newMaxValue=self.maxValue)-difference):(newMinValue=(newMaxValue=newValue)-difference)<self.minValue&&(newMaxValue=(newMinValue=self.minValue)+difference),self.positionTrackingBar(newMinValue,newMaxValue)}else self.positionTrackingHandle(newValue)})}},onDragStart:function(pointer,ref,event){var position=this.getEventPosition(event);this.dragging={active:!0,value:this.positionToValue(position),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-position:position-this.minH.rzsp,highLimit:this.options.rightToLeft?position-this.maxH.rzsp:this.maxH.rzsp-position},this.onStart(pointer,ref,event)},getValue:function(type,newPos,outOfBounds,isAbove){var isRTL=this.options.rightToLeft,value=null;return value="min"===type?outOfBounds?isAbove?isRTL?this.minValue:this.maxValue-this.dragging.difference:isRTL?this.maxValue-this.dragging.difference:this.minValue:isRTL?this.positionToValue(newPos+this.dragging.lowLimit):this.positionToValue(newPos-this.dragging.lowLimit):outOfBounds?isAbove?isRTL?this.minValue+this.dragging.difference:this.maxValue:isRTL?this.maxValue:this.minValue+this.dragging.difference:isRTL?this.positionToValue(newPos+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(newPos-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(value)},onDragMove:function(pointer,event){var newMinValue,newMaxValue,ceilLimit,flrLimit,isUnderFlrLimit,isOverCeilLimit,flrH,ceilH,newPos=this.getEventPosition(event);if(this.options.rightToLeft?(ceilLimit=this.dragging.lowLimit,flrLimit=this.dragging.highLimit,flrH=this.maxH,ceilH=this.minH):(ceilLimit=this.dragging.highLimit,flrLimit=this.dragging.lowLimit,flrH=this.minH,ceilH=this.maxH),isUnderFlrLimit=newPos<=flrLimit,isOverCeilLimit=newPos>=this.maxPos-ceilLimit,isUnderFlrLimit){if(0===flrH.rzsp)return;newMinValue=this.getValue("min",newPos,!0,!1),newMaxValue=this.getValue("max",newPos,!0,!1)}else if(isOverCeilLimit){if(ceilH.rzsp===this.maxPos)return;newMaxValue=this.getValue("max",newPos,!0,!0),newMinValue=this.getValue("min",newPos,!0,!0)}else newMinValue=this.getValue("min",newPos,!1),newMaxValue=this.getValue("max",newPos,!1);this.positionTrackingBar(newMinValue,newMaxValue)},positionTrackingBar:function(newMinValue,newMaxValue){null!=this.options.minLimit&&newMinValue<this.options.minLimit&&(newMaxValue=(newMinValue=this.options.minLimit)+this.dragging.difference),null!=this.options.maxLimit&&newMaxValue>this.options.maxLimit&&(newMinValue=(newMaxValue=this.options.maxLimit)-this.dragging.difference),this.lowValue=newMinValue,this.highValue=newMaxValue,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(!0),this.updateHandles("lowValue",this.valueToPosition(newMinValue)),this.updateHandles("highValue",this.valueToPosition(newMaxValue))},positionTrackingHandle:function(newValue){var valueChanged=!1;newValue=this.applyMinMaxLimit(newValue),this.range&&(this.options.pushRange?(newValue=this.applyPushRange(newValue),valueChanged=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&newValue>this.highValue?newValue=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&newValue<this.lowValue&&(newValue=this.applyMinMaxRange(this.lowValue))),newValue=this.applyMinMaxRange(newValue),"lowValue"===this.tracking&&newValue>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.applyModel(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),valueChanged=!0):"highValue"===this.tracking&&newValue<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),valueChanged=!0))),this[this.tracking]!==newValue&&(this[this.tracking]=newValue,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.valueToPosition(newValue)),this.updateAriaAttributes(),valueChanged=!0),valueChanged&&this.applyModel(!0)},applyMinMaxLimit:function(newValue){return null!=this.options.minLimit&&newValue<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&newValue>this.options.maxLimit?this.options.maxLimit:newValue},applyMinMaxRange:function(newValue){var oppositeValue="lowValue"===this.tracking?this.highValue:this.lowValue,difference=Math.abs(newValue-oppositeValue);return null!=this.options.minRange&&difference<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&difference>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:newValue},applyPushRange:function(newValue){var difference="lowValue"===this.tracking?this.highValue-newValue:newValue-this.lowValue,minRange=null!==this.options.minRange?this.options.minRange:this.options.step,maxRange=this.options.maxRange;return difference<minRange?("lowValue"===this.tracking?(this.highValue=Math.min(newValue+minRange,this.maxValue),newValue=this.highValue-minRange,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(newValue-minRange,this.minValue),newValue=this.lowValue+minRange,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==maxRange&&maxRange<difference&&("lowValue"===this.tracking?(this.highValue=newValue+maxRange,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=newValue-maxRange,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),newValue},applyModel:function(callOnChange){this.internalChange=!0,this.scope.$apply(),callOnChange&&this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var self=this,pointerType="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){self.options.onStart(self.options.id,self.scope.rzSliderModel,self.scope.rzSliderHigh,pointerType)})}},callOnChange:function(){if(this.options.onChange){var self=this,pointerType="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){self.options.onChange(self.options.id,self.scope.rzSliderModel,self.scope.rzSliderHigh,pointerType)})}},callOnEnd:function(){if(this.options.onEnd){var self=this,pointerType="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){self.options.onEnd(self.options.id,self.scope.rzSliderModel,self.scope.rzSliderHigh,pointerType)})}this.scope.$emit("slideEnded")}},Slider}]).directive("rzslider",["RzSlider",function(RzSlider){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(elem,attrs){return attrs.rzSliderTplUrl||"rzSliderTpl.html"},link:function(scope,elem){scope.slider=new RzSlider(scope,elem)}}}]);return module.run(["$templateCache",function($templateCache){$templateCache.put("rzSliderTpl.html",'<div class=rzslider><span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),module.name}),function(){angular.module("App.services",[],["$provide",function($provide){return $provide.factory("jQuery",["$window",function($window){return $window.jQuery}]),$provide.factory("moment",["$window",function($window){return $window.moment}]),$provide.factory("fraudService",["$window",function($window){return $window.fraudService}]),$provide.factory("eventService",["$http",function($http){var createEvent;return{createEvent:createEvent=function(key,type,description,data){return $http.post("/events",{campaign_key:key,event_type:type,description:description,data:data})},createLikeEvent:function(key,description,data){return createEvent(key,"Facebook Visit Like",description,data)}}}]),$provide.factory("tierService",["$http",function($http){return{fetchContestantData:function(campaign,options){return $http.post("/tiers",{campaign:campaign.key}).then(function(response){return options.success(response)})["catch"](function(response){return options.error(response)})}}}]),$provide.factory("translationService",[function(){var _bundle,key,ref,translate,value;if(_bundle={},window.messageBundle)for(key in ref=window.messageBundle)value=ref[key],_bundle[key]=value;return{translate:translate=function(key,replacements){var str,token;if((str=_bundle[key])&&replacements)for(token in replacements)value=replacements[token],str=str.replace(new RegExp("%\\{"+token+"\\}","gi"),value);return str&&str.replace(/%%/gi,"%")},pluralize:function(count,singular,plural,map){return null==map&&(map={}),count=parseInt(count),map.count=count,translate(1===count?singular:plural,map)},updateBundle:function(messageBundle){var ref1,results;for(key in _bundle={},window.messageBundle=messageBundle,results=[],ref1=window.messageBundle)value=ref1[key],results.push(_bundle[key]=value);return results}}}]),$provide.factory("verifyValueService",["$http",function($http){return{check:function(value,entry_method,options){return $http.get("/verify-value/"+entry_method.id+"?v="+encodeURIComponent(value)).then(function(response){return options.success(response.data)})["catch"](function(response){return options.error(response.data)})}}}]),$provide.factory("randomService",[function(){var f,symbols;return f=function(count){var s;return s=symbols[16*Math.random()|0],1<count&&(s+=f(count-1)),s},symbols=["!","@","#","$","%","^","&","*","(",")","_","=","-","|","~","."],{hexSymbols:function(count){return f(count)}}}]),$provide.factory("formService",[function(){return{postForm:function(action,params){var $submitForm,id,name,value;for(name in id="form"+(new Date).getTime(),$submitForm=$('<form method=post><input name="utf8" type="hidden" value="&#x2713;" /></form>').attr("action",action).attr("id",id).append($("<input name='authenticity_token' type='hidden'>").val($("meta[name=csrf-token]").attr("content"))),params)value=params[name],$submitForm.append("<input type='hidden' name='"+name+"' />"),$submitForm.find("[name='"+name+"']").val(value);return $("body").append($submitForm),$("#"+id).submit()}}}]),$provide.factory("userService",["$http","formService",function($http,formService){var accessToken,emailDomainExcudes,parseCompanyUrl,parseUserName,signedRequest;return signedRequest=function(){if(window.FB&&FB.getAuthResponse())return FB.getAuthResponse().signedRequest},accessToken=function(){if(window.FB&&FB.getAuthResponse())return FB.getAuthResponse().accessToken},emailDomainExcudes=/@(gmail|googlemail|hotmail|aol|live|bigpond|yahoo|me|ymail)\./,{emailExists:function(email,options){return $http.get("/users/email-exists",{params:{email:email}}).then(function(response){var data;return"Y"===(data=response.data)?options.existing(data):options["new"](data),options.complete(data)})},login:function(email,password){return formService.postForm("/login",{"user[email]":email,"user[password]":password})},submitUser:function(email,name,password,siteName,siteUrl,facebookLogin){var params;return params={"user[email]":email,"user[name]":name,"user[sites_attributes][0][name]":siteName,"user[sites_attributes][0][url]":siteUrl},facebookLogin?params.signed_request=signedRequest():params["user[password]"]=password,formService.postForm("/signup",params)},sendLead:function(email,leadType,name,site_name){return $http.post("/leads",{email:email,name:name,site_name:site_name,site_url:site_name,signed_request:signedRequest(),access_token:accessToken(),lead_type:leadType})},parseUserName:parseUserName=function(email){return(email||"").replace(/[+@].*/,"").replace(/[^a-z]+/gi," ").trim().toProperCase()},parseCompanyUrl:parseCompanyUrl=function(email,url){var best;if(url)best=url;else{if(!email||email.match(emailDomainExcudes))return null;best=email.replace(/.*@/,"")}return best.replace(/^(?!https?:\/\/)/i,"http://")},parseCompanyName:function(email,url){return(url||parseCompanyUrl(email,url)||"").replace(/https?:\/\//i,"").toProperCase()||parseUserName(email)}}}]),$provide.factory("facebookLoginService",["$http","userService",function($http,userService){var accessToken,signedRequest;return signedRequest=function(){return FB.getAuthResponse().signedRequest},accessToken=function(){return FB.getAuthResponse().accessToken},{parsePermissions:function(response){var i,len,p,ref,v;if(response&&response.data){if(response.data[0].permission){for(v={},i=0,len=(ref=response.data).length;i<len;i++)"granted"===(p=ref[i]).status&&(v[p.permission]=1);return v}return response.data[0]}return{}},gleamLogin:function(){var $submitForm;return $("#facebook-login").remove(),($submitForm=$('<form id="facebook-login" action="/facebook-login" method=post><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="" /><input name="signed_request" type="hidden" value="" /><input name="access_token" type="hidden" value="" /></form>')).find("[name=authenticity_token]").val($("meta[name=csrf-token]").attr("content")),$submitForm.find("[name=signed_request]").val(signedRequest()),$submitForm.find("[name=access_token]").val(accessToken()),$("body").append($submitForm),$("#facebook-login").submit()},getDetails:function(callback){return FB.api("/me?fields=name,email,website",function(response){var email,firstWebsite,name,siteName,siteUrl;return name=response.name||userService.parseUserName(email),email=response.email,siteUrl=(firstWebsite=response.website?response.website.split(/\n/)[0]:null)||userService.parseCompanyUrl(email,firstWebsite),siteName=userService.parseCompanyName(email,siteUrl),callback.call(this,email,name,siteName,siteUrl)})},existingUserCheck:function(options){return $http.get("/existing-facebook-user",{params:{signed_request:signedRequest(),access_token:accessToken()}}).then(function(response){return"Y"===response.data?options.existing(response.data):options["new"](response.data)})}}}]),$provide.factory("pinterestService",["$http",function(){return{validateUsername:function(username,options){return $.ajax({type:"HEAD",async:!0,dataType:"jsonp",url:"https://api.pinterest.com/v3/pidgets/users/"+username+"/pins"}).done(function(data){return"success"===data.status?options.valid(data):options.error(data)}).fail(function(data){return options.error(data)})}}}]),$provide.factory("shortenerService",["$http",function(){return{shortenLocal:function(long_url,url,method,options){return $.ajax({url:url,dataType:"jsonp",data:{method:method,longUrl:long_url,format:"json"},success:function(data){return options.success(data)}})},shortenRemote:function(long_url,url,username,api_key,options){return $.ajax({url:url,dataType:"jsonp",data:{login:username,apiKey:api_key,longUrl:long_url,format:"json"},success:function(data){return options.success(data)}})}}}])}])}.call(this),function(){angular.module("App.services").service("actionsConfig",["$injector",function($injector){return function(entry_type){var config,provider;provider=entry_type.split("_")[0];try{config=$injector.get(provider+"ConfigService")}catch(error){config={}}return config&&config[entry_type]||{}}}])}.call(this),function(){angular.module("App.services").factory("couponConfigService",function(){return{coupon_action:{alwaysRequireContactInfo:!0,alwaysRequireContactInfoFirst:!0}}})}.call(this),function(){angular.module("App.services").factory("customConfigService",["translationService","campaignService","$filter",function(translationService,campaignService,$filter){var actionPerformed,answerMatches,answerQuestionContinueTooltip;return actionPerformed=function(entry_method){return!(!entry_method.config.actionKey||!entry_method.config.actionKey(entry_method))&&campaignService.actionPerformed(entry_method)},answerMatches=function(answer,options){var answerLowerCase,answerUpperCase;return options=decodeURIComponent(atob(options).replace(/\+/g," ")),answerLowerCase=answer.toLowerCase(),answerUpperCase=answer.toUpperCase(),options.split(/\r|\n/).find(function(option){var regex;if(option=option.trim())return regex=new RegExp(option),answer.match(regex)||answerLowerCase.match(regex)||answerUpperCase.match(regex)})},answerQuestionContinueTooltip=function(entry_method){var value;if(value=campaignService.entryState.formData[entry_method.id],"1"===entry_method.config5&&value){if(entry_method.config9&&$filter("wordcount")(value)>Number(entry_method.config9))return translationService.translate("tooltip_custom_action_too_many_words");if(entry_method.config8&&!answerMatches(value,entry_method.config8))return translationService.translate("tooltip_custom_action_incorrect_answer")}},{custom_action:{continueDisabled:function(entry_method){var name,ref,ref1;if(this.timerAction(entry_method)&&!entry_method.timePassed)return!0;if("Ask a question"===entry_method.method_type)return"good"!==campaignService.verifyStatus(entry_method)||!campaignService.entryState.formData[entry_method.id];if(entry_method.template){if("blog_comment"===entry_method.template)return"good"!==campaignService.verifyStatus(entry_method)||!campaignService.entryState.formData[entry_method.id];if("visit"===entry_method.template){if(campaignService.entryState.formData[entry_method.id])return!1}else{if("choose_option"===entry_method.template){for(name in ref=campaignService.entryState.formData[entry_method.id])if(ref[name])return!1;return!0}if("multiple_choice"===entry_method.template){for(name in ref1=campaignService.entryState.formData[entry_method.id])if(ref1[name])return!1;return!0}}}else{if("None"===entry_method.method_type)return!1;if("Allow question or tracking"===entry_method.method_type)return!actionPerformed(entry_method)&&("good"!==campaignService.verifyStatus(entry_method)||!campaignService.entryState.formData[entry_method.id])}},canSubmitForm:function(entry_method){return!!campaignService.enoughEntryDetails(entry_method)&&null},timerAction:function(entry_method){return("VisitDelay"===entry_method.workflow||""===entry_method.template)&&0<parseInt(entry_method.config7)},isTimerTriggered:function(entry_method){return("VisitDelay"===entry_method.workflow||""===entry_method.template)&&0<parseInt(entry_method.config7)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config7-entry_method.secondsOpen:entry_method.config7},continueTooltip:function(entry_method){var status,tooltip;if(campaignService.continueDisabled(entry_method))return"visit"===entry_method.template?translationService.translate("tooltip_visit"):"VisitDelay"===entry_method.workflow&&0<parseInt(entry_method.config7)&&!entry_method.timePassed?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):"Ask a question"===entry_method.method_type&&(tooltip=answerQuestionContinueTooltip(entry_method))?tooltip:"unknown"===(status=campaignService.verifyStatus(entry_method))?translationService.translate("tooltip_complete_action"):"good"!==status?translationService.translate("tooltip_invalid_value"):void 0},actionKey:function(entry_method){return entry_method.config2},placeholder:function(entry_method){if("blog_post"===entry_method.template)return"https://blog.yourwebsite.com/link-to-blog-post/"},verifyStatus:function(entry_method,value){return!entry_method.config6||"Ask a question"!==entry_method.method_type&&"Allow question or tracking"!==entry_method.method_type?"Ask a question"===entry_method.method_type&&answerQuestionContinueTooltip(entry_method)?"bad":"good":value.match(new RegExp(entry_method.config6))?"good":"unknown"},alwaysRequireContactInfoFirstFunc:function(entry_method){return"visit"===entry_method.template}}}}])}.call(this),function(){angular.module("App.services").factory("emailConfigService",["campaignService",function(campaignService){var showOptIn;return showOptIn=function(entry_method){return"On"===entry_method.config4||"Auto"===entry_method.config4&&campaignService.contestantState.trigger_auto_opt_in},{email_subscribe:{alwaysRequireContactInfo:!0,showOptIn:function(entry_method){return showOptIn(entry_method)},displayInformation:function(entry_method){return entry_method.config2||showOptIn(entry_method)&&entry_method.config3},continueDisabled:function(entry_method){return!campaignService.entryState.formData[entry_method.id]&&showOptIn(entry_method)}}}}])}.call(this),function(){angular.module("App.services").factory("eventbriteConfigService",["campaignService",function(campaignService){var displayInformation;return{eventbrite_attend_event:{displayInformation:displayInformation=function(entry_method){var attemptedAndFailed,isAuthed;return isAuthed=campaignService.isAuthenticated(entry_method),attemptedAndFailed=!!entry_method.error,!isAuthed||attemptedAndFailed}},eventbrite_attend_venue:{displayInformation:displayInformation}}}])}.call(this),function(){angular.module("App.services").factory("facebookConfigService",["translationService","campaignService",function(translationService,campaignService){return{facebook_enter:{continueDisabled:function(){return!1}},facebook_visit:{canSubmitForm:function(entry_method){return"Question"===entry_method.config5?campaignService.getTrackingCookie("D",entry_method)&&!!campaignService.entryState.formData[entry_method.id]:"Delay"===entry_method.config5?campaignService.getTrackingCookie("D",entry_method)&&entry_method.timePassed&&campaignService.isExpanded(entry_method):null},timerAction:function(entry_method){return"Delay"===entry_method.config5},isTimerTriggered:function(entry_method){return"Delay"===entry_method.config5&&campaignService.getTrackingCookie("D",entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config6-entry_method.secondsOpen:entry_method.config6},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return campaignService.getTrackingCookie("D",entry_method)?"Delay"===entry_method.config5?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):void 0:translationService.translate("tooltip_facebook_visit")},completeAfterVisit:function(entry_method){return"Complete"===entry_method.config4&&"Complete"===entry_method.config5}},facebook_media:{enterOnSingleMedia:function(entry_method){return entry_method.config4&&0<entry_method.config4.length}},facebook_view_post:{completeAfterVisit:function(entry_method){return entry_method.config5},canSubmitForm:function(entry_method){return"video"===entry_method.config3?entry_method.timePassed&&campaignService.isExpanded(entry_method):entry_method.config5?"V"===campaignService.getTrackingCookie("D",entry_method):null},timerAction:function(entry_method){return"video"===entry_method.config3||!entry_method.config5&&"5"}}}}])}.call(this),function(){angular.module("App.services").factory("googleplusConfigService",["translationService","campaignService",function(translationService,campaignService){return{googleplus_visit:{canSubmitForm:function(entry_method){return"Question"===entry_method.config4?campaignService.getTrackingCookie("D",entry_method)&&!!campaignService.entryState.formData[entry_method.id]:"Delay"===entry_method.config4?campaignService.getTrackingCookie("D",entry_method)&&entry_method.timePassed&&campaignService.isExpanded(entry_method):null},timerAction:function(entry_method){return"Delay"===entry_method.config4},isTimerTriggered:function(entry_method){return"Delay"===entry_method.config4&&campaignService.getTrackingCookie("D",entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config5-entry_method.secondsOpen:entry_method.config5},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return campaignService.getTrackingCookie("D",entry_method)?"Delay"===entry_method.config4?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):void 0:translationService.translate("tooltip_facebook_visit")}}}}])}.call(this),function(){angular.module("App.services").factory("indiegogoConfigService",["translationService","campaignService",function(translationService,campaignService){return{indiegogo_visit:{canSubmitForm:function(entry_method){return"Question"===entry_method.config3?campaignService.getTrackingCookie("D",entry_method)&&!!campaignService.entryState.formData[entry_method.id]:"Delay"===entry_method.config3?campaignService.getTrackingCookie("D",entry_method)&&entry_method.timePassed&&campaignService.isExpanded(entry_method):null},timerAction:function(entry_method){return"Delay"===entry_method.config3},isTimerTriggered:function(entry_method){return"Delay"===entry_method.config3&&campaignService.getTrackingCookie("D",entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config4-entry_method.secondsOpen:entry_method.config4},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return campaignService.getTrackingCookie("D",entry_method)?"Delay"===entry_method.config3?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):void 0:translationService.translate("tooltip_facebook_visit")},completeAfterVisit:function(entry_method){return"Complete"===entry_method.config3}}}}])}.call(this),function(){angular.module("App.services").factory("instagramConfigService",["translationService","campaignService",function(translationService,campaignService){return{instagram_choose:{requiresMedia:!0,enterOnSingleMedia:function(entry_method){return entry_method.config2&&0<entry_method.config2.length}},instagram_follow:{errorMessage:function(entry_method){return translationService.translate("instagram_follow_error",{username:entry_method.config1})}},instagram_visit_profile:{canSubmitForm:function(entry_method){return"Question"===entry_method.config5?campaignService.getTrackingCookie("D",entry_method)&&!!campaignService.entryState.formData[entry_method.id]:"Delay"===entry_method.config5?campaignService.getTrackingCookie("D",entry_method)&&entry_method.timePassed&&campaignService.isExpanded(entry_method):null},timerAction:function(entry_method){return"Delay"===entry_method.config5},isTimerTriggered:function(entry_method){return"Delay"===entry_method.config5&&campaignService.getTrackingCookie("D",entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config6-entry_method.secondsOpen:entry_method.config6},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return campaignService.getTrackingCookie("D",entry_method)?"Delay"===entry_method.config5?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):void 0:translationService.translate("tooltip_facebook_visit")},completeAfterVisit:function(entry_method){return"Complete"===entry_method.config5},canContinueAutomatically:function(entry_method){return"Question"!==entry_method.config5}}}}])}.call(this),function(){angular.module("App.services").factory("kickstarterConfigService",["translationService","campaignService",function(translationService,campaignService){return{kickstarter_visit:{canSubmitForm:function(entry_method){return"Question"===entry_method.config3?campaignService.getTrackingCookie("D",entry_method)&&!!campaignService.entryState.formData[entry_method.id]:"Delay"===entry_method.config3?campaignService.getTrackingCookie("D",entry_method)&&entry_method.timePassed&&campaignService.isExpanded(entry_method):null},timerAction:function(entry_method){return"Delay"===entry_method.config3},isTimerTriggered:function(entry_method){return"Delay"===entry_method.config3&&campaignService.getTrackingCookie("D",entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config4-entry_method.secondsOpen:entry_method.config4},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return campaignService.getTrackingCookie("D",entry_method)?"Delay"===entry_method.config3?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):void 0:translationService.translate("tooltip_facebook_visit")},completeAfterVisit:function(entry_method){return"Complete"===entry_method.config3}}}}])}.call(this),function(){angular.module("App.services").factory("mediaConfigService",["campaignService",function(campaignService){var hasRequiredData;return hasRequiredData=function(entry_method){var formData;return formData=campaignService.entryState.formData[entry_method.id],"1"===entry_method.config5?formData&&formData.url&&formData.text:formData&&formData.url},{media_action:{continueDisabled:function(entry_method){if("upload"===entry_method.mediaSource)return!hasRequiredData(entry_method)},canSubmitForm:function(entry_method){return!!campaignService.enoughEntryDetails(entry_method)&&null},enterOnSingleMedia:function(entry_method){return entry_method.config4&&0<entry_method.config4.length}}}}])}.call(this),function(){angular.module("App.services").factory("messengerConfigService",["translationService","campaignService",function(translationService,campaignService){return{messenger_subscribe:{continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return translationService.translate("tooltip_complete_action")}}}}])}.call(this),function(){angular.module("App.services").factory("patreonConfigService",["translationService","campaignService","$filter",function(translationService,campaignService){var authRequirementSatisfied,hasVisited,timerAction,verifyStatus;return hasVisited=function(entryMethod){return campaignService.getTrackingCookie("V",entryMethod)||campaignService.getTrackingCookie("D",entryMethod)},timerAction=function(entry_method){return"VisitDelay"===entry_method.workflow&&0<parseInt(entry_method.config7)},authRequirementSatisfied=function(entry_method){return!entry_method.requires_authentication||campaignService.isAuthenticated(entry_method)&&!campaignService.expiredAuthentication(entry_method.provider)},{patreon_visit:{canSubmitForm:function(entry_method){var value;return!(!hasVisited(entry_method)||!authRequirementSatisfied(entry_method))&&("VisitQuestion"!==entry_method.workflow||(value=campaignService.entryState.formData[entry_method.id],"good"===verifyStatus(entry_method,value)))},continueDisabled:function(entry_method){if(this.timerAction(entry_method)){if(entry_method.timePassed)return!1}else if("VisitQuestion"===entry_method.workflow){if(hasVisited(entry_method)&&"good"===campaignService.verifyStatus(entry_method))return!1}else if(hasVisited(entry_method)&&authRequirementSatisfied(entry_method))return!1;return!0},completeAfterVisit:function(entry_method){return"VisitQuestion"!==entry_method.workflow},timerAction:function(entry_method){return timerAction(entry_method)},isTimerTriggered:function(entry_method){return timerAction(entry_method)&&hasVisited(entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config7-entry_method.secondsOpen:entry_method.config7},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return timerAction(entry_method)&&!entry_method.timePassed?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular",
"tooltip_delay_plural"):"VisitQuestion"===entry_method.workflow?translationService.translate("tooltip_complete_action"):translationService.translate("tooltip_visit")},verifyStatus:verifyStatus=function(entry_method,value){return"VisitQuestion"!==entry_method.workflow||null!=value&&0<value.length?"good":"bad"},visitClick:function(event,entry_method,$scope){if($scope.requireAuthentication(entry_method))return setTimeout(function(){return $scope.triggerVisit(entry_method)},1);event.preventDefault()}}}}])}.call(this),function(){angular.module("App.services").factory("pinterestConfigService",["translationService","campaignService",function(translationService,campaignService){return{pinterest_pin:{continueDisabled:function(){return!1}},pinterest_enter:{continueDisabled:function(){return!1}},pinterest_choose_pin:{requiresMedia:!0,enterOnSingleMedia:function(entry_method){return entry_method.config2&&0<entry_method.config2.length}},pinterest_choose_board:{requiresMedia:!0},pinterest_visit:{canSubmitForm:function(entry_method){return"Question"===entry_method.config3?campaignService.getTrackingCookie("D",entry_method)&&!!campaignService.entryState.formData[entry_method.id]:"Delay"===entry_method.config3?campaignService.getTrackingCookie("D",entry_method)&&entry_method.timePassed&&campaignService.isExpanded(entry_method):null},timerAction:function(entry_method){return"Delay"===entry_method.config3},isTimerTriggered:function(entry_method){return"Delay"===entry_method.config3&&campaignService.getTrackingCookie("D",entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config4-entry_method.secondsOpen:entry_method.config4},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return campaignService.getTrackingCookie("D",entry_method)?"Delay"===entry_method.config3?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):void 0:translationService.translate("tooltip_facebook_visit")},completeAfterVisit:function(entry_method){return"Complete"===entry_method.config2&&"Complete"===entry_method.config3}}}}])}.call(this),function(){angular.module("App.services").factory("podcastConfigService",["translationService","campaignService","$filter",function(translationService,campaignService){var hasVisited;return hasVisited=function(entryMethod){return campaignService.getTrackingCookie("V",entryMethod)||campaignService.getTrackingCookie("D",entryMethod)},{podcast_subscribe:{continueDisabled:function(entry_method){if(this.timerAction(entry_method)){if(entry_method.timePassed)return!1}else{if("VisitQuestion"===entry_method.workflow)return"good"!==campaignService.verifyStatus(entry_method)||!campaignService.entryState.formData[entry_method.id];if(hasVisited(entry_method))return!1}return!0},timerAction:function(entry_method){return"VisitDelay"===entry_method.workflow&&0<parseInt(entry_method.config7)},isTimerTriggered:function(entry_method){return"VisitDelay"===entry_method.workflow&&0<parseInt(entry_method.config7)&&hasVisited(entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config7-entry_method.secondsOpen:entry_method.config7},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return"VisitDelay"===entry_method.workflow&&0<parseInt(entry_method.config7)&&!entry_method.timePassed?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):"VisitQuestion"===entry_method.workflow?translationService.translate("tooltip_complete_action"):translationService.translate("tooltip_visit")},verifyStatus:function(entry_method,value){return"VisitQuestion"===entry_method.method_type&&value.length<1?"bad":"good"}}}}])}.call(this),function(){angular.module("App.services").factory("redditConfigService",["translationService","campaignService","$filter",function(translationService,campaignService){var authRequirementSatisfied,hasVisited;return hasVisited=function(entryMethod){return campaignService.getTrackingCookie("V",entryMethod)||campaignService.getTrackingCookie("D",entryMethod)},authRequirementSatisfied=function(entry_method){return!entry_method.requires_authentication||campaignService.isAuthenticated(entry_method)&&!campaignService.expiredAuthentication(entry_method.provider)},{reddit_visit:{completeAfterVisit:function(){return!1},canSubmitForm:function(entry_method){return hasVisited(entry_method)&&authRequirementSatisfied(entry_method)},continueDisabled:function(entry_method){return!hasVisited(entry_method)},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return authRequirementSatisfied(entry_method)?hasVisited(entry_method)?void 0:translationService.translate("tooltip_visit"):translationService.translate("tooltip_complete_action")},visitClick:function(event,entry_method,$scope){if($scope.requireAuthentication(entry_method))return setTimeout(function(){return $scope.triggerVisit(entry_method)},1);event.preventDefault()}}}}])}.call(this),function(){angular.module("App.services").factory("secretConfigService",["translationService","campaignService",function(translationService,campaignService){return{secret_code:{continueDisabled:function(entry_method){return"good"!==campaignService.verifyStatus(entry_method)},canSubmitForm:function(entry_method){return"good"===campaignService.verifyStatus(entry_method)&&campaignService.entryDetailsState[entry_method.id]===campaignService.entryState.formData[entry_method.id]},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))switch(campaignService.verifyStatus(entry_method)){case"bad":return entry_method.config7?entry_method.config7:translationService.translate("value_bad_error");case"unique":return entry_method.config8?entry_method.config8:translationService.translate("value_unique_error")}}}}}])}.call(this),function(){angular.module("App.services").factory("shareConfigService",function(){return{share_action:{alwaysRequireContactInfo:!0,alwaysRequireContactInfoFirst:!0,canSubmitForm:function(){return!1}}}})}.call(this),function(){angular.module("App.services").factory("soundcloudConfigService",function(){return{soundcloud_choose:{requiresMedia:!0}}})}.call(this),function(){angular.module("App.services").factory("submitConfigService",["campaignService","translationService",function(campaignService,translationService){var buildUrl,continueTooltip,validDomain,validUrl;return buildUrl=function(entry_method){var url,url_string;url_string=campaignService.entryState.formData[entry_method.id]||"";try{url=new URL(url_string)}catch(error){try{url=new URL("http://"+url_string)}catch(error){return null}}return url},validUrl=function(url){return url&&["http:","https:"].includes(url.protocol)&&0===url.username.length&&0===url.password.length},validDomain=function(entry_method,url){return null===entry_method.config3||url.hostname.endsWith("."+entry_method.config3)||url.hostname===entry_method.config3},{submit_url:{continueTooltip:continueTooltip=function(entry_method){var url;return url=buildUrl(entry_method),validUrl(url)?validDomain(entry_method,url)?void 0:translationService.translate("tooltip_submit_url_invalid_domain",{domain:entry_method.config3}):translationService.translate("tooltip_submit_url_invalid_format")},continueDisabled:continueTooltip}}}])}.call(this),function(){angular.module("App.services").factory("tumblrConfigService",["campaignService",function(campaignService){var canSubmitForm;return{tumblr_reblog_campaign:{canSubmitForm:canSubmitForm=function(entry_method){var name,ref;if(!campaignService.isExpanded(entry_method))return!1;if(!campaignService.entryState.formData[entry_method.id])return!1;for(name in ref=campaignService.entryState.formData[entry_method.id])if(!ref[name])return!1;return!0},requiresMedia:!0},tumblr_reblog:{canSubmitForm:function(entry_method){return entry_method.media&&1===entry_method.media.length||canSubmitForm(entry_method)},requiresMedia:!0,enterOnSingleMedia:function(){return!0}}}}])}.call(this),function(){angular.module("App.services").factory("twitchtvConfigService",["translationService","campaignService",function(translationService,campaignService){return{twitchtv_subscribe:{errorMessage:function(entry_method){return translationService.translate("twitchtv_subscribe_error",{username:entry_method.config2})},displayInformation:function(entry_method){if(!1===campaignService.entryState.formData[entry_method.id])return!0}}}}])}.call(this),function(){angular.module("App.services").factory("twitterConfigService",["campaignService",function(campaignService){var canSubmitForm;return{twitter_retweet:{canSubmitForm:canSubmitForm=function(entry_method){var formData;return formData=campaignService.entryState.formData[entry_method.id],!(!campaignService.isAuthenticated(entry_method)||entry_method.api_denied||entry_method.not_unique_error)||formData&&!!formData.twitter_username&&campaignService.isExpanded(entry_method)},resetBeforeAuth:!0,acceptsTwitterUsername:!0},twitter_tweet:{canSubmitForm:canSubmitForm,resetBeforeAuth:!0,acceptsTwitterUsername:!0},twitter_hashtags:{canSubmitForm:function(entry_method){var formData;return formData=campaignService.entryState.formData[entry_method.id],campaignService.isExpanded(entry_method)&&(campaignService.isAuthenticated(entry_method)||formData&&!!formData.twitter_username)},resetBeforeAuth:!0,acceptsTwitterUsername:!0},twitter_follow:{canSubmitForm:canSubmitForm,resetBeforeAuth:!0,acceptsTwitterUsername:!0},twitter_media:{requiresMedia:!0,enterOnSingleMedia:function(entry_method){return entry_method.config2&&0<entry_method.config2.length}},twitter_view_post:{timerAction:function(){return"5"}}}}])}.call(this),function(){angular.module("App.services").factory("typeformConfigService",["campaignService",function(campaignService){return{typeform_completed:{alwaysRequireContactInfo:!0,alwaysRequireContactInfoFirst:!0,canSubmitForm:function(entry_method){return campaignService.isExpanded(entry_method)},actionKey:function(entry_method){return entry_method.config2}}}}])}.call(this),function(){angular.module("App.services").factory("uploadConfigService",["campaignService",function(campaignService){var hasRequiredData;return hasRequiredData=function(entry_method){var formData;return formData=campaignService.entryState.formData[entry_method.id],"1"===entry_method.config5?formData&&formData.url&&formData.text:formData&&formData.url},{upload_action:{continueDisabled:function(entry_method){return!hasRequiredData(entry_method)},canSubmitForm:function(entry_method){return!!campaignService.enoughEntryDetails(entry_method)&&null}}}}])}.call(this),function(){angular.module("App.services").factory("youtubeConfigService",["campaignService","translationService",function(campaignService,translationService){return{youtube_video:{canSubmitForm:function(entry_method){return campaignService.isExpanded(entry_method)&&campaignService.entryState.formData[entry_method.id]&&"good"===campaignService.verifyStatus(entry_method)}},youtube_subscribe:{canSubmitForm:function(entry_method){return"1"===entry_method.config3||null}},youtube_visit_channel:{canSubmitForm:function(entry_method){return"Question"===entry_method.config3?campaignService.getTrackingCookie("D",entry_method)&&!!campaignService.entryState.formData[entry_method.id]:"Delay"===entry_method.config3?campaignService.getTrackingCookie("D",entry_method)&&entry_method.timePassed&&campaignService.isExpanded(entry_method):null},timerAction:function(entry_method){return"Delay"===entry_method.config3},isTimerTriggered:function(entry_method){return"Delay"===entry_method.config3&&campaignService.getTrackingCookie("D",entry_method)},remainingSeconds:function(entry_method){return entry_method.secondsOpen?entry_method.config4-entry_method.secondsOpen:entry_method.config4},continueTooltip:function(entry_method){if(campaignService.continueDisabled(entry_method))return campaignService.getTrackingCookie("D",entry_method)?"Delay"===entry_method.config3?translationService.pluralize(entry_method.config.remainingSeconds(entry_method),"tooltip_delay_singular","tooltip_delay_plural"):void 0:translationService.translate("tooltip_youtube_visit")},completeAfterVisit:function(entry_method){return"Complete"===entry_method.config3}}}}])}.call(this),function(){angular.module("App.services").factory("AMOEService",["$q","campaignService",function($q,campaignService){var AMOEForm2params,cleanup,formData,prepareAMOE,validate;return AMOEForm2params=function(form){var result;return result={},new FormData(form).forEach(function(v,k){var fieldNameMatch;if(fieldNameMatch=k.match(/entry\[(.+)\]/))return result[fieldNameMatch[1]]=v}),result},validate=function(form){var formController;return(formController=$(form).scope()[form.name]).$setSubmitted(),formController.$valid},prepareAMOE=function(evt,entryMethodId,captchaResponse){var em;return evt.preventDefault(),evt.stopPropagation(),validate(evt.target)?(formData[entryMethodId]=AMOEForm2params(evt.target),formData[entryMethodId].grecaptcha_response=captchaResponse,em=campaignService.entry_methods.find(function(em){return em.id===entryMethodId}),campaignService.entryState.toEnter=null,$q.resolve(em)):($(evt.target).find("input.ng-invalid")[0].focus(),$q.reject(new Error("Invalid AMOE form")))},cleanup=function(entryMethodId){return formData[entryMethodId]=null,campaignService.entryState.toEnter=null},{formData:formData={},prepareAMOE:prepareAMOE,cleanup:cleanup}}])}.call(this),function(){angular.module("App.services").factory("callbackService",["$window",function($window){var appName,callbacksEnabled,entryMethodTitle,legacyCallbacksEnabled,send,sendEntered,sendLegacyEntered,sendLoaded,serializeCampaign,serializeEntryMethod;return appName=null,legacyCallbacksEnabled=callbacksEnabled=!1,sendLoaded=function(campaign){return send("loaded",{campaign:serializeCampaign(campaign)})},sendEntered=function(arg){var campaign,entryMethod;return entryMethod=arg.entryMethod,campaign=arg.campaign,send("entered",{action:serializeEntryMethod(entryMethod),campaign:serializeCampaign(campaign)}),sendLegacyEntered(entryMethod)},sendLegacyEntered=function(entryMethod){var ref;if(legacyCallbacksEnabled&&null!=(null!=(ref=$window.parent)?ref.postMessage:void 0))return $window.parent.postMessage(appName+"Entry="+entryMethod.id,"*")},send=function(eventType,detail){var payload,ref;if(callbacksEnabled&&null!=(null!=(ref=$window.parent)?ref.postMessage:void 0))return detail.type=eventType,payload=JSON.stringify(detail),$window.parent.postMessage(appName+"EmbedCallback="+payload,"*")},serializeEntryMethod=function(entryMethod){return{id:parseInt(entryMethod.id),title:entryMethodTitle(entryMethod)}},serializeCampaign=function(campaign){return{key:campaign.key,name:campaign.name}},entryMethodTitle=function(entryMethod){return $("#em"+entryMethod.id+" .entry-method-title").clone().find("#em"+entryMethod.id+"-popover-content").remove().end().text().replace(/\s+/g," ").trim()},{init:function(options){return appName=options.appName,callbacksEnabled=options.enabled,legacyCallbacksEnabled=options.legacyEnabled},sendEntered:sendEntered,sendLoaded:sendLoaded}}])}.call(this),function(){angular.module("App.services").factory("campaignService",["$filter","storageService",function($filter,storageService){return{contestantState:{contestant:{}},choiceState:{},dc:{},initCampaign:function(campaignData){var entryMethod,i,len,ref;for(this.campaign=campaignData.campaign,this.incentive=campaignData.incentive,this.entryState=campaignData.entryState,this.entryDetailsState=campaignData.entryDetailsState,this.entry_methods=campaignData.entry_methods,this.paid_entry_methods=campaignData.entry_methods.filter(function(x){return x.paid}),this.entryMethodMap={},i=0,len=(ref=this.entry_methods).length;i<len;i++)entryMethod=ref[i],this.entryMethodMap[entryMethod.id]=entryMethod;return this.cookieState={}},initEditCampaign:function(campaignData){return this.editMode=!0,this.campaign=campaignData.campaign,this.incentive=this.campaign.incentive_attributes,this.entry_methods=this.campaign.entry_methods_attributes,this.lead_capture=this.campaign.lead_capture_attributes},initContestant:function(contestantData){return this.contestantState=contestantData,this.updateFirstAndLastName()},updateContestant:function(contestant){return this.contestantState.contestant=contestant,this.updateFirstAndLastName()},mergeContestant:function(contestant){var field;for(field in contestant)this.contestantState.contestant[field]=contestant[field];return this.updateFirstAndLastName()},updateFirstAndLastName:function(){return this.contestantState.form.firstname=this.contestantState.contestant.firstname=$filter("firstname")(this.contestantState.contestant.name),this.contestantState.form.lastname=this.contestantState.contestant.lastname=$filter("lastname")(this.contestantState.contestant.name)},updateFormFirstAndLastName:function(){return this.contestantState.form.firstname=$filter("firstname")(this.contestantState.form.name),this.contestantState.form.lastname=$filter("lastname")(this.contestantState.form.name)},getEntryMethod:function(entryMethodId){return this.entryMethodMap[entryMethodId]},authenticationCurrent:function(authentication){return"facebook"!==authentication.provider.split(/_/)[0]||new Date(authentication.updated_at).getTime()+5184e6>new Date},expiredAuthentication:function(provider){var authentication,i,len,ref;if(this.contestantState.contestant.id)for(i=0,len=(ref=this.contestantState.contestant.authentications).length;i<len;i++)if((authentication=ref[i]).provider.split(/_/)[0]===provider&&authentication.expired)return!0;return!1},isAuthenticated:function(entry_method,provider){var authentication,i,len,ref;if(provider||(provider=entry_method.provider),!entry_method.can_authenticate)return!0;if(this.contestantState.contestant.id)for(i=0,len=(ref=this.contestantState.contestant.authentications).length;i<len;i++)if((authentication=ref[i]).provider.split(/_/)[0]===provider&&this.authenticationCurrent(authentication)&&!authentication.expired)return!0;return!1},getAuthentication:function(provider){var authentication,i,len,ref;if(this.contestantState.contestant.id)for(i=0,len=(ref=this.contestantState.contestant.authentications).length;i<len;i++)if((authentication=ref[i]).provider.split(/_/)[0]===provider&&this.authenticationCurrent(authentication)&&!authentication.expired)return authentication},toEnter:function(){var emId;return this.entryState.toEnter?this.entryState.toEnter:(emId=storageService.get("to-enter"))&&this.entryMethodMap[emId]||null},setToEnter:function(entry_method){var emId;return emId=(null!=(this.entryState.toEnter=entry_method)?entry_method.id:void 0)||null,storageService.set("to-enter",emId)},actionPerformed:function(entry_method){var a,key;return!(!entry_method.config.actionKey||!(key=entry_method.config.actionKey(entry_method)))&&(a=(this.contestantState.contestant.actions+","+(Cookies.get("A-"+this.campaign.key)||"")).split(/,/),0<=$.inArray(key,a))},isExpanded:function(entry_method){return this.entryState.expanded===entry_method},verifyStatus:function(entry_method){var value;return""===(value=this.entryState.formData[entry_method.id]?""+this.entryState.formData[entry_method.id]:"")?"unknown":entry_method.config.verifyStatus?entry_method.config.verifyStatus(entry_method,value):entry_method.must_verify||entry_method.entry_type.match(/youtube_video|pinterest_choose_board/)?(entry_method.entry_type.match(/youtube_video|pinterest_choose_board/)||(value=value.toUpperCase()),this.entryState.verifyStatus&&this.entryState.verifyStatus[entry_method.id]&&this.entryState.verifyStatus[entry_method.id][value]?this.entryState.verifyStatus[entry_method.id][value]:"unknown"):"good"},isTimerAction:function(entry_method){return!!entry_method&&(entry_method.timer_action||entry_method.config.timerAction&&entry_method.config.timerAction(entry_method))},isTimerTriggered:function(entry_method){return!entry_method.config.isTimerTriggered||(entry_method.config.actionKey&&entry_method.config.actionKey(entry_method),entry_method.config.isTimerTriggered(entry_method))},checkIfTimePassed:function(entry_method){var requiredSeconds;if(!entry_method.timePassed)if(entry_method.config.remainingSeconds){if(entry_method.config.remainingSeconds(entry_method)<1)return entry_method.timePassed=!0}else if(entry_method.config.timerAction&&0<parseInt(entry_method.config.timerAction(entry_method))){if(0<(requiredSeconds=parseInt(entry_method.config.timerAction(entry_method)))&&entry_method.secondsOpen>=requiredSeconds)return entry_method.timePassed=!0}else if(0<(requiredSeconds=parseInt(entry_method.timer_action))&&entry_method.secondsOpen>=requiredSeconds)return entry_method.timePassed=!0},checkAlreadyEntered:function(entry_method,existing_at){var i,len,ref,values;for(i=0,len=(ref=this.contestantState.contestant.entered[entry_method.id]).length;i<len;i++)if(values=ref[i],parseInt(values.t)===parseInt(existing_at))return!0;return!1},isEntered:function(entry_method){var e;return(e=this.contestantState.contestant.entered[entry_method.id])&&0<e.length&&entry_method.tiers.length===Object.keys(e[0].ts).length},isTierEntered:function(entry_method,tier){var e;if((e=this.contestantState.contestant.entered[entry_method.id])&&0<e.length)return e[0].ts.hasOwnProperty(tier.id.toString())},isTierLocked:function(tier){return!this.contestantState.contestant.tier_data||tier.requirement>this.contestantState.contestant.tier_data[tier.entry_type]},awardedTierValue:function(entry_method,tier){var e;if((e=this.contestantState.contestant.entered[entry_method.id])&&0<e.length)return e[0].ts[tier.id.toString()]},isAllEntered:function(){var entry_method,i,len,ref;for(i=0,len=(ref=this.entry_methods).length;i<len;i++)if("share_action"!==(entry_method=ref[i]).entry_type&&!this.isEntered(entry_method))return!1;return!0},totalEntries:function(){return this.isCampaignEntryLimit()?Math.min(this.campaign.entry_limit,this.campaign.entry_count):this.campaign.entry_count},requireContactInfo:function(entry_method){return"Competition"===this.campaign.campaign_type||entry_method&&entry_method.config.alwaysRequireContactInfo||this.campaign.require_contact_info},enoughUserNameDetails:function(){return this.campaign.splitted_fullname?this.contestantState.contestant.firstname&&(this.campaign.optional_lastname||this.contestantState.contestant.lastname):this.contestantState.contestant.name},enoughUserDetails:function(entry_method){return!this.requireContactInfo(entry_method)||this.contestantState.contestant.id&&this.contestantState.contestant.email&&this.enoughUserNameDetails()&&(!this.campaign.additional_contestant_details||!!this.contestantState.contestant.completed_details)},displayInformationRequired:function(entry_method,resumeAction){return(entry_method.display_information||entry_method.config.displayInformation&&entry_method.config.displayInformation(entry_method))&&!entry_method.information_expanded&&!resumeAction},needMoreDetailsBeforeEntry:function(entry_method,resumeAction){return!this.canSubmitEntryForm(entry_method)||!this.enoughUserDetails(entry_method)||this.requireContactInfo(entry_method)&&this.contestantState.unconfirmed||this.displayInformationRequired(entry_method,resumeAction)},contestantEntries:function(){var count,entry_method_id,i,len,ref,values;for(entry_method_id in count=0,ref=this.contestantState.contestant.entered)for(i=0,len=(values=ref[entry_method_id]).length;i<len;i++)count+=values[i].w;return count},currentEntries:function(entry_method){var count,i,len,ref;if(this.contestantState.contestant.entered[entry_method.id]){for(i=count=0,len=(ref=this.contestantState.contestant.entered[entry_method.id]).length;i<len;i++)count+=ref[i].w;return count}return 0},timesEntered:function(entry_method){var count,i,len,ref;if(count=0,this.contestantState.contestant.entered[entry_method.id])for(i=0,len=(ref=this.contestantState.contestant.entered[entry_method.id]).length;i<len;i++)count+=ref[i].c||1;return count},totalActionsCompleted:function(){var count,entry_method,i,j,len,len1,ref,ref1;for(i=count=0,len=(ref=this.entry_methods).length;i<len;i++)if(entry_method=ref[i],this.contestantState.contestant.entered[entry_method.id])for(j=0,len1=(ref1=this.contestantState.contestant.entered[entry_method.id]).length;j<len1;j++)count+=ref1[j].c||1;return count},totalUniqueActionsCompleted:function(){var count,entry_method,i,len,ref;for(i=count=0,len=(ref=this.entry_methods).length;i<len;i++)entry_method=ref[i],this.contestantState.contestant.entered[entry_method.id]&&("share_action"===entry_method.entry_type?(0===entry_method.limit||this.entryMethodLimitHit(entry_method))&&(count+=1):count+=1);return count},lastEntered:function(entry_method){var l;return(l=this.contestantState.contestant.entered[entry_method.id])&&l[l.length-1]?1e3*l[l.length-1].t:null},requiresMandatoryActions:function(){var em,i,len,mandatory,ref;for(i=mandatory=0,len=(ref=this.entry_methods).length;i<len;i++)(em=ref[i]).mandatory&&!this.isEntered(em)&&em.completable?mandatory+=1:1;return 0<mandatory&&mandatory!==this.entry_methods.length},entryMethodLimitHit:function(entry_method){return entry_method.limit&&0<entry_method.limit&&this.timesEntered(entry_method)>=entry_method.limit},entryMethodEntriesRequiredToHitLimit:function(entry_method){return entry_method.limit-this.timesEntered(entry_method)},entryMethodCouponExhausted:function(entry_method){var ref;return(null!=(ref=entry_method.coupon)?ref.claims_available:void 0)<=0},entryMethodCouponPaused:function(entry_method){var ref;return null!=(ref=entry_method.coupon)?ref.paused:void 0},entryMethodCouponClaimed:function(entry_method){var ref,ref1;return 0<(null!=(ref=entry_method.coupon)&&null!=(ref1=ref.data)?ref1.length:void 0)},entryMethodCouponNotAvailable:function(entry_method){return null!=entry_method.coupon&&!this.entryMethodCouponClaimed(entry_method)&&(this.entryMethodCouponExhausted(entry_method)||this.entryMethodCouponPaused(entry_method))},nextEntryMilliseconds:function(entry_method){var last,next_interval_start;return 0===entry_method.interval_seconds?0:(last=this.lastEntered(entry_method))&&1<entry_method.interval_seconds?(next_interval_start=new Date(1e3*entry_method.next_interval_starts_at),new Date(next_interval_start-1e3*entry_method.interval_seconds)<last?next_interval_start-new Date:0):0},hasTimeToEnterAgain:function(entry_method){return 0!==entry_method.interval_seconds&&this.nextEntryMilliseconds(entry_method)<1e3*this.campaign.ends_at-(new Date).getTime()},hasUndoneEntriesToUnlock:function(entry_method){return 0<entry_method.actions_required&&this.totalUniqueActionsCompleted()<entry_method.actions_required},canEnter:function(entry_method){return!this.hasUndoneEntriesToUnlock(entry_method)&&(!(!entry_method.mandatory&&this.requiresMandatoryActions())&&(!this.entryMethodLimitHit(entry_method)&&(!entry_method.completable||(0<entry_method.interval_seconds?!this.lastEntered(entry_method)||this.nextEntryMilliseconds(entry_method)<=0:!this.isEntered(entry_method)))))},cantEnterAgain:function(entry_method){return this.isEntered(entry_method)&&!this.canEnter(entry_method)},hasEntryDetails:function(entry_method){if(this.cantEnterAgain(entry_method)||this.getTrackingCookie("D",entry_method))return!0;switch(entry_method.entry_type){case"custom_action":return!!this.entryDetailsState[entry_method.id]||!!entry_method.config.actionKey(entry_method)&&this.actionPerformed(entry_method);default:return!!this.entryDetailsState[entry_method.id]}},enoughAuth:function(entry_method){return entry_method.auth_for_details&&this.isAuthenticated(entry_method)},enoughEntryDetails:function(entry_method){var ref;return!entry_method||(!(!entry_method.api_fallback||!this.isAuthenticated(entry_method))||("email_subscribe"!==entry_method.entry_type||null==(ref=entry_method.config)||"function"!=typeof ref.continueDisabled||!ref.continueDisabled(entry_method))&&(entry_method.api_denied&&!this.isExpanded(entry_method)?this.hasEntryDetails(entry_method):!entry_method.requires_details||(!!this.enoughAuth(entry_method)||this.hasEntryDetails(entry_method))))},canSubmitEntryForm:function(entry_method){var result;return result=null,entry_method.config.canSubmitForm&&(result=entry_method.config.canSubmitForm(entry_method)),null===result?!(this.isTimerAction(entry_method)&&!entry_method.timePassed)&&(this.entryState.formData[entry_method.id]||this.enoughEntryDetails(entry_method)):result},setTrackingCookie:function(type,entry_method,value,expires){var name;return name=type+"-"+entry_method.id,storageService.set(name,value,{expires:expires}),this.cookieState[name]=value},getTrackingCookie:function(type,entry_method){var name;return name=type+"-"+entry_method.id,storageService.get(name)},removeTrackingCookie:function(type,entry_method){var name;return name=type+"-"+entry_method.id,storageService.remove(name),this.cookieState[name]=null},cookieStateUpdated:function(){var cookie,cookieName,cookieValue,i,len,ref;for(i=0,len=(ref=document.cookie.split(";")).length;i<len;i++)if((cookieName=(cookie=ref[i]).split("=")[0]).match(/^(V|D|A)-/)&&(cookieValue=cookie.split("=")[1],this.cookieState[cookieName]!==cookieValue))return this.cookieState[cookieName]=cookieValue,!0;return!1},verifiedAuth:function(){var a,i,j,len,len1,p,ref,ref1;for(i=0,len=(ref=this.contestantState.contestant.authentications).length;i<len;i++)for(a=ref[i],j=0,len1=(ref1=this.campaign.verified_login_providers).length;j<len1;j++)if(p=ref1[j],a.provider===p)return!0;return!1},startDate:function(){return new Date(1e3*this.campaign.starts_at)},endDate:function(){return new Date(1e3*this.campaign.ends_at)},isStarted:function(){return new Date>this.startDate()},isFinished:function(){return this.campaign.finished||0<this.endDate()&&new Date>this.endDate()},isRunning:function(){return this.isStarted()&&!this.isFinished()&&!this.campaign.paused&&!this.isTryingFeatures()},isTryingFeatures:function(){var ref;return null!=(ref=this.campaign)?ref.trying_unpaid_features:void 0},isCampaignEntryLimit:function(){return 0!==this.campaign.entry_limit},manyEntries:function(){return 2e3<this.campaign.entry_count},continueDisabled:function(entry_method){var result;return entry_method.config.continueDisabled&&void 0!==(result=entry_method.config.continueDisabled(entry_method))?result:!this.canSubmitEntryForm(entry_method)},useVisitCookie:function(entry_method){return"download_app"!==entry_method.entry_type&&"typeform_completed"!==entry_method.entry_type&&"linkedin_follow"!==entry_method.entry_type&&"linkedin_share"!==entry_method.entry_type&&"pinterest_enter"!==entry_method.entry_type&&!entry_method.entry_type.match(/_visit/)&&"facebook_view_post"!==entry_method.entry_type&&entry_method.config4},hasCustom:function(key){return!!this.campaign.messages[key]},socialLoginRequired:function(){var i,j,len,len1,login_provider,ref,ref1;if(this.campaign.login_types&&0!==this.campaign.login_types.length&&this.campaign.login_first){for(i=0,len=(ref=this.campaign.login_types).length;i<len;i++){if("email"===(login_provider=ref[i]))return!1;for(j=0,len1=(ref1=this.contestantState.contestant.authentications||[]).length;j<len1;j++)if(ref1[j].provider===login_provider)return!1}return!0}return!1},requiresInitialLogin:function(){return this.socialLoginRequired()||(this.campaign.login_first||this.contestantState.emailLogin)&&!this.enoughUserDetails()},bestCouponCode:function(){var all_claims,claims;return this.contestantState?(all_claims=this.contestantState.contestant.claims.incentives)?(claims=all_claims[this.incentive.id])?"file_upload"===this.incentive.input_type?location.protocol+"//"+location.host+"/"+this.campaign.key+"/claim-download":claims[claims.length-1]:null:void 0:null},displayCouponCode:function(){return!this.campaign.suppress_redeem_display},showPromotionEnded:function(){return this.isFinished()&&!this.bestCouponCode()},showPromotionStartsIn:function(){return!this.isStarted()&&!this.isTestMode()},isTestMode:function(){return(!this.isStarted()||this.isTryingFeatures())&&this.contestantState.campaignManager},isReward:function(){return"Reward"===this.campaign.campaign_type},actionsStillNeededToUnlockReward:function(){return this.incentive.actions_required-this.totalActionsCompleted()},entryMethodColor:function(entry_method){return entry_method.unlocked_icon_color!==entry_method.normal_icon_color&&"custom_action"===entry_method.entry_type&&(this.isEntered(entry_method)||this.canEnter(entry_method))&&this.enoughEntryDetails(entry_method)&&entry_method.unlocked_icon_color||entry_method.normal_icon_color},removerColor:function(){
return"Floating"===this.campaign.theme?this.campaign.overlay_text_color||"white":""},files:function(entry_method){var v;return(v=this.entryState.files[entry_method.id])?[v]:[]},isChoiceSelected:function(entry_method,imageSrc){return entry_method.workflow?this.choiceState[entry_method.id]&&0<=this.choiceState[entry_method.id].indexOf(imageSrc):this.choiceState[entry_method.id]===imageSrc},landingPage:function(){return"Gleam"===this.campaign.stand_alone_option?this.campaign.stand_alone_url:this.campaign.landing_page_override},choices:function(entry_method){return entry_method.config5.trim().split(/\s*\n\s*/).getUnique()}}}])}.call(this),function(){angular.module("App.services").factory("mediaService",["$http","facebookLoginService",function($http,facebookLoginService){return{getMedia:function(entry_method,options){var provider;return provider=options.provider||entry_method.entry_type.split("_")[0],$http.get("/get-media/"+entry_method.id+"/"+provider).then(function(response){var data;return"AuthExpired"===(data=response.data)?options.authExpired(data):"AccountPrivate"===data?options.accountPrivate(data):options.success(data)})["catch"](function(response){return options.error(response.data)})},getFacebookMedia:function(entry_method,permissions,options){var allTagsPresent,allowed,anyTagsPresent,handleResponse,hasMediaPermissions,includesTags,result,withAccess;return result=[],withAccess=function(allowed){return hasMediaPermissions()?allowed.call(this,permissions):FB.login(function(response){return"connected"===response.status?(options.login.call(this,response),FB.api("/me/permissions?fields=permission,status",function(data){return permissions=facebookLoginService.parsePermissions(data),hasMediaPermissions()?allowed.call(this,permissions):options.denied.call(this,permissions)})):options.denied.call(this,{})},{auth_type:"rerequest",scope:"user_link,user_photos,user_videos,user_status",return_scopes:!0})},includesTags=function(media,tags,requireAllTags){var caption,normalizedTags;return(caption=media.description||media.name)&&(caption=caption.toLowerCase()),normalizedTags=tags.split(/\s*,\s*/).map(function(tag){return"#"+tag.replace(/^#/,"").toLowerCase()}),requireAllTags?allTagsPresent(caption,normalizedTags):anyTagsPresent(caption,normalizedTags)},allTagsPresent=function(text,tags){var i,len,tag;for(i=0,len=tags.length;i<len;i++)if((tag=tags[i])&&(!text||text.indexOf(tag)<0))return!1;return!0},anyTagsPresent=function(text,tags){var i,len,tag;for(i=0,len=tags.length;i<len;i++)if((tag=tags[i])&&text&&0<=text.indexOf(tag))return!0;return!1},handleResponse=function(response){var i,len,media,ref,requireAllTags,results;for(results=[],i=0,len=(ref=response.data).length;i<len;i++)media=ref[i],entry_method.config4?(requireAllTags=entry_method.media_action?entry_method.config6:entry_method.config3,includesTags(media,entry_method.config4,"false"!==requireAllTags)?results.push(result.push(media)):results.push(void 0)):results.push(result.push(media));return results},allowed=function(){var common_fields,video_fields;return video_fields=(common_fields="id,picture,images,from,created_time,source")+",description,embed_html",FB.api("/me/videos?limit=50&type=uploaded&fields="+video_fields,function(response){var photo_fields;return handleResponse(response),photo_fields=common_fields+",name,link",FB.api("/me/photos?limit=50&type=uploaded&fields="+photo_fields,function(response){return handleResponse(response),options.success(result.sort(function(a,b){return b.id-a.id}).slice(0,21))})})},(hasMediaPermissions=function(){return permissions&&permissions.user_photos&&permissions.user_videos&&permissions.user_link&&(!window.facebookAppId.match(/520916077950649|152351391599356/)||permissions.user_status)})()?allowed.call():withAccess(allowed)}}}])}.call(this),function(){var RepeatActionService;RepeatActionService=function($q,$http,campaignService){var canAdd,err,limit,limits,notInitializedError,withCampaign;return limits={},limit=function(){return limits[campaignService.campaign.campaign_type]},withCampaign=function(){return campaignService.campaign},notInitializedError=function(){return withCampaign()?limit()?null:"no limit set":"no active campaign"},canAdd=function(currentAmount){var error;return(error=notInitializedError())?(console.error(error),$q.resolve()):limit()>currentAmount?$q.resolve():$q.reject(err())},{err:err=function(){return"Competition"===campaignService.campaign.campaign_type?"Sorry, we now limit the number of times you can use the same action in a campaign (1 on Free, 3 on Hobby, 5 on Pro, 10 on Business, and 15 on Premium; limits for yearly plans except Hobby are doubled).":"Sorry, we now limit the number of times you can use the same action in a campaign (1 on Free, 5 on Pro, 10 on Business, and 15 on Premium; limits for yearly plans are doubled)."},setLimits:function(l){return limits=l},canAdd:canAdd,isLimitExceeded:function(currentAmount){var error;return(error=notInitializedError())?(console.error(error),!1):limit()<currentAmount}}},angular.module("App.services").service("repeatActionService",RepeatActionService)}.call(this),function(){var localStorageAllowed;localStorageAllowed=function(){var allowed;allowed=!0;try{allowed=!!localStorage}catch(error){allowed=!1}return allowed},angular.module("App.services").factory("storageService",function(){return{set:function(key,value,options){return localStorageAllowed()?localStorage.setItem(key,JSON.stringify({c:Date.now(),o:options,v:value})):Cookies.set(key,value,options)},get:function(key){var data,raw;return localStorageAllowed()?(raw=localStorage.getItem(key))?(data=JSON.parse(raw)).o&&data.o.expires?data.c>Date.now()-1e3*data.o.expires*60*60*24?data.v:(localStorage.removeItem(key),null):data.v:void 0:Cookies.get(key)},remove:function(key){return localStorageAllowed()?localStorage.removeItem(key):Cookies.remove(key)}}})}.call(this),function(){var DMY_REGEX,MDY_REGEX,SALT,StoredDobService,decodeString,encodeString,idToKey,xor;MDY_REGEX=/^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/(19|20)(\d\d)$/,DMY_REGEX=/^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/(19|20)(\d\d)$/,SALT=9576890767,xor=function(input,key){var charCode,i,j,output,ref;for(output=[],i=j=0,ref=input.length;0<=ref?j<ref:ref<j;i=0<=ref?++j:--j)charCode=input.charCodeAt(i)^key[i%key.length].charCodeAt(0),output.push(String.fromCharCode(charCode));return output.join("")},encodeString=function(input,key){return btoa(xor(input,key))},decodeString=function(input,key){return xor(atob(input),key)},idToKey=function(id){return(id*SALT).toString().split().reverse().join()},StoredDobService=function(campaignService,storageService){var convertDOB,get,parseDOB;return{applyStoredDOB:function(){var dobField,dobFormat,dobStringISO,group,j,key,len,ref,value;if(dobStringISO=get())for(j=0,len=(ref=campaignService.campaign.contestant_details_groups).length;j<len;j++)for(key in group=ref[j])"dob"===(value=group[key]).type&&"minimum_age"===value.generated&&value.required&&(dobField=key,dobFormat=value.age_format);if(dobField)return campaignService.contestantState.form[dobField]=convertDOB(dobFormat,dobStringISO)},contestantFormDOB:function(){var group,j,key,len,ref,value;for(j=0,len=(ref=campaignService.campaign.contestant_details_groups).length;j<len;j++)for(key in group=ref[j])if("dob"===(value=group[key]).type&&"minimum_age"===value.generated&&campaignService.contestantState.form[key])return parseDOB(value.age_format,campaignService.contestantState.form[key])},convertDOB:convertDOB=function(format,dobStringISO){var date,dobDay,dobMonth,dobYear;return format?(dobYear=""+(date=new Date(Date.parse(dobStringISO))).getUTCFullYear(),(dobMonth=""+(date.getUTCMonth()+1)).match("..")||(dobMonth="0"+dobMonth),(dobDay=""+date.getUTCDate()).match("..")||(dobDay="0"+dobDay),"DMY"===format?dobDay+"/"+dobMonth+"/"+dobYear:dobMonth+"/"+dobDay+"/"+dobYear):dobStringISO},parseDOB:parseDOB=function(format,dateString){var day,match,mdy,month,year;return format?(format=(mdy="DMY"!==format)?MDY_REGEX:DMY_REGEX,match=dateString.match(format),mdy?(day=match[2],month=match[1]):(day=match[1],month=match[2]),year=match[3]+match[4],new Date(Date.UTC(parseInt(year),parseInt(month)-1,parseInt(day))).toISOString().substring(0,10)):dateString},set:function(dobStringISO){var encodedDOB,key;return key=idToKey(campaignService.contestantState.contestant.id),encodedDOB=encodeString(dobStringISO,key),storageService.set("_sdob",encodedDOB)},get:get=function(){var encodedDOB,key;return campaignService.contestantState.contestant.stored_dob?campaignService.contestantState.contestant.stored_dob:(encodedDOB=storageService.get("_sdob"))?(key=idToKey(campaignService.contestantState.contestant.id),decodeString(encodedDOB,key).substring(0,10)):void 0},remove:function(){return storageService.remove("_sdob")}}},angular.module("App.services").factory("storedDobService",StoredDobService)}.call(this),function(){angular.module("App.services").factory("trackingPixelService",["$http","facebookLoginService",function(){var replaceTokens,track;return replaceTokens=function(src,entryMethod){return src.replace(/###ID###/gi,entryMethod.id).replace(/###TYPE###/gi,entryMethod.entry_type).replace(/###PROVIDER###/gi,entryMethod.provider)},track=function(srcs,entryMethod){var i,len,replacedSrc,results,src;if(null==entryMethod&&(entryMethod=null),srcs){for(results=[],i=0,len=srcs.length;i<len;i++)src=srcs[i],replacedSrc=entryMethod?replaceTokens(src,entryMethod):src,results.push($("<img/>").attr("src",replacedSrc));return results}},{trackAction:function(entryMethod,config,firstAction){if(config)return firstAction&&track(config["default"],entryMethod),track(config[entryMethod.id]),track(config.all)},onLoad:function(config){if(config)return track(config.load)}}}])}.call(this),function(){angular.module("App.services").service("wordCountService",["$injector",function(){return{count:function(text){return"string"!=typeof text?0:text.replace(/'/g,"").replace(/[^\w]/g," ").replace(/\s+/g," ").trim().split(" ").filter(function(s){return""!==s}).length}}}])}.call(this),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.tooltip","ui.bootstrap.position","ui.bootstrap.stackedMap","ui.bootstrap.buttons","ui.bootstrap.alert","ui.bootstrap.popover"]),angular.module("ui.bootstrap.tpls",["uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/alert/alert.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html"]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},triggerMap={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function setTriggers(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function($window,$compile,$timeout,$document,$position,$interpolate,$rootScope,$parse,$$stackedMap){function keypressListener(e){if(27===e.which){var last=openedTooltips.top();last&&(last.value.close(),last=null)}}var openedTooltips=$$stackedMap.createNew();return $document.on("keyup",keypressListener),$rootScope.$on("$destroy",function(){$document.off("keyup",keypressListener)}),function $tooltip(ttType,prefix,defaultTriggerShow,options){function getTriggers(trigger){var show=(trigger||options.trigger||defaultTriggerShow).split(" "),hide=show.map(function(trigger){return triggerMap[trigger]||trigger});return{show:show,hide:hide}}options=angular.extend({},defaultOptions,globalOptions,options);var directiveName=snake_case(ttType),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup uib-title="'+startSym+"title"+endSym+'" '+(options.useContentExp?'content-exp="contentExp()" ':'content="'+startSym+"content"+endSym+'" ')+'origin-scope="origScope" class="uib-position-measure '+prefix+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(){var tooltipLinker=$compile(template);return function link(scope,element,attrs){function toggleTooltipBind(){ttScope.isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){hasEnableExp&&!scope.$eval(attrs[prefix+"Enable"])||(cancelHide(),prepareTooltip(),ttScope.popupDelay?showTimeout||(showTimeout=$timeout(show,ttScope.popupDelay,!1)):show())}function hideTooltipBind(){cancelShow(),ttScope.popupCloseDelay?hideTimeout||(hideTimeout=$timeout(hide,ttScope.popupCloseDelay,!1)):hide()}function show(){if(cancelShow(),cancelHide(),!ttScope.content)return angular.noop;createTooltip(),ttScope.$evalAsync(function(){assignIsOpen(ttScope.isOpen=!0),positionTooltip()})}function cancelShow(){showTimeout&&($timeout.cancel(showTimeout),showTimeout=null),positionTimeout&&($timeout.cancel(positionTimeout),positionTimeout=null)}function hide(){ttScope&&ttScope.$evalAsync(function(){ttScope&&(assignIsOpen(ttScope.isOpen=!1),ttScope.animation?transitionTimeout||(transitionTimeout=$timeout(removeTooltip,150,!1)):removeTooltip())})}function cancelHide(){hideTimeout&&($timeout.cancel(hideTimeout),hideTimeout=null),transitionTimeout&&($timeout.cancel(transitionTimeout),transitionTimeout=null)}function createTooltip(){tooltip||(tooltipLinkedScope=ttScope.$new(),tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){appendToBody?$document.find("body").append(tooltip):element.after(tooltip)}),openedTooltips.add(ttScope,{close:hide}),prepObservers())}function removeTooltip(){cancelShow(),cancelHide(),unregisterObservers(),tooltip&&(tooltip.remove(),tooltip=null,adjustmentTimeout&&$timeout.cancel(adjustmentTimeout)),openedTooltips.remove(ttScope),tooltipLinkedScope&&(tooltipLinkedScope.$destroy(),tooltipLinkedScope=null)}function prepareTooltip(){ttScope.title=attrs[prefix+"Title"],ttScope.content=contentParse?contentParse(scope):attrs[ttType],ttScope.popupClass=attrs[prefix+"Class"],ttScope.placement=angular.isDefined(attrs[prefix+"Placement"])?attrs[prefix+"Placement"]:options.placement;var placement=$position.parsePlacement(ttScope.placement);lastPlacement=placement[1]?placement[0]+"-"+placement[1]:placement[0];var delay=parseInt(attrs[prefix+"PopupDelay"],10),closeDelay=parseInt(attrs[prefix+"PopupCloseDelay"],10);ttScope.popupDelay=isNaN(delay)?options.popupDelay:delay,ttScope.popupCloseDelay=isNaN(closeDelay)?options.popupCloseDelay:closeDelay}function assignIsOpen(isOpen){isOpenParse&&angular.isFunction(isOpenParse.assign)&&isOpenParse.assign(scope,isOpen)}function prepObservers(){observers.length=0,contentParse?(observers.push(scope.$watch(contentParse,function(val){!(ttScope.content=val)&&ttScope.isOpen&&hide()})),observers.push(tooltipLinkedScope.$watch(function(){repositionScheduled||(repositionScheduled=!0,tooltipLinkedScope.$$postDigest(function(){repositionScheduled=!1,ttScope&&ttScope.isOpen&&positionTooltip()}))}))):observers.push(attrs.$observe(ttType,function(val){!(ttScope.content=val)&&ttScope.isOpen?hide():positionTooltip()})),observers.push(attrs.$observe(prefix+"Title",function(val){ttScope.title=val,ttScope.isOpen&&positionTooltip()})),observers.push(attrs.$observe(prefix+"Placement",function(val){ttScope.placement=val||options.placement,ttScope.isOpen&&positionTooltip()}))}function unregisterObservers(){observers.length&&(angular.forEach(observers,function(observer){observer()}),observers.length=0)}function bodyHideTooltipBind(e){ttScope&&ttScope.isOpen&&tooltip&&(element[0].contains(e.target)||tooltip[0].contains(e.target)||hideTooltipBind())}function hideOnEscapeKey(e){27===e.which&&hideTooltipBind()}function prepTriggers(){var showTriggers=[],hideTriggers=[],val=scope.$eval(attrs[prefix+"Trigger"]);unregisterTriggers(),angular.isObject(val)?(Object.keys(val).forEach(function(key){showTriggers.push(key),hideTriggers.push(val[key])}),triggers={show:showTriggers,hide:hideTriggers}):triggers=getTriggers(val),"none"!==triggers.show&&triggers.show.forEach(function(trigger,idx){"outsideClick"===trigger?(element.on("click",toggleTooltipBind),$document.on("click",bodyHideTooltipBind)):trigger===triggers.hide[idx]?element.on(trigger,toggleTooltipBind):trigger&&(element.on(trigger,showTooltipBind),element.on(triggers.hide[idx],hideTooltipBind)),element.on("keypress",hideOnEscapeKey)})}var tooltip,tooltipLinkedScope,transitionTimeout,showTimeout,hideTimeout,positionTimeout,adjustmentTimeout,lastPlacement,appendToBody=!!angular.isDefined(options.appendToBody)&&options.appendToBody,triggers=getTriggers(undefined),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),ttScope=scope.$new(!0),repositionScheduled=!1,isOpenParse=!!angular.isDefined(attrs[prefix+"IsOpen"])&&$parse(attrs[prefix+"IsOpen"]),contentParse=!!options.useContentExp&&$parse(attrs[ttType]),observers=[],positionTooltip=function(){tooltip&&tooltip.html()&&(positionTimeout||(positionTimeout=$timeout(function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody),initialHeight=angular.isDefined(tooltip.offsetHeight)?tooltip.offsetHeight:tooltip.prop("offsetHeight"),elementPos=appendToBody?$position.offset(element):$position.position(element);tooltip.css({top:ttPosition.top+"px",left:ttPosition.left+"px"});var placementClasses=ttPosition.placement.split("-");tooltip.hasClass(placementClasses[0])||(tooltip.removeClass(lastPlacement.split("-")[0]),tooltip.addClass(placementClasses[0])),tooltip.hasClass(options.placementClassPrefix+ttPosition.placement)||(tooltip.removeClass(options.placementClassPrefix+lastPlacement),tooltip.addClass(options.placementClassPrefix+ttPosition.placement)),adjustmentTimeout=$timeout(function(){var currentHeight=angular.isDefined(tooltip.offsetHeight)?tooltip.offsetHeight:tooltip.prop("offsetHeight"),adjustment=$position.adjustTop(placementClasses,elementPos,initialHeight,currentHeight);adjustment&&tooltip.css(adjustment),adjustmentTimeout=null},0,!1),tooltip.hasClass("uib-position-measure")?($position.positionArrow(tooltip,ttPosition.placement),tooltip.removeClass("uib-position-measure")):lastPlacement!==ttPosition.placement&&$position.positionArrow(tooltip,ttPosition.placement),lastPlacement=ttPosition.placement,positionTimeout=null},0,!1)))};ttScope.origScope=scope,ttScope.isOpen=!1,ttScope.contentExp=function(){return ttScope.content},attrs.$observe("disabled",function(val){val&&cancelShow(),val&&ttScope.isOpen&&hide()}),isOpenParse&&scope.$watch(isOpenParse,function(val){ttScope&&!val===ttScope.isOpen&&toggleTooltipBind()});var unregisterTriggers=function(){triggers.show.forEach(function(trigger){"outsideClick"===trigger?element.off("click",toggleTooltipBind):(element.off(trigger,showTooltipBind),element.off(trigger,toggleTooltipBind)),element.off("keypress",hideOnEscapeKey)}),triggers.hide.forEach(function(trigger){"outsideClick"===trigger?$document.off("click",bodyHideTooltipBind):element.off(trigger,hideTooltipBind)})};prepTriggers();var appendToBodyVal,animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendKey=prefix+"AppendToBody";appendToBodyVal=appendKey in attrs&&attrs[appendKey]===undefined||scope.$eval(attrs[appendKey]),appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody,scope.$on("$destroy",function onDestroyTooltip(){unregisterTriggers(),removeTooltip(),ttScope=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function($animate,$sce,$compile,$templateRequest){return{link:function(scope,elem,attrs){var currentScope,previousElement,currentElement,origScope=scope.$eval(attrs.tooltipTemplateTranscludeScope),changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude),function(src){var thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=origScope.$new(),clone=$compile(response)(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,elem)});currentElement=clone,(currentScope=newScope).$emit("$includeContentLoaded",src)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):cleanupLastIncludeContent()}),scope.$on("$destroy",cleanupLastIncludeContent)}}}]).directive("uibTooltipClasses",["$uibPosition",function($uibPosition){return{restrict:"A",link:function(scope,element,attrs){if(scope.placement){var position=$uibPosition.parsePlacement(scope.placement);element.addClass(position[0])}scope.popupClass&&element.addClass(scope.popupClass),scope.animation&&element.addClass(attrs.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function($document,$window){var SCROLLBAR_WIDTH,BODY_SCROLLBAR_WIDTH,OVERFLOW_REGEX={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},PLACEMENT_REGEX={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},BODY_REGEX=/(HTML|BODY)/;return{getRawNode:function(elem){return elem.nodeName?elem:elem[0]||elem},parseStyle:function(value){return value=parseFloat(value),isFinite(value)?value:0},offsetParent:function(elem){function isStaticPositioned(el){return"static"===($window.getComputedStyle(el).position||"static")}for(var offsetParent=(elem=this.getRawNode(elem)).offsetParent||$document[0].documentElement;offsetParent&&offsetParent!==$document[0].documentElement&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||$document[0].documentElement},scrollbarWidth:function(isBody){if(isBody){if(angular.isUndefined(BODY_SCROLLBAR_WIDTH)){var bodyElem=$document.find("body");bodyElem.addClass("uib-position-body-scrollbar-measure"),BODY_SCROLLBAR_WIDTH=$window.innerWidth-bodyElem[0].clientWidth,BODY_SCROLLBAR_WIDTH=isFinite(BODY_SCROLLBAR_WIDTH)?BODY_SCROLLBAR_WIDTH:0,bodyElem.removeClass("uib-position-body-scrollbar-measure")}return BODY_SCROLLBAR_WIDTH}if(angular.isUndefined(SCROLLBAR_WIDTH)){var scrollElem=angular.element('<div class="uib-position-scrollbar-measure"></div>');$document.find("body").append(scrollElem),SCROLLBAR_WIDTH=scrollElem[0].offsetWidth-scrollElem[0].clientWidth,SCROLLBAR_WIDTH=isFinite(SCROLLBAR_WIDTH)?SCROLLBAR_WIDTH:0,scrollElem.remove()}return SCROLLBAR_WIDTH},scrollbarPadding:function(elem){elem=this.getRawNode(elem);var elemStyle=$window.getComputedStyle(elem),paddingRight=this.parseStyle(elemStyle.paddingRight),paddingBottom=this.parseStyle(elemStyle.paddingBottom),scrollParent=this.scrollParent(elem,!1,!0),scrollbarWidth=this.scrollbarWidth(BODY_REGEX.test(scrollParent.tagName));return{scrollbarWidth:scrollbarWidth,widthOverflow:scrollParent.scrollWidth>scrollParent.clientWidth,right:paddingRight+scrollbarWidth,originalRight:paddingRight,heightOverflow:scrollParent.scrollHeight>scrollParent.clientHeight,bottom:paddingBottom+scrollbarWidth,originalBottom:paddingBottom}},isScrollable:function(elem,includeHidden){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal,elemStyle=$window.getComputedStyle(elem);return overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX)},scrollParent:function(elem,includeHidden,includeSelf){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal,documentEl=$document[0].documentElement,elemStyle=$window.getComputedStyle(elem);if(includeSelf&&overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX))return elem;var excludeStatic="absolute"===elemStyle.position,scrollParent=elem.parentElement||documentEl;if(scrollParent===documentEl||"fixed"===elemStyle.position)return documentEl;for(;scrollParent.parentElement&&scrollParent!==documentEl;){var spStyle=$window.getComputedStyle(scrollParent);if(excludeStatic&&"static"!==spStyle.position&&(excludeStatic=!1),!excludeStatic&&overflowRegex.test(spStyle.overflow+spStyle.overflowY+spStyle.overflowX))break;scrollParent=scrollParent.parentElement}return scrollParent},position:function(elem,includeMagins){elem=this.getRawNode(elem);var elemOffset=this.offset(elem);if(includeMagins){var elemStyle=$window.getComputedStyle(elem);elemOffset.top-=this.parseStyle(elemStyle.marginTop),elemOffset.left-=this.parseStyle(elemStyle.marginLeft)}var parent=this.offsetParent(elem),parentOffset={top:0,left:0};return parent!==$document[0].documentElement&&((parentOffset=this.offset(parent)).top+=parent.clientTop-parent.scrollTop,parentOffset.left+=parent.clientLeft-parent.scrollLeft),{width:Math.round(angular.isNumber(elemOffset.width)?elemOffset.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemOffset.height)?elemOffset.height:elem.offsetHeight),top:Math.round(elemOffset.top-parentOffset.top),left:Math.round(elemOffset.left-parentOffset.left)}},offset:function(elem){var elemBCR=(elem=this.getRawNode(elem)).getBoundingClientRect();return{width:Math.round(angular.isNumber(elemBCR.width)?elemBCR.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemBCR.height)?elemBCR.height:elem.offsetHeight),top:Math.round(elemBCR.top+($window.pageYOffset||$document[0].documentElement.scrollTop)),left:Math.round(elemBCR.left+($window.pageXOffset||$document[0].documentElement.scrollLeft))}},viewportOffset:function(elem,useDocument,includePadding){includePadding=!1!==includePadding;var elemBCR=(elem=this.getRawNode(elem)).getBoundingClientRect(),offsetBCR={top:0,left:0,bottom:0,right:0},offsetParent=useDocument?$document[0].documentElement:this.scrollParent(elem),offsetParentBCR=offsetParent.getBoundingClientRect();if(offsetBCR.top=offsetParentBCR.top+offsetParent.clientTop,offsetBCR.left=offsetParentBCR.left+offsetParent.clientLeft,offsetParent===$document[0].documentElement&&(offsetBCR.top+=$window.pageYOffset,offsetBCR.left+=$window.pageXOffset),offsetBCR.bottom=offsetBCR.top+offsetParent.clientHeight,offsetBCR.right=offsetBCR.left+offsetParent.clientWidth,includePadding){var offsetParentStyle=$window.getComputedStyle(offsetParent);offsetBCR.top+=this.parseStyle(offsetParentStyle.paddingTop),offsetBCR.bottom-=this.parseStyle(offsetParentStyle.paddingBottom),offsetBCR.left+=this.parseStyle(offsetParentStyle.paddingLeft),offsetBCR.right-=this.parseStyle(offsetParentStyle.paddingRight)}return{top:Math.round(elemBCR.top-offsetBCR.top),bottom:Math.round(offsetBCR.bottom-elemBCR.bottom),left:Math.round(elemBCR.left-offsetBCR.left),right:Math.round(offsetBCR.right-elemBCR.right)}},parsePlacement:function(placement){var autoPlace=PLACEMENT_REGEX.auto.test(placement);return autoPlace&&(placement=placement.replace(PLACEMENT_REGEX.auto,"")),(placement=placement.split("-"))[0]=placement[0]||"top",PLACEMENT_REGEX.primary.test(placement[0])||(placement[0]="top"),placement[1]=placement[1]||"center",PLACEMENT_REGEX.secondary.test(placement[1])||(placement[1]="center"),placement[2]=!!autoPlace,placement},positionElements:function(hostElem,targetElem,placement,appendToBody){hostElem=this.getRawNode(hostElem),targetElem=this.getRawNode(targetElem);var targetWidth=angular.isDefined(targetElem.offsetWidth)?targetElem.offsetWidth:targetElem.prop("offsetWidth"),targetHeight=angular.isDefined(targetElem.offsetHeight)?targetElem.offsetHeight:targetElem.prop("offsetHeight");placement=this.parsePlacement(placement);var hostElemPos=appendToBody?this.offset(hostElem):this.position(hostElem),targetElemPos={top:0,left:0,placement:""};if(placement[2]){var viewportOffset=this.viewportOffset(hostElem,appendToBody),targetElemStyle=$window.getComputedStyle(targetElem),adjustedSize={width:targetWidth+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginLeft)+this.parseStyle(targetElemStyle.marginRight))),height:targetHeight+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginTop)+this.parseStyle(targetElemStyle.marginBottom)))};if(placement[0]="top"===placement[0]&&adjustedSize.height>viewportOffset.top&&adjustedSize.height<=viewportOffset.bottom?"bottom":"bottom"===placement[0]&&adjustedSize.height>viewportOffset.bottom&&adjustedSize.height<=viewportOffset.top?"top":"left"===placement[0]&&adjustedSize.width>viewportOffset.left&&adjustedSize.width<=viewportOffset.right?"right":"right"===placement[0]&&adjustedSize.width>viewportOffset.right&&adjustedSize.width<=viewportOffset.left?"left":placement[0],placement[1]="top"===placement[1]&&adjustedSize.height-hostElemPos.height>viewportOffset.bottom&&adjustedSize.height-hostElemPos.height<=viewportOffset.top?"bottom":"bottom"===placement[1]&&adjustedSize.height-hostElemPos.height>viewportOffset.top&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom?"top":"left"===placement[1]&&adjustedSize.width-hostElemPos.width>viewportOffset.right&&adjustedSize.width-hostElemPos.width<=viewportOffset.left?"right":"right"===placement[1]&&adjustedSize.width-hostElemPos.width>viewportOffset.left&&adjustedSize.width-hostElemPos.width<=viewportOffset.right?"left":placement[1],"center"===placement[1])if(PLACEMENT_REGEX.vertical.test(placement[0])){var xOverflow=hostElemPos.width/2-targetWidth/2;viewportOffset.left+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.right?placement[1]="left":viewportOffset.right+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.left&&(placement[1]="right")}else{var yOverflow=hostElemPos.height/2-adjustedSize.height/2;viewportOffset.top+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom?placement[1]="top":viewportOffset.bottom+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.top&&(placement[1]="bottom")}}switch(placement[0]){case"top":targetElemPos.top=hostElemPos.top-targetHeight;break;case"bottom":targetElemPos.top=hostElemPos.top+hostElemPos.height;break;case"left":targetElemPos.left=hostElemPos.left-targetWidth;break;case"right":targetElemPos.left=hostElemPos.left+hostElemPos.width}switch(placement[1]){case"top":targetElemPos.top=hostElemPos.top;break;case"bottom":targetElemPos.top=hostElemPos.top+hostElemPos.height-targetHeight;break;case"left":targetElemPos.left=hostElemPos.left;break;case"right":targetElemPos.left=hostElemPos.left+hostElemPos.width-targetWidth;break;case"center":PLACEMENT_REGEX.vertical.test(placement[0])?targetElemPos.left=hostElemPos.left+hostElemPos.width/2-targetWidth/2:targetElemPos.top=hostElemPos.top+hostElemPos.height/2-targetHeight/2}return targetElemPos.top=Math.round(targetElemPos.top),targetElemPos.left=Math.round(targetElemPos.left),targetElemPos.placement="center"===placement[1]?placement[0]:placement[0]+"-"+placement[1],targetElemPos},adjustTop:function(placementClasses,containerPosition,initialHeight,currentHeight){if(-1!==placementClasses.indexOf("top")&&initialHeight!==currentHeight)return{top:containerPosition.top-currentHeight+"px"}},positionArrow:function(elem,placement){var innerElem=(elem=this.getRawNode(elem)).querySelector(".tooltip-inner, .popover-inner");if(innerElem){
var isTooltip=angular.element(innerElem).hasClass("tooltip-inner"),arrowElem=isTooltip?elem.querySelector(".tooltip-arrow"):elem.querySelector(".arrow");if(arrowElem){var arrowCss={top:"",bottom:"",left:"",right:""};if("center"!==(placement=this.parsePlacement(placement))[1]){var borderProp="border-"+placement[0]+"-width",borderWidth=$window.getComputedStyle(arrowElem)[borderProp],borderRadiusProp="border-";PLACEMENT_REGEX.vertical.test(placement[0])?borderRadiusProp+=placement[0]+"-"+placement[1]:borderRadiusProp+=placement[1]+"-"+placement[0],borderRadiusProp+="-radius";var borderRadius=$window.getComputedStyle(isTooltip?innerElem:elem)[borderRadiusProp];switch(placement[0]){case"top":arrowCss.bottom=isTooltip?"0":"-"+borderWidth;break;case"bottom":arrowCss.top=isTooltip?"0":"-"+borderWidth;break;case"left":arrowCss.right=isTooltip?"0":"-"+borderWidth;break;case"right":arrowCss.left=isTooltip?"0":"-"+borderWidth}arrowCss[placement[1]]=borderRadius,angular.element(arrowElem).css(arrowCss)}else angular.element(arrowElem).css(arrowCss)}}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key===stack[i].key)return stack[i]},keys:function(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key===stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.pop()},length:function(){return stack.length}}}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function($parse){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1],uncheckableExpr=$parse(attrs.uibUncheckable);element.find("input").css({display:"none"}),ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.uibBtnRadio)))},element.on(buttonsCtrl.toggleEvent,function(){if(!attrs.disabled){var isActive=element.hasClass(buttonsCtrl.activeClass);isActive&&!angular.isDefined(attrs.uncheckable)||scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.uibBtnRadio)),ngModelCtrl.$render()})}}),attrs.uibUncheckable&&scope.$watch(uncheckableExpr,function(uncheckable){attrs.$set("uncheckable",uncheckable?"":undefined)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attribute,defaultValue){return angular.isDefined(attribute)?scope.$eval(attribute):defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];element.find("input").css({display:"none"}),ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.on(buttonsCtrl.toggleEvent,function(){attrs.disabled||scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function($scope,$element,$attrs,$interpolate,$timeout){$scope.closeable=!!$attrs.close,$element.addClass("alert"),$attrs.$set("role","alert"),$scope.closeable&&$element.addClass("alert-dismissible");var dismissOnTimeout=angular.isDefined($attrs.dismissOnTimeout)?$interpolate($attrs.dismissOnTimeout)($scope.$parent):null;dismissOnTimeout&&$timeout(function(){$scope.close()},parseInt(dismissOnTimeout,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(element,attrs){return attrs.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function($uibTooltip){return $uibTooltip("uibPopover","popover","click")}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),function(){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(exports){function inherits(parent,child,argument_2){var props=2<arguments.length&&argument_2!==undefined?arguments[2]:{},extended=Object.create(parent.prototype);for(var p in props)extended[p]=props[p];return(extended.constructor=child).prototype=extended,child}function Options(opts){opts=opts||{},this.defaultProtocol=opts.hasOwnProperty("defaultProtocol")?opts.defaultProtocol:defaults.defaultProtocol,this.events=opts.hasOwnProperty("events")?opts.events:defaults.events,this.format=opts.hasOwnProperty("format")?opts.format:defaults.format,this.formatHref=opts.hasOwnProperty("formatHref")?opts.formatHref:defaults.formatHref,this.nl2br=opts.hasOwnProperty("nl2br")?opts.nl2br:defaults.nl2br,this.tagName=opts.hasOwnProperty("tagName")?opts.tagName:defaults.tagName,this.target=opts.hasOwnProperty("target")?opts.target:defaults.target,this.validate=opts.hasOwnProperty("validate")?opts.validate:defaults.validate,this.ignoreTags=[],this.attributes=opts.attributes||opts.linkAttributes||defaults.attributes,this.className=opts.hasOwnProperty("className")?opts.className:opts.linkClass||defaults.className;for(var ignoredTags=opts.hasOwnProperty("ignoreTags")?opts.ignoreTags:defaults.ignoreTags,i=0;i<ignoredTags.length;i++)this.ignoreTags.push(ignoredTags[i].toUpperCase())}function contains(arr,value){for(var i=0;i<arr.length;i++)if(arr[i]===value)return!0;return!1}function noop(val){return val}function typeToTarget(href,type){return"url"===type?"_blank":null}function createStateClass(){return function(tClass){this.j=[],this.T=tClass||null}}function stateify(str,start,endToken,defaultToken){for(var i=0,len=str.length,state=start,newStates=[],nextState=void 0;i<len&&(nextState=state.next(str[i]));)state=nextState,i++;if(len<=i)return[];for(;i<len-1;)nextState=new CharacterState(defaultToken),newStates.push(nextState),state.on(str[i],nextState),state=nextState,i++;return nextState=new CharacterState(endToken),newStates.push(nextState),state.on(str[len-1],nextState),newStates}function createTokenClass(){return function(value){value&&(this.v=value)}}function inheritsToken(value){var props=value?{v:value}:{};return inherits(TextToken,createTokenClass(),props)}function isDomainToken(token){return token instanceof DOMAIN||token instanceof TLD}var defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:typeToTarget,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};Options.prototype={resolve:function resolve(token){var href=token.toHref(this.defaultProtocol);return{formatted:this.get("format",token.toString(),token),formattedHref:this.get("formatHref",href,token),tagName:this.get("tagName",href,token),className:this.get("className",href,token),target:this.get("target",href,token),events:this.getObject("events",href,token),attributes:this.getObject("attributes",href,token)}},check:function check(token){return this.get("validate",token.toString(),token)},get:function get(key,operator,token){var optionValue=void 0,option=this[key];if(!option)return option;switch(void 0===option?"undefined":_typeof(option)){case"function":return option(operator,token.type);case"object":return"function"==typeof(optionValue=option.hasOwnProperty(token.type)?option[token.type]:defaults[key])?optionValue(operator,token.type):optionValue}return option},getObject:function getObject(key,operator,token){var option=this[key];return"function"==typeof option?option(operator,token.type):option}};var options=Object.freeze({defaults:defaults,Options:Options,contains:contains}),BaseState=createStateClass();BaseState.prototype={defaultTransition:!1,on:function on(symbol,state){if(symbol instanceof Array){for(var i=0;i<symbol.length;i++)this.j.push([symbol[i],state]);return this}return this.j.push([symbol,state]),this},next:function next(item){for(var i=0;i<this.j.length;i++){var jump=this.j[i],symbol=jump[0],state=jump[1];if(this.test(item,symbol))return state}return this.defaultTransition},accepts:function accepts(){return!!this.T},test:function test(item,symbol){return item===symbol},emit:function emit(){return this.T}};var CharacterState=inherits(BaseState,createStateClass(),{test:function test(character,charOrRegExp){return character===charOrRegExp||charOrRegExp instanceof RegExp&&charOrRegExp.test(character)}}),TokenState=inherits(BaseState,createStateClass(),{jump:function jump(token,argument_1){var tClass=1<arguments.length&&argument_1!==undefined?arguments[1]:null,state=this.next(new token(""));return state===this.defaultTransition?(state=new this.constructor(tClass),this.on(token,state)):tClass&&(state.T=tClass),state},test:function test(token,tokenClass){return token instanceof tokenClass}}),TextToken=createTokenClass();TextToken.prototype={toString:function toString(){return this.v+""}};var DOMAIN=inheritsToken(),AT=inheritsToken("@"),COLON=inheritsToken(":"),DOT=inheritsToken("."),PUNCTUATION=inheritsToken(),LOCALHOST=inheritsToken(),NL=inheritsToken("\n"),NUM=inheritsToken(),PLUS=inheritsToken("+"),POUND=inheritsToken("#"),PROTOCOL=inheritsToken(),MAILTO=inheritsToken("mailto:"),QUERY=inheritsToken("?"),SLASH=inheritsToken("/"),UNDERSCORE=inheritsToken("_"),SYM=inheritsToken(),TLD=inheritsToken(),WS=inheritsToken(),OPENBRACE=inheritsToken("{"),OPENBRACKET=inheritsToken("["),OPENANGLEBRACKET=inheritsToken("<"),OPENPAREN=inheritsToken("("),CLOSEBRACE=inheritsToken("}"),CLOSEBRACKET=inheritsToken("]"),CLOSEANGLEBRACKET=inheritsToken(">"),CLOSEPAREN=inheritsToken(")"),AMPERSAND=inheritsToken("&"),text=Object.freeze({Base:TextToken,DOMAIN:DOMAIN,AT:AT,COLON:COLON,DOT:DOT,PUNCTUATION:PUNCTUATION,LOCALHOST:LOCALHOST,NL:NL,NUM:NUM,PLUS:PLUS,POUND:POUND,QUERY:QUERY,PROTOCOL:PROTOCOL,MAILTO:MAILTO,SLASH:SLASH,UNDERSCORE:UNDERSCORE,SYM:SYM,TLD:TLD,WS:WS,OPENBRACE:OPENBRACE,OPENBRACKET:OPENBRACKET,OPENANGLEBRACKET:OPENANGLEBRACKET,OPENPAREN:OPENPAREN,CLOSEBRACE:CLOSEBRACE,CLOSEBRACKET:CLOSEBRACKET,CLOSEANGLEBRACKET:CLOSEANGLEBRACKET,CLOSEPAREN:CLOSEPAREN,AMPERSAND:AMPERSAND}),tlds="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),NUMBERS="0123456789".split(""),ALPHANUM="0123456789abcdefghijklmnopqrstuvwxyz".split(""),WHITESPACE=[" ","\f","\r","\t","\x0B","\xa0","\u1680","\u180e"],domainStates=[],makeState=function makeState(tokenClass){return new CharacterState(tokenClass)},S_START=makeState(),S_NUM=makeState(NUM),S_DOMAIN=makeState(DOMAIN),S_DOMAIN_HYPHEN=makeState(),S_WS=makeState(WS);S_START.on("@",makeState(AT)).on(".",makeState(DOT)).on("+",makeState(PLUS)).on("#",makeState(POUND)).on("?",makeState(QUERY)).on("/",makeState(SLASH)).on("_",makeState(UNDERSCORE)).on(":",makeState(COLON)).on("{",makeState(OPENBRACE)).on("[",makeState(OPENBRACKET)).on("<",makeState(OPENANGLEBRACKET)).on("(",makeState(OPENPAREN)).on("}",makeState(CLOSEBRACE)).on("]",makeState(CLOSEBRACKET)).on(">",makeState(CLOSEANGLEBRACKET)).on(")",makeState(CLOSEPAREN)).on("&",makeState(AMPERSAND)).on([",",";","!",'"',"'"],makeState(PUNCTUATION)),S_START.on("\n",makeState(NL)).on(WHITESPACE,S_WS),S_WS.on(WHITESPACE,S_WS);for(var i=0;i<tlds.length;i++){var newStates=stateify(tlds[i],S_START,TLD,DOMAIN);domainStates.push.apply(domainStates,newStates)}var partialProtocolFileStates=stateify("file",S_START,DOMAIN,DOMAIN),partialProtocolFtpStates=stateify("ftp",S_START,DOMAIN,DOMAIN),partialProtocolHttpStates=stateify("http",S_START,DOMAIN,DOMAIN),partialProtocolMailtoStates=stateify("mailto",S_START,DOMAIN,DOMAIN);domainStates.push.apply(domainStates,partialProtocolFileStates),domainStates.push.apply(domainStates,partialProtocolFtpStates),domainStates.push.apply(domainStates,partialProtocolHttpStates),domainStates.push.apply(domainStates,partialProtocolMailtoStates);var S_PROTOCOL_FILE=partialProtocolFileStates.pop(),S_PROTOCOL_FTP=partialProtocolFtpStates.pop(),S_PROTOCOL_HTTP=partialProtocolHttpStates.pop(),S_MAILTO=partialProtocolMailtoStates.pop(),S_PROTOCOL_SECURE=makeState(DOMAIN),S_FULL_PROTOCOL=makeState(PROTOCOL),S_FULL_MAILTO=makeState(MAILTO);S_PROTOCOL_FTP.on("s",S_PROTOCOL_SECURE).on(":",S_FULL_PROTOCOL),S_PROTOCOL_HTTP.on("s",S_PROTOCOL_SECURE).on(":",S_FULL_PROTOCOL),domainStates.push(S_PROTOCOL_SECURE),S_PROTOCOL_FILE.on(":",S_FULL_PROTOCOL),S_PROTOCOL_SECURE.on(":",S_FULL_PROTOCOL),S_MAILTO.on(":",S_FULL_MAILTO);var partialLocalhostStates=stateify("localhost",S_START,LOCALHOST,DOMAIN);domainStates.push.apply(domainStates,partialLocalhostStates),S_START.on(NUMBERS,S_NUM),S_NUM.on("-",S_DOMAIN_HYPHEN).on(NUMBERS,S_NUM).on(ALPHANUM,S_DOMAIN),S_DOMAIN.on("-",S_DOMAIN_HYPHEN).on(ALPHANUM,S_DOMAIN);for(var _i=0;_i<domainStates.length;_i++)domainStates[_i].on("-",S_DOMAIN_HYPHEN).on(ALPHANUM,S_DOMAIN);S_DOMAIN_HYPHEN.on("-",S_DOMAIN_HYPHEN).on(NUMBERS,S_DOMAIN).on(ALPHANUM,S_DOMAIN),S_START.defaultTransition=makeState(SYM);var run=function run(str){for(var lowerStr=str.replace(/[A-Z]/g,function(c){return c.toLowerCase()}),len=str.length,tokens=[],cursor=0;cursor<len;){for(var state=S_START,nextState=null,tokenLength=0,latestAccepting=null,sinceAccepts=-1;cursor<len&&(nextState=state.next(lowerStr[cursor]));)(state=nextState).accepts()?(sinceAccepts=0,latestAccepting=state):0<=sinceAccepts&&sinceAccepts++,tokenLength++,cursor++;if(!(sinceAccepts<0)){cursor-=sinceAccepts,tokenLength-=sinceAccepts;var TOKEN=latestAccepting.emit();tokens.push(new TOKEN(str.substr(cursor-tokenLength,tokenLength)))}}return tokens},start=S_START,scanner=Object.freeze({State:CharacterState,TOKENS:text,run:run,start:start}),MultiToken=createTokenClass();MultiToken.prototype={type:"token",isLink:!1,toString:function toString(){for(var result=[],_i2=0;_i2<this.v.length;_i2++)result.push(this.v[_i2].toString());return result.join("")},toHref:function toHref(){return this.toString()},toObject:function toObject(argument_0){var protocol=0<arguments.length&&argument_0!==undefined?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(protocol)}}};var MAILTOEMAIL=inherits(MultiToken,createTokenClass(),{type:"email",isLink:!0}),EMAIL=inherits(MultiToken,createTokenClass(),{type:"email",isLink:!0,toHref:function toHref(){return"mailto:"+this.toString()}}),TEXT=inherits(MultiToken,createTokenClass(),{type:"text"}),NL$1=inherits(MultiToken,createTokenClass(),{type:"nl"}),URL=inherits(MultiToken,createTokenClass(),{type:"url",isLink:!0,toHref:function toHref(argument_0){for(var protocol=0<arguments.length&&argument_0!==undefined?arguments[0]:"http",hasProtocol=!1,hasSlashSlash=!1,tokens=this.v,result=[],i=0;tokens[i]instanceof PROTOCOL;
)hasProtocol=!0,result.push(tokens[i].toString().toLowerCase()),i++;for(;tokens[i]instanceof SLASH;)hasSlashSlash=!0,result.push(tokens[i].toString()),i++;for(;isDomainToken(tokens[i]);)result.push(tokens[i].toString().toLowerCase()),i++;for(;i<tokens.length;i++)result.push(tokens[i].toString());return result=result.join(""),hasProtocol||hasSlashSlash||(result=protocol+"://"+result),result},hasProtocol:function hasProtocol(){return this.v[0]instanceof PROTOCOL}}),multi=Object.freeze({Base:MultiToken,MAILTOEMAIL:MAILTOEMAIL,EMAIL:EMAIL,NL:NL$1,TEXT:TEXT,URL:URL}),makeState$1=function makeState$1(tokenClass){return new TokenState(tokenClass)},S_START$1=makeState$1(),S_PROTOCOL=makeState$1(),S_MAILTO$1=makeState$1(),S_PROTOCOL_SLASH=makeState$1(),S_PROTOCOL_SLASH_SLASH=makeState$1(),S_DOMAIN$1=makeState$1(),S_DOMAIN_DOT=makeState$1(),S_TLD=makeState$1(URL),S_TLD_COLON=makeState$1(),S_TLD_PORT=makeState$1(URL),S_URL=makeState$1(URL),S_URL_NON_ACCEPTING=makeState$1(),S_URL_OPENBRACE=makeState$1(),S_URL_OPENBRACKET=makeState$1(),S_URL_OPENANGLEBRACKET=makeState$1(),S_URL_OPENPAREN=makeState$1(),S_URL_OPENBRACE_Q=makeState$1(URL),S_URL_OPENBRACKET_Q=makeState$1(URL),S_URL_OPENANGLEBRACKET_Q=makeState$1(URL),S_URL_OPENPAREN_Q=makeState$1(URL),S_URL_OPENBRACE_SYMS=makeState$1(),S_URL_OPENBRACKET_SYMS=makeState$1(),S_URL_OPENANGLEBRACKET_SYMS=makeState$1(),S_URL_OPENPAREN_SYMS=makeState$1(),S_EMAIL_DOMAIN=makeState$1(),S_EMAIL_DOMAIN_DOT=makeState$1(),S_EMAIL=makeState$1(EMAIL),S_EMAIL_COLON=makeState$1(),S_EMAIL_PORT=makeState$1(EMAIL),S_MAILTO_EMAIL=makeState$1(MAILTOEMAIL),S_MAILTO_EMAIL_NON_ACCEPTING=makeState$1(),S_LOCALPART=makeState$1(),S_LOCALPART_AT=makeState$1(),S_LOCALPART_DOT=makeState$1(),S_NL=makeState$1(NL$1);S_START$1.on(NL,S_NL).on(PROTOCOL,S_PROTOCOL).on(MAILTO,S_MAILTO$1).on(SLASH,S_PROTOCOL_SLASH),S_PROTOCOL.on(SLASH,S_PROTOCOL_SLASH),S_PROTOCOL_SLASH.on(SLASH,S_PROTOCOL_SLASH_SLASH),S_START$1.on(TLD,S_DOMAIN$1).on(DOMAIN,S_DOMAIN$1).on(LOCALHOST,S_TLD).on(NUM,S_DOMAIN$1),S_PROTOCOL_SLASH_SLASH.on(TLD,S_URL).on(DOMAIN,S_URL).on(NUM,S_URL).on(LOCALHOST,S_URL),S_DOMAIN$1.on(DOT,S_DOMAIN_DOT),S_EMAIL_DOMAIN.on(DOT,S_EMAIL_DOMAIN_DOT),S_DOMAIN_DOT.on(TLD,S_TLD).on(DOMAIN,S_DOMAIN$1).on(NUM,S_DOMAIN$1).on(LOCALHOST,S_DOMAIN$1),S_EMAIL_DOMAIN_DOT.on(TLD,S_EMAIL).on(DOMAIN,S_EMAIL_DOMAIN).on(NUM,S_EMAIL_DOMAIN).on(LOCALHOST,S_EMAIL_DOMAIN),S_TLD.on(DOT,S_DOMAIN_DOT),S_EMAIL.on(DOT,S_EMAIL_DOMAIN_DOT),S_TLD.on(COLON,S_TLD_COLON).on(SLASH,S_URL),S_TLD_COLON.on(NUM,S_TLD_PORT),S_TLD_PORT.on(SLASH,S_URL),S_EMAIL.on(COLON,S_EMAIL_COLON),S_EMAIL_COLON.on(NUM,S_EMAIL_PORT);var qsAccepting=[DOMAIN,AT,LOCALHOST,NUM,PLUS,POUND,PROTOCOL,SLASH,TLD,UNDERSCORE,SYM,AMPERSAND],qsNonAccepting=[COLON,DOT,QUERY,PUNCTUATION,CLOSEBRACE,CLOSEBRACKET,CLOSEANGLEBRACKET,CLOSEPAREN,OPENBRACE,OPENBRACKET,OPENANGLEBRACKET,OPENPAREN];S_URL.on(OPENBRACE,S_URL_OPENBRACE).on(OPENBRACKET,S_URL_OPENBRACKET).on(OPENANGLEBRACKET,S_URL_OPENANGLEBRACKET).on(OPENPAREN,S_URL_OPENPAREN),S_URL_NON_ACCEPTING.on(OPENBRACE,S_URL_OPENBRACE).on(OPENBRACKET,S_URL_OPENBRACKET).on(OPENANGLEBRACKET,S_URL_OPENANGLEBRACKET).on(OPENPAREN,S_URL_OPENPAREN),S_URL_OPENBRACE.on(CLOSEBRACE,S_URL),S_URL_OPENBRACKET.on(CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET.on(CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN.on(CLOSEPAREN,S_URL),S_URL_OPENBRACE_Q.on(CLOSEBRACE,S_URL),S_URL_OPENBRACKET_Q.on(CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET_Q.on(CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN_Q.on(CLOSEPAREN,S_URL),S_URL_OPENBRACE_SYMS.on(CLOSEBRACE,S_URL),S_URL_OPENBRACKET_SYMS.on(CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET_SYMS.on(CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN_SYMS.on(CLOSEPAREN,S_URL),S_URL_OPENBRACE.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE.on(qsNonAccepting,S_URL_OPENBRACE_SYMS),S_URL_OPENBRACKET.on(qsNonAccepting,S_URL_OPENBRACKET_SYMS),S_URL_OPENANGLEBRACKET.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENPAREN.on(qsNonAccepting,S_URL_OPENPAREN_SYMS),S_URL_OPENBRACE_Q.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_Q.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_Q.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_Q.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_Q.on(qsNonAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_Q.on(qsNonAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_Q.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_Q.on(qsNonAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_SYMS.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_SYMS.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_SYMS.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_SYMS.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_SYMS.on(qsNonAccepting,S_URL_OPENBRACE_SYMS),S_URL_OPENBRACKET_SYMS.on(qsNonAccepting,S_URL_OPENBRACKET_SYMS),S_URL_OPENANGLEBRACKET_SYMS.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENPAREN_SYMS.on(qsNonAccepting,S_URL_OPENPAREN_SYMS),S_URL.on(qsAccepting,S_URL),S_URL_NON_ACCEPTING.on(qsAccepting,S_URL),S_URL.on(qsNonAccepting,S_URL_NON_ACCEPTING),S_URL_NON_ACCEPTING.on(qsNonAccepting,S_URL_NON_ACCEPTING),S_MAILTO$1.on(TLD,S_MAILTO_EMAIL).on(DOMAIN,S_MAILTO_EMAIL).on(NUM,S_MAILTO_EMAIL).on(LOCALHOST,S_MAILTO_EMAIL),S_MAILTO_EMAIL.on(qsAccepting,S_MAILTO_EMAIL).on(qsNonAccepting,S_MAILTO_EMAIL_NON_ACCEPTING),S_MAILTO_EMAIL_NON_ACCEPTING.on(qsAccepting,S_MAILTO_EMAIL).on(qsNonAccepting,S_MAILTO_EMAIL_NON_ACCEPTING);var localpartAccepting=[DOMAIN,NUM,PLUS,POUND,QUERY,UNDERSCORE,SYM,AMPERSAND,TLD];S_DOMAIN$1.on(localpartAccepting,S_LOCALPART).on(AT,S_LOCALPART_AT),S_TLD.on(localpartAccepting,S_LOCALPART).on(AT,S_LOCALPART_AT),S_DOMAIN_DOT.on(localpartAccepting,S_LOCALPART),S_LOCALPART.on(localpartAccepting,S_LOCALPART).on(AT,S_LOCALPART_AT).on(DOT,S_LOCALPART_DOT),S_LOCALPART_DOT.on(localpartAccepting,S_LOCALPART),S_LOCALPART_AT.on(TLD,S_EMAIL_DOMAIN).on(DOMAIN,S_EMAIL_DOMAIN).on(LOCALHOST,S_EMAIL);var run$1=function run$1(tokens){for(var len=tokens.length,cursor=0,multis=[],textTokens=[];cursor<len;){for(var state=S_START$1,secondState=null,nextState=null,multiLength=0,latestAccepting=null,sinceAccepts=-1;cursor<len&&!(secondState=state.next(tokens[cursor]));)textTokens.push(tokens[cursor++]);for(;cursor<len&&(nextState=secondState||state.next(tokens[cursor]));)secondState=null,(state=nextState).accepts()?(sinceAccepts=0,latestAccepting=state):0<=sinceAccepts&&sinceAccepts++,cursor++,multiLength++;if(sinceAccepts<0)for(var _i3=cursor-multiLength;_i3<cursor;_i3++)textTokens.push(tokens[_i3]);else{0<textTokens.length&&(multis.push(new TEXT(textTokens)),textTokens=[]),cursor-=sinceAccepts,multiLength-=sinceAccepts;var MULTI=latestAccepting.emit();multis.push(new MULTI(tokens.slice(cursor-multiLength,cursor)))}}return 0<textTokens.length&&multis.push(new TEXT(textTokens)),multis},parser=Object.freeze({State:TokenState,TOKENS:multi,run:run$1,start:S_START$1});Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)});var tokenize=function tokenize(str){return run$1(run(str))},find=function find(str,argument_1){for(var type=1<arguments.length&&argument_1!==undefined?arguments[1]:null,tokens=tokenize(str),filtered=[],i=0;i<tokens.length;i++){var token=tokens[i];!token.isLink||type&&token.type!==type||filtered.push(token.toObject())}return filtered},test=function test(str,argument_1){var type=1<arguments.length&&argument_1!==undefined?arguments[1]:null,tokens=tokenize(str);return 1===tokens.length&&tokens[0].isLink&&(!type||tokens[0].type===type)};exports.find=find,exports.inherits=inherits,exports.options=options,exports.parser=parser,exports.scanner=scanner,exports.test=test,exports.tokenize=tokenize}(self.linkify=self.linkify||{})}();